var Vue3Autocounter=function(t){"use strict";function n(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],i=!0,e=!1,u=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done)&&(r.push(a.value),!n||r.length!==n);i=!0);}catch(t){e=!0,u=t}finally{try{i||null==o.return||o.return()}finally{if(e)throw u}}return r}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return r(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=t[r];return i}var i=t.defineComponent({name:"Vue3Autocounter",interval:null,props:{startAmount:{type:Number,default:0},endAmount:{type:Number,default:0,required:!0},duration:{type:Number,default:3,validator:function(t){return t>=1}},autoinit:{type:Boolean,default:!0},prefix:{type:String,default:""},suffix:{type:String,default:""},separator:{type:String,default:","},decimalSeparator:{type:String,default:"."},decimals:{type:Number,default:0,validator:function(t){return t>=0}}},data:function(){return{timestamp:0,startTimestamp:0,currentAmount:0,currentStartAmount:0,currentDuration:0,paused:!1,remaining:0,animationFrame:0}},mounted:function(){this.currentAmount=this.startAmount,this.currentStartAmount=this.startAmount,this.currentDuration=1e3*this.duration,this.remaining=1e3*this.duration,this.autoinit?this.start():this.paused=!0,this.$emit("mounted")},unmounted:function(){this.cancelAnimation()},watch:{startAmount:function(){this.reset()},endAmount:function(){this.reset()},duration:function(){this.reset()}},computed:{isCountingUp:function(){return this.endAmount>this.startAmount},displayedAmount:function(){return"".concat(this.prefix).concat(this.formatedAmount).concat(this.suffix)},formatedAmount:function(){var t=/(\d+)(\d{3})/,n=this.currentAmount.toFixed(this.decimals),r=(n+="").split("."),i=r[0],e=r.length>1?this.decimalSeparator+r[1]:"",u=!isNaN(parseFloat(this.separator));if(this.separator&&!u)for(;t.test(i);)i=i.replace(t,"$1"+this.separator+"$2");return i+e}},methods:{start:function(){this.cancelAnimation(),this.currentStartAmount=this.startAmount,this.startTimestamp=null,this.currentDuration=1e3*this.duration,this.paused=!1,this.animationFrame=window.requestAnimationFrame(this.counting)},pause:function(){this.paused||(this.cancelAnimation(),this.paused=!0)},resume:function(){this.paused&&(this.startTimestamp=null,this.currentDuration=+this.remaining,this.currentStartAmount=+this.currentAmount,this.animationFrame=window.requestAnimationFrame(this.counting),this.paused=!1)},reset:function(){this.paused=!1,this.startTimestamp=null,this.cancelAnimation(),this.currentAmount=this.startAmount,this.autoinit?this.start():this.paused=!0},counting:function(t){var n=this;this.timestamp=t,this.startTimestamp||(this.startTimestamp=t);var r=t-this.startTimestamp;this.remaining=this.currentDuration-r,this.isCountingUp?(this.currentAmount=this.currentStartAmount+(this.endAmount-this.currentStartAmount)*(r/this.currentDuration),this.currentAmount=this.currentAmount>this.endAmount?this.endAmount:this.currentAmount):(this.currentAmount=this.currentStartAmount-(this.currentStartAmount-this.endAmount)*(r/this.currentDuration),this.currentAmount=this.currentAmount<this.endAmount?this.endAmount:this.currentAmount),r<this.currentDuration?this.animationFrame=window.requestAnimationFrame(this.counting):setTimeout((function(){n.$emit("finished")}),1e3)},cancelAnimation:function(){this.animationFrame&&window.cancelAnimationFrame(this.animationFrame)}}});i.render=function(n,r,i,e,u,a){return t.openBlock(),t.createBlock("span",null,t.toDisplayString(n.displayedAmount),1)};var e=function(){var t=i;return t.install=function(n){n.component("Vue3Autocounter",t)},t}(),u=Object.freeze({__proto__:null,default:e});return Object.entries(u).forEach((function(t){var r=n(t,2),i=r[0],u=r[1];"default"!==i&&(e[i]=u)})),e}(Vue);
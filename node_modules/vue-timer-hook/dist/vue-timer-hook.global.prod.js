/*!
  * vue-timer-hook v1.0.0
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
var VueRouter=function(e,t){"use strict";class n{static getTimeFromSeconds(e){const n=t.computed((()=>Math.ceil(e.value))),o=t.computed((()=>Math.floor(n.value/86400))),r=t.computed((()=>Math.floor(n.value%86400/3600))),s=t.computed((()=>Math.floor(n.value%3600/60)));return{seconds:t.computed((()=>Math.floor(n.value%60))),minutes:s,hours:r,days:o}}static getSecondsFromExpiry(e,t){const n=e-(new Date).getTime();if(n>0){const e=n/1e3;return t?Math.round(e):e}return 0}static getSecondsFromPrevTime(e,t){const n=(new Date).getTime()-e;if(n>0){const e=n/1e3;return t?Math.round(e):e}return 0}static getSecondsFromTimeNow(){const e=new Date;return e.getTime()/1e3-60*e.getTimezoneOffset()}static getFormattedTimeFromSeconds(e,o){const{seconds:r,minutes:s,hours:i}=n.getTimeFromSeconds(e),u=t.computed((()=>"12-hour"===o?i.value>=12?"pm":"am":""));return{seconds:r,minutes:s,hours:t.computed((()=>"12-hour"===o?i.value%12:i.value)),ampm:u}}}function o(e,t){let n;const o=()=>{n&&(clearInterval(n),n=void 0)},r=r=>{if(o(),!r&&!t)return;return n=setInterval(e,r||t)};return"number"==typeof t&&r(),{remove:o,start:r}}const r=1e3;function s(e){if(!class{static expiryTimestamp(e){const t=new Date(e).getTime()>0;return t||console.warn("vue-timer-hook: { useTimer } Invalid expiryTimestamp settings",e),t}}.expiryTimestamp(e))return null;const t=n.getSecondsFromExpiry(e),o=Math.floor(1e3*(t-Math.floor(t)));return o>0?o:r}const i=()=>(new Date).getTime();return e.useStopwatch=(e=60,r=!0)=>{let s;const u=t.ref(e),a=t.ref(i()),c=t.ref(u.value+n.getSecondsFromPrevTime(a.value||0,!0)),m=t.ref(r);function d(){a.value=i(),m.value=!0,c.value=u.value+n.getSecondsFromPrevTime(a.value,!0),s=o((()=>{c.value=u.value+n.getSecondsFromPrevTime(a.value,!0)}),!!m.value&&1e3)}function l(){u.value=c.value,m.value=!1,s&&s.remove()}return m.value&&d(),{...n.getTimeFromSeconds(c),start:d,pause:l,reset:function(e=0,t=!0){l(),m.value=t,u.value=e,c.value=+u.value,n.getSecondsFromPrevTime(a.value,!0),m.value&&d()},isRunning:m}},e.useTime=(e="24-hour")=>{const r=t.ref(n.getSecondsFromTimeNow());return o((()=>{r.value=n.getSecondsFromTimeNow()}),1e3),{...n.getFormattedTimeFromSeconds(r,e)}},e.useTimer=(e=60,i=!0)=>{let u;const a=t.reactive({expiryTimestamp:e,seconds:n.getSecondsFromExpiry(e),isRunning:i,isExpired:!1,didStart:i,delay:s(e)});function c(){a.isRunning=!1,u&&u.remove()}function m(t=e,o=!0){c(),a.delay=s(t),a.didStart=o,a.isExpired=!1,a.expiryTimestamp=t,a.seconds=n.getSecondsFromExpiry(t),a.didStart&&l()}function d(){const e=new Date;m(e.setMilliseconds(e.getMilliseconds()+1e3*a.seconds))}function l(){a.didStart?(a.seconds=n.getSecondsFromExpiry(a.expiryTimestamp),a.isRunning=!0,u=o((()=>{a.delay!==r&&(a.delay=r);const e=n.getSecondsFromExpiry(a.expiryTimestamp);a.seconds=e,e<=0&&(a.isExpired=!0,a.isRunning=!1,a.delay=null,u&&u.remove())}),a.isRunning?a.delay:null)):d()}return m(e,i),{...n.getTimeFromSeconds(t.toRef(a,"seconds")),start:l,pause:c,resume:d,restart:m,isRunning:t.toRef(a,"isRunning"),isExpired:t.toRef(a,"isExpired")}},Object.defineProperty(e,"__esModule",{value:!0}),e}({},Vue);

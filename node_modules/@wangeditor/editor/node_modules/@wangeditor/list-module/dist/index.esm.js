import{i18nAddResources as t,DomEditor as e,t as r}from"@wangeditor/core";import{jsx as n}from"snabbdom";import{Text as o,Editor as i,Transforms as u,Node as c,Element as a}from"slate";import l from"dom7";t("en",{listModule:{unOrderedList:"Unordered list",orderedList:"Ordered list"}}),t("zh-CN",{listModule:{unOrderedList:"无序列表",orderedList:"有序列表"}});var f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t){var e={exports:{}};return t(e,e.exports),e.exports}var p,d,v=function(t){return t&&t.Math==Math&&t},y=v("object"==typeof globalThis&&globalThis)||v("object"==typeof window&&window)||v("object"==typeof self&&self)||v("object"==typeof f&&f)||function(){return this}()||Function("return this")(),h=function(t){try{return!!t()}catch(t){return!0}},g=!h((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),m=Function.prototype.call,b=m.bind?m.bind(m):function(){return m.apply(m,arguments)},x={}.propertyIsEnumerable,w=Object.getOwnPropertyDescriptor,O={f:w&&!x.call({1:2},1)?function(t){var e=w(this,t);return!!e&&e.enumerable}:x},S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},E=Function.prototype,j=E.bind,T=E.call,I=j&&j.bind(T),A=j?function(t){return t&&I(T,t)}:function(t){return t&&function(){return T.apply(t,arguments)}},N=A({}.toString),M=A("".slice),P=function(t){return M(N(t),8,-1)},R=y.Object,_=A("".split),k=h((function(){return!R("z").propertyIsEnumerable(0)}))?function(t){return"String"==P(t)?_(t,""):R(t)}:R,H=y.TypeError,z=function(t){if(null==t)throw H("Can't call method on "+t);return t},L=function(t){return k(z(t))},C=function(t){return"function"==typeof t},F=function(t){return"object"==typeof t?null!==t:C(t)},$=function(t){return C(t)?t:void 0},B=function(t,e){return arguments.length<2?$(y[t]):y[t]&&y[t][e]},D=A({}.isPrototypeOf),V=B("navigator","userAgent")||"",G=y.process,U=y.Deno,K=G&&G.versions||U&&U.version,W=K&&K.v8;W&&(d=(p=W.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!d&&V&&(!(p=V.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=V.match(/Chrome\/(\d+)/))&&(d=+p[1]);var Y=d,q=!!Object.getOwnPropertySymbols&&!h((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Y&&Y<41})),X=q&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,J=y.Object,Q=X?function(t){return"symbol"==typeof t}:function(t){var e=B("Symbol");return C(e)&&D(e.prototype,J(t))},Z=y.String,tt=y.TypeError,et=function(t){if(C(t))return t;throw tt(function(t){try{return Z(t)}catch(t){return"Object"}}(t)+" is not a function")},rt=function(t,e){var r=t[e];return null==r?void 0:et(r)},nt=y.TypeError,ot=Object.defineProperty,it=function(t,e){try{ot(y,t,{value:e,configurable:!0,writable:!0})}catch(r){y[t]=e}return e},ut=y["__core-js_shared__"]||it("__core-js_shared__",{}),ct=s((function(t){(t.exports=function(t,e){return ut[t]||(ut[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),at=y.Object,lt=function(t){return at(z(t))},ft=A({}.hasOwnProperty),st=Object.hasOwn||function(t,e){return ft(lt(t),e)},pt=0,dt=Math.random(),vt=A(1..toString),yt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+vt(++pt+dt,36)},ht=ct("wks"),gt=y.Symbol,mt=gt&&gt.for,bt=X?gt:gt&&gt.withoutSetter||yt,xt=function(t){if(!st(ht,t)||!q&&"string"!=typeof ht[t]){var e="Symbol."+t;q&&st(gt,t)?ht[t]=gt[t]:ht[t]=X&&mt?mt(e):bt(e)}return ht[t]},wt=y.TypeError,Ot=xt("toPrimitive"),St=function(t,e){if(!F(t)||Q(t))return t;var r,n=rt(t,Ot);if(n){if(void 0===e&&(e="default"),r=b(n,t,e),!F(r)||Q(r))return r;throw wt("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var r,n;if("string"===e&&C(r=t.toString)&&!F(n=b(r,t)))return n;if(C(r=t.valueOf)&&!F(n=b(r,t)))return n;if("string"!==e&&C(r=t.toString)&&!F(n=b(r,t)))return n;throw nt("Can't convert object to primitive value")}(t,e)},Et=function(t){var e=St(t,"string");return Q(e)?e:e+""},jt=y.document,Tt=F(jt)&&F(jt.createElement),It=function(t){return Tt?jt.createElement(t):{}},At=!g&&!h((function(){return 7!=Object.defineProperty(It("div"),"a",{get:function(){return 7}}).a})),Nt=Object.getOwnPropertyDescriptor,Mt={f:g?Nt:function(t,e){if(t=L(t),e=Et(e),At)try{return Nt(t,e)}catch(t){}if(st(t,e))return S(!b(O.f,t,e),t[e])}},Pt=y.String,Rt=y.TypeError,_t=function(t){if(F(t))return t;throw Rt(Pt(t)+" is not an object")},kt=y.TypeError,Ht=Object.defineProperty,zt={f:g?Ht:function(t,e,r){if(_t(t),e=Et(e),_t(r),At)try{return Ht(t,e,r)}catch(t){}if("get"in r||"set"in r)throw kt("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},Lt=g?function(t,e,r){return zt.f(t,e,S(1,r))}:function(t,e,r){return t[e]=r,t},Ct=A(Function.toString);C(ut.inspectSource)||(ut.inspectSource=function(t){return Ct(t)});var Ft,$t,Bt,Dt=ut.inspectSource,Vt=y.WeakMap,Gt=C(Vt)&&/native code/.test(Dt(Vt)),Ut=ct("keys"),Kt=function(t){return Ut[t]||(Ut[t]=yt(t))},Wt={},Yt=y.TypeError,qt=y.WeakMap;if(Gt||ut.state){var Xt=ut.state||(ut.state=new qt),Jt=A(Xt.get),Qt=A(Xt.has),Zt=A(Xt.set);Ft=function(t,e){if(Qt(Xt,t))throw new Yt("Object already initialized");return e.facade=t,Zt(Xt,t,e),e},$t=function(t){return Jt(Xt,t)||{}},Bt=function(t){return Qt(Xt,t)}}else{var te=Kt("state");Wt[te]=!0,Ft=function(t,e){if(st(t,te))throw new Yt("Object already initialized");return e.facade=t,Lt(t,te,e),e},$t=function(t){return st(t,te)?t[te]:{}},Bt=function(t){return st(t,te)}}var ee,re={set:Ft,get:$t,has:Bt,enforce:function(t){return Bt(t)?$t(t):Ft(t,{})},getterFor:function(t){return function(e){var r;if(!F(e)||(r=$t(e)).type!==t)throw Yt("Incompatible receiver, "+t+" required");return r}}},ne=Function.prototype,oe=g&&Object.getOwnPropertyDescriptor,ie=st(ne,"name"),ue={EXISTS:ie,PROPER:ie&&"something"===function(){}.name,CONFIGURABLE:ie&&(!g||g&&oe(ne,"name").configurable)},ce=s((function(t){var e=ue.CONFIGURABLE,r=re.get,n=re.enforce,o=String(String).split("String");(t.exports=function(t,r,i,u){var c,a=!!u&&!!u.unsafe,l=!!u&&!!u.enumerable,f=!!u&&!!u.noTargetGet,s=u&&void 0!==u.name?u.name:r;C(i)&&("Symbol("===String(s).slice(0,7)&&(s="["+String(s).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!st(i,"name")||e&&i.name!==s)&&Lt(i,"name",s),(c=n(i)).source||(c.source=o.join("string"==typeof s?s:""))),t!==y?(a?!f&&t[r]&&(l=!0):delete t[r],l?t[r]=i:Lt(t,r,i)):l?t[r]=i:it(r,i)})(Function.prototype,"toString",(function(){return C(this)&&r(this).source||Dt(this)}))})),ae=Math.ceil,le=Math.floor,fe=function(t){var e=+t;return e!=e||0===e?0:(e>0?le:ae)(e)},se=Math.max,pe=Math.min,de=Math.min,ve=function(t){return t>0?de(fe(t),9007199254740991):0},ye=function(t){return ve(t.length)},he=function(t){return function(e,r,n){var o,i=L(e),u=ye(i),c=function(t,e){var r=fe(t);return r<0?se(r+e,0):pe(r,e)}(n,u);if(t&&r!=r){for(;u>c;)if((o=i[c++])!=o)return!0}else for(;u>c;c++)if((t||c in i)&&i[c]===r)return t||c||0;return!t&&-1}},ge={includes:he(!0),indexOf:he(!1)},me=ge.indexOf,be=A([].push),xe=function(t,e){var r,n=L(t),o=0,i=[];for(r in n)!st(Wt,r)&&st(n,r)&&be(i,r);for(;e.length>o;)st(n,r=e[o++])&&(~me(i,r)||be(i,r));return i},we=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Oe=we.concat("length","prototype"),Se={f:Object.getOwnPropertyNames||function(t){return xe(t,Oe)}},Ee={f:Object.getOwnPropertySymbols},je=A([].concat),Te=B("Reflect","ownKeys")||function(t){var e=Se.f(_t(t)),r=Ee.f;return r?je(e,r(t)):e},Ie=function(t,e){for(var r=Te(e),n=zt.f,o=Mt.f,i=0;i<r.length;i++){var u=r[i];st(t,u)||n(t,u,o(e,u))}},Ae=/#|\.prototype\./,Ne=function(t,e){var r=Pe[Me(t)];return r==_e||r!=Re&&(C(e)?h(e):!!e)},Me=Ne.normalize=function(t){return String(t).replace(Ae,".").toLowerCase()},Pe=Ne.data={},Re=Ne.NATIVE="N",_e=Ne.POLYFILL="P",ke=Ne,He=Mt.f,ze=function(t,e){var r,n,o,i,u,c=t.target,a=t.global,l=t.stat;if(r=a?y:l?y[c]||it(c,{}):(y[c]||{}).prototype)for(n in e){if(i=e[n],o=t.noTargetGet?(u=He(r,n))&&u.value:r[n],!ke(a?n:c+(l?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ie(i,o)}(t.sham||o&&o.sham)&&Lt(i,"sham",!0),ce(r,n,i,t)}},Le=Object.keys||function(t){return xe(t,we)},Ce=g?Object.defineProperties:function(t,e){_t(t);for(var r,n=L(e),o=Le(e),i=o.length,u=0;i>u;)zt.f(t,r=o[u++],n[r]);return t},Fe=B("document","documentElement"),$e=Kt("IE_PROTO"),Be=function(){},De=function(t){return"<script>"+t+"<\/script>"},Ve=function(t){t.write(De("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ge=function(){try{ee=new ActiveXObject("htmlfile")}catch(t){}var t,e;Ge="undefined"!=typeof document?document.domain&&ee?Ve(ee):((e=It("iframe")).style.display="none",Fe.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(De("document.F=Object")),t.close(),t.F):Ve(ee);for(var r=we.length;r--;)delete Ge.prototype[we[r]];return Ge()};Wt[$e]=!0;var Ue=Object.create||function(t,e){var r;return null!==t?(Be.prototype=_t(t),r=new Be,Be.prototype=null,r[$e]=t):r=Ge(),void 0===e?r:Ce(r,e)},Ke=xt("unscopables"),We=Array.prototype;null==We[Ke]&&zt.f(We,Ke,{configurable:!0,value:Ue(null)});var Ye,qe=ge.includes;function Xe(t){if("bulleted-list"===t)return"ul";if("numbered-list"===t)return"ol";if("list-item"===t)return"li";throw new Error("list type '"+t+"' is invalid")}function Je(t){var r=e.getNodeType(t);return["bulleted-list","numbered-list"].includes(r)}function Qe(t){return function(e,r,o){var i=Xe(t);return n(i,null,r)}}ze({target:"Array",proto:!0},{includes:function(t){return qe(this,t,arguments.length>1?arguments[1]:void 0)}}),Ye="includes",We[Ke][Ye]=!0;var Ze={type:"bulleted-list",renderElem:Qe("bulleted-list")},tr={type:"numbered-list",renderElem:Qe("numbered-list")},er={type:"list-item",renderElem:Qe("list-item")};function rr(t){var e=Xe(t);return function(t,r){return"<"+e+">"+r+"</"+e+">"}}var nr={type:"bulleted-list",elemToHtml:rr("bulleted-list")},or={type:"numbered-list",elemToHtml:rr("numbered-list")},ir={type:"list-item",elemToHtml:rr("list-item")},ur=A(A.bind),cr=Array.isArray||function(t){return"Array"==P(t)},ar={};ar[xt("toStringTag")]="z";var lr="[object z]"===String(ar),fr=xt("toStringTag"),sr=y.Object,pr="Arguments"==P(function(){return arguments}()),dr=lr?P:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=sr(t),fr))?r:pr?P(e):"Object"==(n=P(e))&&C(e.callee)?"Arguments":n},vr=function(){},yr=[],hr=B("Reflect","construct"),gr=/^\s*(?:class|function)\b/,mr=A(gr.exec),br=!gr.exec(vr),xr=function(t){if(!C(t))return!1;try{return hr(vr,yr,t),!0}catch(t){return!1}},wr=!hr||h((function(){var t;return xr(xr.call)||!xr(Object)||!xr((function(){t=!0}))||t}))?function(t){if(!C(t))return!1;switch(dr(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return br||!!mr(gr,Dt(t))}:xr,Or=xt("species"),Sr=y.Array,Er=function(t,e){return new(function(t){var e;return cr(t)&&(e=t.constructor,(wr(e)&&(e===Sr||cr(e.prototype))||F(e)&&null===(e=e[Or]))&&(e=void 0)),void 0===e?Sr:e}(t))(0===e?0:e)},jr=A([].push),Tr=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,u=7==t,c=5==t||i;return function(a,l,f,s){for(var p,d,v=lt(a),y=k(v),h=function(t,e){return et(t),void 0===e?t:ur?ur(t,e):function(){return t.apply(e,arguments)}}(l,f),g=ye(y),m=0,b=s||Er,x=e?b(a,g):r||u?b(a,0):void 0;g>m;m++)if((c||m in y)&&(d=h(p=y[m],m,v),t))if(e)x[m]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:jr(x,p)}else switch(t){case 4:return!1;case 7:jr(x,p)}return i?-1:n||o?o:x}},Ir={forEach:Tr(0),map:Tr(1),filter:Tr(2),some:Tr(3),every:Tr(4),find:Tr(5),findIndex:Tr(6),filterReject:Tr(7)},Ar=xt("species"),Nr=function(t){return Y>=51||!h((function(){var e=[];return(e.constructor={})[Ar]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Mr=Ir.filter;ze({target:"Array",proto:!0,forced:!Nr("filter")},{filter:function(t){return Mr(this,t,arguments.length>1?arguments[1]:void 0)}});var Pr=lr?{}.toString:function(){return"[object "+dr(this)+"]"};lr||ce(Object.prototype,"toString",Pr,{unsafe:!0});var Rr,_r,kr=y.String,Hr=function(t){if("Symbol"===dr(t))throw TypeError("Cannot convert a Symbol value to a string");return kr(t)},zr=function(){var t=_t(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Lr=y.RegExp,Cr=h((function(){var t=Lr("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),Fr=Cr||h((function(){return!Lr("a","y").sticky})),$r={BROKEN_CARET:Cr||h((function(){var t=Lr("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:Fr,UNSUPPORTED_Y:Cr},Br=y.RegExp,Dr=h((function(){var t=Br(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),Vr=y.RegExp,Gr=h((function(){var t=Vr("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),Ur=re.get,Kr=ct("native-string-replace",String.prototype.replace),Wr=RegExp.prototype.exec,Yr=Wr,qr=A("".charAt),Xr=A("".indexOf),Jr=A("".replace),Qr=A("".slice),Zr=(_r=/b*/g,b(Wr,Rr=/a/,"a"),b(Wr,_r,"a"),0!==Rr.lastIndex||0!==_r.lastIndex),tn=$r.BROKEN_CARET,en=void 0!==/()??/.exec("")[1];(Zr||en||tn||Dr||Gr)&&(Yr=function(t){var e,r,n,o,i,u,c,a=this,l=Ur(a),f=Hr(t),s=l.raw;if(s)return s.lastIndex=a.lastIndex,e=b(Yr,s,f),a.lastIndex=s.lastIndex,e;var p=l.groups,d=tn&&a.sticky,v=b(zr,a),y=a.source,h=0,g=f;if(d&&(v=Jr(v,"y",""),-1===Xr(v,"g")&&(v+="g"),g=Qr(f,a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==qr(f,a.lastIndex-1))&&(y="(?: "+y+")",g=" "+g,h++),r=new RegExp("^(?:"+y+")",v)),en&&(r=new RegExp("^"+y+"$(?!\\s)",v)),Zr&&(n=a.lastIndex),o=b(Wr,d?r:a,g),d?o?(o.input=Qr(o.input,h),o[0]=Qr(o[0],h),o.index=a.lastIndex,a.lastIndex+=o[0].length):a.lastIndex=0:Zr&&o&&(a.lastIndex=a.global?o.index+o[0].length:n),en&&o&&o.length>1&&b(Kr,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&p)for(o.groups=u=Ue(null),i=0;i<p.length;i++)u[(c=p[i])[0]]=o[c[1]];return o});var rn=Yr;ze({target:"RegExp",proto:!0,forced:/./.exec!==rn},{exec:rn});var nn=Function.prototype,on=nn.apply,un=nn.bind,cn=nn.call,an="object"==typeof Reflect&&Reflect.apply||(un?cn.bind(on):function(){return cn.apply(on,arguments)}),ln=xt("species"),fn=RegExp.prototype,sn=A("".charAt),pn=A("".charCodeAt),dn=A("".slice),vn=function(t){return function(e,r){var n,o,i=Hr(z(e)),u=fe(r),c=i.length;return u<0||u>=c?t?"":void 0:(n=pn(i,u))<55296||n>56319||u+1===c||(o=pn(i,u+1))<56320||o>57343?t?sn(i,u):n:t?dn(i,u,u+2):o-56320+(n-55296<<10)+65536}},yn={codeAt:vn(!1),charAt:vn(!0)}.charAt,hn=function(t,e,r){return e+(r?yn(t,e).length:1)},gn=Math.floor,mn=A("".charAt),bn=A("".replace),xn=A("".slice),wn=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,On=/\$([$&'`]|\d{1,2})/g,Sn=function(t,e,r,n,o,i){var u=r+t.length,c=n.length,a=On;return void 0!==o&&(o=lt(o),a=wn),bn(i,a,(function(i,a){var l;switch(mn(a,0)){case"$":return"$";case"&":return t;case"`":return xn(e,0,r);case"'":return xn(e,u);case"<":l=o[xn(a,1,-1)];break;default:var f=+a;if(0===f)return i;if(f>c){var s=gn(f/10);return 0===s?i:s<=c?void 0===n[s-1]?mn(a,1):n[s-1]+mn(a,1):i}l=n[f-1]}return void 0===l?"":l}))},En=y.TypeError,jn=function(t,e){var r=t.exec;if(C(r)){var n=b(r,t,e);return null!==n&&_t(n),n}if("RegExp"===P(t))return b(rn,t,e);throw En("RegExp#exec called on incompatible receiver")},Tn=xt("replace"),In=Math.max,An=Math.min,Nn=A([].concat),Mn=A([].push),Pn=A("".indexOf),Rn=A("".slice),_n="$0"==="a".replace(/./,"$0"),kn=!!/./[Tn]&&""===/./[Tn]("a","$0");!function(t,e,r,n){var o=xt(t),i=!h((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),u=i&&!h((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[ln]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!u||r){var c=A(/./[o]),a=e(o,""[t],(function(t,e,r,n,o){var u=A(t),a=e.exec;return a===rn||a===fn.exec?i&&!o?{done:!0,value:c(e,r,n)}:{done:!0,value:u(r,e,n)}:{done:!1}}));ce(String.prototype,t,a[0]),ce(fn,o,a[1])}n&&Lt(fn[o],"sham",!0)}("replace",(function(t,e,r){var n=kn?"$":"$0";return[function(t,r){var n=z(this),o=null==t?void 0:rt(t,Tn);return o?b(o,t,n,r):b(e,Hr(n),t,r)},function(t,o){var i=_t(this),u=Hr(t);if("string"==typeof o&&-1===Pn(o,n)&&-1===Pn(o,"$<")){var c=r(e,i,u,o);if(c.done)return c.value}var a=C(o);a||(o=Hr(o));var l=i.global;if(l){var f=i.unicode;i.lastIndex=0}for(var s=[];;){var p=jn(i,u);if(null===p)break;if(Mn(s,p),!l)break;""===Hr(p[0])&&(i.lastIndex=hn(u,ve(i.lastIndex),f))}for(var d,v="",y=0,h=0;h<s.length;h++){for(var g=Hr((p=s[h])[0]),m=In(An(fe(p.index),u.length),0),b=[],x=1;x<p.length;x++)Mn(b,void 0===(d=p[x])?d:String(d));var w=p.groups;if(a){var O=Nn([g],b,m,u);void 0!==w&&Mn(O,w);var S=Hr(an(o,void 0,O))}else S=Sn(g,u,m,b,w,o);m>=y&&(v+=Rn(u,y,m)+S,y=m+g.length)}return v+Rn(u,y)}]}),!!h((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!_n||kn),ze({global:!0},{globalThis:y});var Hn={selector:"li",parseElemHtml:function(t,e,r){var n=l(t);return 0===(e=e.filter((function(t){return!!o.isText(t)||!!r.isInline(t)}))).length&&(e=[{text:n.text().replace(/\s+/gm," ")}]),{type:"list-item",children:e}}};var zn={selector:"ul",parseElemHtml:function(t,r,n){return{type:"bulleted-list",children:r.filter((function(t){return"list-item"===e.getNodeType(t)}))}}};var Ln={selector:"ol",parseElemHtml:function(t,r,n){return{type:"numbered-list",children:r.filter((function(t){return"list-item"===e.getNodeType(t)}))}}},Cn=function(t,e){return Cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Cn(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Fn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Cn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function $n(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u}var Bn,Dn=function(){function t(){this.tag="button"}return t.prototype.getListNode=function(t){var r=this.type;return e.getSelectedNodeByType(t,r)},t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!!this.getListNode(t)},t.prototype.isDisabled=function(t){return null==t.selection||!!e.getSelectedElems(t).some((function(e){if(i.isVoid(t,e)&&i.isBlock(t,e))return!0;var r=e.type;return!!["pre","code","table"].includes(r)||void 0}))},t.prototype.getMatchListType=function(t){var r=$n(i.nodes(t,{match:function(t){return Je(t)},universal:!0}),1),n=r[0];if(null==n)return"";var o=$n(n,1)[0];return e.getNodeType(o)},t.prototype.exec=function(t,e){var r=this.type,n=this.isActive(t);u.unwrapNodes(t,{match:function(t){return Je(t)},split:!0}),u.setNodes(t,{type:n?"paragraph":"list-item"});var o={type:r,children:[]};n||u.wrapNodes(t,o);var i=this.getMatchListType(t);""!=i&&i!==r&&u.wrapNodes(t,o)},t}(),Vn='<svg viewBox="0 0 1024 1024"><path d="M384 64h640v128H384V64z m0 384h640v128H384v-128z m0 384h640v128H384v-128zM0 128a128 128 0 1 1 256 0 128 128 0 0 1-256 0z m0 384a128 128 0 1 1 256 0 128 128 0 0 1-256 0z m0 384a128 128 0 1 1 256 0 128 128 0 0 1-256 0z"></path></svg>',Gn='<svg viewBox="0 0 1024 1024"><path d="M384 832h640v128H384z m0-384h640v128H384z m0-384h640v128H384zM192 0v256H128V64H64V0zM128 526.016v50.016h128v64H64v-146.016l128-60V384H64v-64h192v146.016zM256 704v320H64v-64h128v-64H64v-64h128v-64H64v-64z"></path></svg>',Un=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="bulleted-list",e.title=r("listModule.unOrderedList"),e.iconSvg=Vn,e}return Fn(e,t),e}(Dn),Kn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="numbered-list",e.title=r("listModule.orderedList"),e.iconSvg=Gn,e}return Fn(e,t),e}(Dn),Wn={key:"bulletedList",factory:function(){return new Un}},Yn={key:"numberedList",factory:function(){return new Kn}},qn=/"/g,Xn=A("".replace);ze({target:"String",proto:!0,forced:(Bn="anchor",h((function(){var t=""[Bn]('"');return t!==t.toLowerCase()||t.split('"').length>3})))},{anchor:function(t){return e="a",r="name",n=t,o=Hr(z(this)),i="<"+e,""!==r&&(i+=" "+r+'="'+Xn(Hr(n),qn,"&quot;")+'"'),i+">"+o+"</"+e+">";var e,r,n,o,i}});var Jn=function(t,e,r){var n=Et(e);n in t?zt.f(t,n,S(0,r)):t[n]=r},Qn=xt("isConcatSpreadable"),Zn=y.TypeError,to=Y>=51||!h((function(){var t=[];return t[Qn]=!1,t.concat()[0]!==t})),eo=Nr("concat"),ro=function(t){if(!F(t))return!1;var e=t[Qn];return void 0!==e?!!e:cr(t)};ze({target:"Array",proto:!0,forced:!to||!eo},{concat:function(t){var e,r,n,o,i,u=lt(this),c=Er(u,0),a=0;for(e=-1,n=arguments.length;e<n;e++)if(ro(i=-1===e?u:arguments[e])){if(a+(o=ye(i))>9007199254740991)throw Zn("Maximum allowed index exceeded");for(r=0;r<o;r++,a++)r in i&&Jn(c,a,i[r])}else{if(a>=9007199254740991)throw Zn("Maximum allowed index exceeded");Jn(c,a++,i)}return c.length=a,c}});var no={renderElems:[Ze,tr,er],elemsToHtml:[nr,or,ir],parseElemsHtml:[Hn,Ln,zn],menus:[Wn,Yn],editorPlugin:function(t){var r=t.insertBreak,n=t.deleteBackward;t.insertNode;var o=t;return o.insertBreak=function(){var t=o.selection;if(null!=t){var n=e.getSelectedNodeByType(o,"list-item");if(null!=n){var i=e.getParentNode(o,n),a=(null==i?void 0:i.children)||[];if(n===a[a.length-1])if(""===c.string(n)){u.removeNodes(o,{match:function(t){return e.checkNodeType(t,"list-item")}});var l=[t.anchor.path[0]+1];return u.insertNodes(o,{type:"paragraph",children:[{text:""}]},{at:l}),void o.select({path:l.concat(0),offset:0})}r()}else r()}else r()},o.deleteBackward=function(t){var e=function(t){var e=$n(i.nodes(t,{match:function(e){return t.children[0]===e},mode:"highest"}),1),r=e[0];if(null==r)return!1;var n=r[0];return!(!a.isElement(n)||c.string(n)||!Je(n)||(u.unwrapNodes(t,{match:function(t){return Je(t)},split:!0}),u.setNodes(t,{type:"paragraph"}),0))}(o);e||n(t)},o}};export{no as default};
//# sourceMappingURL=index.esm.js.map

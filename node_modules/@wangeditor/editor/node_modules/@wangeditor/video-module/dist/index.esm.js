import{i18nAddResources as t,DomEditor as e,t as r,genModalInputElems as n,genModalButtonElems as o,createUploader as i}from"@wangeditor/core";import{Transforms as u,Range as a}from"slate";import{jsx as c,h as f}from"snabbdom";import s,{append as l,on as d,focus as p,attr as v,val as h,html as y,parent as g,hasClass as m}from"dom7";import{nanoid as b}from"nanoid";t("en",{videoModule:{delete:"Delete",uploadVideo:"Upload video",insertVideo:"Insert video",videoSrc:"video source",insertPlaceHolder:"video file url, or third-party <iframe>",ok:"Ok"}}),t("zh-CN",{videoModule:{delete:"删除视频",uploadVideo:"上传视频",insertVideo:"插入视频",videoSrc:"视频地址",insertPlaceHolder:"视频文件 url 或第三方 <iframe>",ok:"确定"}});var w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function S(t){var e={exports:{}};return t(e,e.exports),e.exports}var x,O,j=function(t){return t&&t.Math==Math&&t},E=j("object"==typeof globalThis&&globalThis)||j("object"==typeof window&&window)||j("object"==typeof self&&self)||j("object"==typeof w&&w)||function(){return this}()||Function("return this")(),T=function(t){try{return!!t()}catch(t){return!0}},I=!T((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),P=Function.prototype.call,A=P.bind?P.bind(P):function(){return P.apply(P,arguments)},M={}.propertyIsEnumerable,k=Object.getOwnPropertyDescriptor,R=k&&!M.call({1:2},1)?function(t){var e=k(this,t);return!!e&&e.enumerable}:M,C={f:R},L=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},N=Function.prototype,F=N.bind,_=N.call,z=F&&F.bind(_),V=F?function(t){return t&&z(_,t)}:function(t){return t&&function(){return _.apply(t,arguments)}},D=V({}.toString),$=V("".slice),W=function(t){return $(D(t),8,-1)},B=E.Object,G=V("".split),H=T((function(){return!B("z").propertyIsEnumerable(0)}))?function(t){return"String"==W(t)?G(t,""):B(t)}:B,U=E.TypeError,K=function(t){if(null==t)throw U("Can't call method on "+t);return t},X=function(t){return H(K(t))},Y=function(t){return"function"==typeof t},q=function(t){return"object"==typeof t?null!==t:Y(t)},J=function(t){return Y(t)?t:void 0},Q=function(t,e){return arguments.length<2?J(E[t]):E[t]&&E[t][e]},Z=V({}.isPrototypeOf),tt=Q("navigator","userAgent")||"",et=E.process,rt=E.Deno,nt=et&&et.versions||rt&&rt.version,ot=nt&&nt.v8;ot&&(O=(x=ot.split("."))[0]>0&&x[0]<4?1:+(x[0]+x[1])),!O&&tt&&(!(x=tt.match(/Edge\/(\d+)/))||x[1]>=74)&&(x=tt.match(/Chrome\/(\d+)/))&&(O=+x[1]);var it=O,ut=!!Object.getOwnPropertySymbols&&!T((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&it&&it<41})),at=ut&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ct=E.Object,ft=at?function(t){return"symbol"==typeof t}:function(t){var e=Q("Symbol");return Y(e)&&Z(e.prototype,ct(t))},st=E.String,lt=function(t){try{return st(t)}catch(t){return"Object"}},dt=E.TypeError,pt=function(t){if(Y(t))return t;throw dt(lt(t)+" is not a function")},vt=function(t,e){var r=t[e];return null==r?void 0:pt(r)},ht=E.TypeError,yt=Object.defineProperty,gt=function(t,e){try{yt(E,t,{value:e,configurable:!0,writable:!0})}catch(r){E[t]=e}return e},mt=E["__core-js_shared__"]||gt("__core-js_shared__",{}),bt=S((function(t){(t.exports=function(t,e){return mt[t]||(mt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),wt=E.Object,St=function(t){return wt(K(t))},xt=V({}.hasOwnProperty),Ot=Object.hasOwn||function(t,e){return xt(St(t),e)},jt=0,Et=Math.random(),Tt=V(1..toString),It=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Tt(++jt+Et,36)},Pt=bt("wks"),At=E.Symbol,Mt=At&&At.for,kt=at?At:At&&At.withoutSetter||It,Rt=function(t){if(!Ot(Pt,t)||!ut&&"string"!=typeof Pt[t]){var e="Symbol."+t;ut&&Ot(At,t)?Pt[t]=At[t]:Pt[t]=at&&Mt?Mt(e):kt(e)}return Pt[t]},Ct=E.TypeError,Lt=Rt("toPrimitive"),Nt=function(t,e){if(!q(t)||ft(t))return t;var r,n=vt(t,Lt);if(n){if(void 0===e&&(e="default"),r=A(n,t,e),!q(r)||ft(r))return r;throw Ct("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var r,n;if("string"===e&&Y(r=t.toString)&&!q(n=A(r,t)))return n;if(Y(r=t.valueOf)&&!q(n=A(r,t)))return n;if("string"!==e&&Y(r=t.toString)&&!q(n=A(r,t)))return n;throw ht("Can't convert object to primitive value")}(t,e)},Ft=function(t){var e=Nt(t,"string");return ft(e)?e:e+""},_t=E.document,zt=q(_t)&&q(_t.createElement),Vt=function(t){return zt?_t.createElement(t):{}},Dt=!I&&!T((function(){return 7!=Object.defineProperty(Vt("div"),"a",{get:function(){return 7}}).a})),$t=Object.getOwnPropertyDescriptor,Wt={f:I?$t:function(t,e){if(t=X(t),e=Ft(e),Dt)try{return $t(t,e)}catch(t){}if(Ot(t,e))return L(!A(C.f,t,e),t[e])}},Bt=E.String,Gt=E.TypeError,Ht=function(t){if(q(t))return t;throw Gt(Bt(t)+" is not an object")},Ut=E.TypeError,Kt=Object.defineProperty,Xt={f:I?Kt:function(t,e,r){if(Ht(t),e=Ft(e),Ht(r),Dt)try{return Kt(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Ut("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},Yt=I?function(t,e,r){return Xt.f(t,e,L(1,r))}:function(t,e,r){return t[e]=r,t},qt=V(Function.toString);Y(mt.inspectSource)||(mt.inspectSource=function(t){return qt(t)});var Jt,Qt,Zt,te=mt.inspectSource,ee=E.WeakMap,re=Y(ee)&&/native code/.test(te(ee)),ne=bt("keys"),oe=function(t){return ne[t]||(ne[t]=It(t))},ie={},ue=E.TypeError,ae=E.WeakMap;if(re||mt.state){var ce=mt.state||(mt.state=new ae),fe=V(ce.get),se=V(ce.has),le=V(ce.set);Jt=function(t,e){if(se(ce,t))throw new ue("Object already initialized");return e.facade=t,le(ce,t,e),e},Qt=function(t){return fe(ce,t)||{}},Zt=function(t){return se(ce,t)}}else{var de=oe("state");ie[de]=!0,Jt=function(t,e){if(Ot(t,de))throw new ue("Object already initialized");return e.facade=t,Yt(t,de,e),e},Qt=function(t){return Ot(t,de)?t[de]:{}},Zt=function(t){return Ot(t,de)}}var pe={set:Jt,get:Qt,has:Zt,enforce:function(t){return Zt(t)?Qt(t):Jt(t,{})},getterFor:function(t){return function(e){var r;if(!q(e)||(r=Qt(e)).type!==t)throw ue("Incompatible receiver, "+t+" required");return r}}},ve=Function.prototype,he=I&&Object.getOwnPropertyDescriptor,ye=Ot(ve,"name"),ge={EXISTS:ye,PROPER:ye&&"something"===function(){}.name,CONFIGURABLE:ye&&(!I||I&&he(ve,"name").configurable)},me=S((function(t){var e=ge.CONFIGURABLE,r=pe.get,n=pe.enforce,o=String(String).split("String");(t.exports=function(t,r,i,u){var a,c=!!u&&!!u.unsafe,f=!!u&&!!u.enumerable,s=!!u&&!!u.noTargetGet,l=u&&void 0!==u.name?u.name:r;Y(i)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Ot(i,"name")||e&&i.name!==l)&&Yt(i,"name",l),(a=n(i)).source||(a.source=o.join("string"==typeof l?l:""))),t!==E?(c?!s&&t[r]&&(f=!0):delete t[r],f?t[r]=i:Yt(t,r,i)):f?t[r]=i:gt(r,i)})(Function.prototype,"toString",(function(){return Y(this)&&r(this).source||te(this)}))})),be=Math.ceil,we=Math.floor,Se=function(t){var e=+t;return e!=e||0===e?0:(e>0?we:be)(e)},xe=Math.max,Oe=Math.min,je=function(t,e){var r=Se(t);return r<0?xe(r+e,0):Oe(r,e)},Ee=Math.min,Te=function(t){return t>0?Ee(Se(t),9007199254740991):0},Ie=function(t){return Te(t.length)},Pe=function(t){return function(e,r,n){var o,i=X(e),u=Ie(i),a=je(n,u);if(t&&r!=r){for(;u>a;)if((o=i[a++])!=o)return!0}else for(;u>a;a++)if((t||a in i)&&i[a]===r)return t||a||0;return!t&&-1}},Ae={includes:Pe(!0),indexOf:Pe(!1)},Me=Ae.indexOf,ke=V([].push),Re=function(t,e){var r,n=X(t),o=0,i=[];for(r in n)!Ot(ie,r)&&Ot(n,r)&&ke(i,r);for(;e.length>o;)Ot(n,r=e[o++])&&(~Me(i,r)||ke(i,r));return i},Ce=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Le=Ce.concat("length","prototype"),Ne={f:Object.getOwnPropertyNames||function(t){return Re(t,Le)}},Fe={f:Object.getOwnPropertySymbols},_e=V([].concat),ze=Q("Reflect","ownKeys")||function(t){var e=Ne.f(Ht(t)),r=Fe.f;return r?_e(e,r(t)):e},Ve=function(t,e){for(var r=ze(e),n=Xt.f,o=Wt.f,i=0;i<r.length;i++){var u=r[i];Ot(t,u)||n(t,u,o(e,u))}},De=/#|\.prototype\./,$e=function(t,e){var r=Be[We(t)];return r==He||r!=Ge&&(Y(e)?T(e):!!e)},We=$e.normalize=function(t){return String(t).replace(De,".").toLowerCase()},Be=$e.data={},Ge=$e.NATIVE="N",He=$e.POLYFILL="P",Ue=$e,Ke=Wt.f,Xe=function(t,e){var r,n,o,i,u,a=t.target,c=t.global,f=t.stat;if(r=c?E:f?E[a]||gt(a,{}):(E[a]||{}).prototype)for(n in e){if(i=e[n],o=t.noTargetGet?(u=Ke(r,n))&&u.value:r[n],!Ue(c?n:a+(f?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ve(i,o)}(t.sham||o&&o.sham)&&Yt(i,"sham",!0),me(r,n,i,t)}},Ye={};Ye[Rt("toStringTag")]="z";var qe,Je="[object z]"===String(Ye),Qe=Rt("toStringTag"),Ze=E.Object,tr="Arguments"==W(function(){return arguments}()),er=Je?W:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Ze(t),Qe))?r:tr?W(e):"Object"==(n=W(e))&&Y(e.callee)?"Arguments":n},rr=E.String,nr=function(t){if("Symbol"===er(t))throw TypeError("Cannot convert a Symbol value to a string");return rr(t)},or=Rt("match"),ir=E.TypeError,ur=function(t){if(function(t){var e;return q(t)&&(void 0!==(e=t[or])?!!e:"RegExp"==W(t))}(t))throw ir("The method doesn't accept regular expressions");return t},ar=Rt("match"),cr=Wt.f,fr=V("".startsWith),sr=V("".slice),lr=Math.min,dr=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[ar]=!1,"/./"[t](e)}catch(t){}}return!1}("startsWith"),pr=!(dr||(qe=cr(String.prototype,"startsWith"),!qe||qe.writable));Xe({target:"String",proto:!0,forced:!pr&&!dr},{startsWith:function(t){var e=nr(K(this));ur(t);var r=Te(lr(arguments.length>1?arguments[1]:void 0,e.length)),n=nr(t);return fr?fr(e,n,r):sr(e,r,r+n.length)===n}});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var vr=function(){return vr=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},vr.apply(this,arguments)};function hr(t,e,r,n){return new(r||(r=Promise))((function(o,i){function u(t){try{c(n.next(t))}catch(t){i(t)}}function a(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(u,a)}c((n=n.apply(t,e||[])).next())}))}function yr(t,e){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function gr(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mr(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u}function br(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=gr(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,o){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,o,(e=t[r](e)).done,e.value)}))}}}var wr,Sr="\t\n\v\f\r                　\u2028\u2029\ufeff",xr=V("".replace),Or="["+Sr+"]",jr=RegExp("^"+Or+Or+"*"),Er=RegExp(Or+Or+"*$"),Tr=function(t){return function(e){var r=nr(K(e));return 1&t&&(r=xr(r,jr,"")),2&t&&(r=xr(r,Er,"")),r}},Ir={start:Tr(1),end:Tr(2),trim:Tr(3)},Pr=ge.PROPER,Ar=Ir.trim;Xe({target:"String",proto:!0,forced:(wr="trim",T((function(){return!!Sr[wr]()||"​᠎"!=="​᠎"[wr]()||Pr&&Sr[wr].name!==wr})))},{trim:function(){return Ar(this)}});var Mr={type:"video",renderElem:function(t,r,n){var o,i=t.src,u=void 0===i?"":i,a=e.isNodeSelected(n,t);return o=0===u.trim().indexOf("<iframe")?c("div",{className:"w-e-textarea-video-container","data-selected":a?"true":"",innerHTML:u}):c("div",{className:"w-e-textarea-video-container","data-selected":a?"true":"","on-click":function(t){return console.log(123)}},c("video",{controls:!0},c("source",{src:u,type:"video/mp4"}),"Sorry, your browser doesn't support embedded videos.\n 抱歉，浏览器不支持 video 视频")),f("div",{props:{contentEditable:!1},on:{mousedown:function(t){return t.preventDefault()}}},o)}};var kr,Rr={type:"video",elemToHtml:function(t,e){var r=t.src,n=void 0===r?"":r,o='<div data-w-e-type="video" data-w-e-is-void>\n';return 0===n.trim().indexOf("<iframe")?o+=n:o+='<video controls="true"><source src="'+n+'" type="video/mp4"/></video>',o+="\n</div>"}},Cr=Object.keys||function(t){return Re(t,Ce)},Lr=I?Object.defineProperties:function(t,e){Ht(t);for(var r,n=X(e),o=Cr(e),i=o.length,u=0;i>u;)Xt.f(t,r=o[u++],n[r]);return t},Nr=Q("document","documentElement"),Fr=oe("IE_PROTO"),_r=function(){},zr=function(t){return"<script>"+t+"<\/script>"},Vr=function(t){t.write(zr("")),t.close();var e=t.parentWindow.Object;return t=null,e},Dr=function(){try{kr=new ActiveXObject("htmlfile")}catch(t){}var t,e;Dr="undefined"!=typeof document?document.domain&&kr?Vr(kr):((e=Vt("iframe")).style.display="none",Nr.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(zr("document.F=Object")),t.close(),t.F):Vr(kr);for(var r=Ce.length;r--;)delete Dr.prototype[Ce[r]];return Dr()};ie[Fr]=!0;var $r=Object.create||function(t,e){var r;return null!==t?(_r.prototype=Ht(t),r=new _r,_r.prototype=null,r[Fr]=t):r=Dr(),void 0===e?r:Lr(r,e)},Wr=Rt("unscopables"),Br=Array.prototype;null==Br[Wr]&&Xt.f(Br,Wr,{configurable:!0,value:$r(null)});var Gr=function(t){Br[Wr][t]=!0},Hr=Ae.includes;function Ur(t){return t.length?t[0].tagName.toLowerCase():""}Xe({target:"Array",proto:!0},{includes:function(t){return Hr(this,t,arguments.length>1?arguments[1]:void 0)}}),Gr("includes"),Xe({global:!0},{globalThis:E}),l&&(s.fn.append=l),d&&(s.fn.on=d),p&&(s.fn.focus=p),v&&(s.fn.attr=v),h&&(s.fn.val=h),y&&(s.fn.html=y),g&&(s.fn.parent=g),m&&(s.fn.hasClass=m);var Kr={selector:"iframe,video,p",preParseHtml:function(t){var e=s(t),r=e;if("p"===Ur(e)){var n=e.children();if(1===n.length){var o=n[0],i=o.tagName.toLowerCase();["iframe","video"].includes(i)&&(r=s(o))}}var u=Ur(r);if("iframe"!==u&&"video"!==u)return r[0];if("video"===r.parent().attr("data-w-e-type"))return r[0];var a=s('<div data-w-e-type="video" data-w-e-is-void></div>');return a.append(r),a[0]}},Xr=V(V.bind),Yr=function(t,e){return pt(t),void 0===e?t:Xr?Xr(t,e):function(){return t.apply(e,arguments)}},qr=Array.isArray||function(t){return"Array"==W(t)},Jr=function(){},Qr=[],Zr=Q("Reflect","construct"),tn=/^\s*(?:class|function)\b/,en=V(tn.exec),rn=!tn.exec(Jr),nn=function(t){if(!Y(t))return!1;try{return Zr(Jr,Qr,t),!0}catch(t){return!1}},on=!Zr||T((function(){var t;return nn(nn.call)||!nn(Object)||!nn((function(){t=!0}))||t}))?function(t){if(!Y(t))return!1;switch(er(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return rn||!!en(tn,te(t))}:nn,un=Rt("species"),an=E.Array,cn=function(t,e){return new(function(t){var e;return qr(t)&&(e=t.constructor,(on(e)&&(e===an||qr(e.prototype))||q(e)&&null===(e=e[un]))&&(e=void 0)),void 0===e?an:e}(t))(0===e?0:e)},fn=V([].push),sn=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,u=7==t,a=5==t||i;return function(c,f,s,l){for(var d,p,v=St(c),h=H(v),y=Yr(f,s),g=Ie(h),m=0,b=l||cn,w=e?b(c,g):r||u?b(c,0):void 0;g>m;m++)if((a||m in h)&&(p=y(d=h[m],m,v),t))if(e)w[m]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:fn(w,d)}else switch(t){case 4:return!1;case 7:fn(w,d)}return i?-1:n||o?o:w}},ln={forEach:sn(0),map:sn(1),filter:sn(2),some:sn(3),every:sn(4),find:sn(5),findIndex:sn(6),filterReject:sn(7)},dn=ln.find,pn=!0;"find"in[]&&Array(1).find((function(){pn=!1})),Xe({target:"Array",proto:!0,forced:pn},{find:function(t){return dn(this,t,arguments.length>1?arguments[1]:void 0)}}),Gr("find");var vn=Je?{}.toString:function(){return"[object "+er(this)+"]"};function hn(t){return{type:"video",src:t,children:[{text:""}]}}Je||me(Object.prototype,"toString",vn,{unsafe:!0});var yn,gn,mn={selector:'div[data-w-e-type="video"]',parseElemHtml:function(t,e,r){var n=s(t),o="",i=n.find("iframe");if(i.length>0)return hn(o=i[0].outerHTML);var u=n.find("video");return(o=u.attr("src")||"")||u.length>0&&(o=u.find("source").attr("src")||""),hn(o)}},bn=function(){var t=Ht(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},wn=E.RegExp,Sn=T((function(){var t=wn("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),xn=Sn||T((function(){return!wn("a","y").sticky})),On={BROKEN_CARET:Sn||T((function(){var t=wn("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:xn,UNSUPPORTED_Y:Sn},jn=E.RegExp,En=T((function(){var t=jn(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),Tn=E.RegExp,In=T((function(){var t=Tn("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),Pn=pe.get,An=bt("native-string-replace",String.prototype.replace),Mn=RegExp.prototype.exec,kn=Mn,Rn=V("".charAt),Cn=V("".indexOf),Ln=V("".replace),Nn=V("".slice),Fn=(gn=/b*/g,A(Mn,yn=/a/,"a"),A(Mn,gn,"a"),0!==yn.lastIndex||0!==gn.lastIndex),_n=On.BROKEN_CARET,zn=void 0!==/()??/.exec("")[1];(Fn||zn||_n||En||In)&&(kn=function(t){var e,r,n,o,i,u,a,c=this,f=Pn(c),s=nr(t),l=f.raw;if(l)return l.lastIndex=c.lastIndex,e=A(kn,l,s),c.lastIndex=l.lastIndex,e;var d=f.groups,p=_n&&c.sticky,v=A(bn,c),h=c.source,y=0,g=s;if(p&&(v=Ln(v,"y",""),-1===Cn(v,"g")&&(v+="g"),g=Nn(s,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Rn(s,c.lastIndex-1))&&(h="(?: "+h+")",g=" "+g,y++),r=new RegExp("^(?:"+h+")",v)),zn&&(r=new RegExp("^"+h+"$(?!\\s)",v)),Fn&&(n=c.lastIndex),o=A(Mn,p?r:c,g),p?o?(o.input=Nn(o.input,y),o[0]=Nn(o[0],y),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Fn&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),zn&&o&&o.length>1&&A(An,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&d)for(o.groups=u=$r(null),i=0;i<d.length;i++)u[(a=d[i])[0]]=o[a[1]];return o});var Vn=kn;Xe({target:"RegExp",proto:!0,forced:/./.exec!==Vn},{exec:Vn});var Dn=Function.prototype,$n=Dn.apply,Wn=Dn.bind,Bn=Dn.call,Gn="object"==typeof Reflect&&Reflect.apply||(Wn?Bn.bind($n):function(){return Bn.apply($n,arguments)}),Hn=Rt("species"),Un=RegExp.prototype,Kn=V("".charAt),Xn=V("".charCodeAt),Yn=V("".slice),qn=function(t){return function(e,r){var n,o,i=nr(K(e)),u=Se(r),a=i.length;return u<0||u>=a?t?"":void 0:(n=Xn(i,u))<55296||n>56319||u+1===a||(o=Xn(i,u+1))<56320||o>57343?t?Kn(i,u):n:t?Yn(i,u,u+2):o-56320+(n-55296<<10)+65536}},Jn={codeAt:qn(!1),charAt:qn(!0)},Qn=Jn.charAt,Zn=function(t,e,r){return e+(r?Qn(t,e).length:1)},to=Math.floor,eo=V("".charAt),ro=V("".replace),no=V("".slice),oo=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,io=/\$([$&'`]|\d{1,2})/g,uo=function(t,e,r,n,o,i){var u=r+t.length,a=n.length,c=io;return void 0!==o&&(o=St(o),c=oo),ro(i,c,(function(i,c){var f;switch(eo(c,0)){case"$":return"$";case"&":return t;case"`":return no(e,0,r);case"'":return no(e,u);case"<":f=o[no(c,1,-1)];break;default:var s=+c;if(0===s)return i;if(s>a){var l=to(s/10);return 0===l?i:l<=a?void 0===n[l-1]?eo(c,1):n[l-1]+eo(c,1):i}f=n[s-1]}return void 0===f?"":f}))},ao=E.TypeError,co=function(t,e){var r=t.exec;if(Y(r)){var n=A(r,t,e);return null!==n&&Ht(n),n}if("RegExp"===W(t))return A(Vn,t,e);throw ao("RegExp#exec called on incompatible receiver")},fo=Rt("replace"),so=Math.max,lo=Math.min,po=V([].concat),vo=V([].push),ho=V("".indexOf),yo=V("".slice),go="$0"==="a".replace(/./,"$0"),mo=!!/./[fo]&&""===/./[fo]("a","$0");!function(t,e,r,n){var o=Rt(t),i=!T((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),u=i&&!T((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[Hn]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!u||r){var a=V(/./[o]),c=e(o,""[t],(function(t,e,r,n,o){var u=V(t),c=e.exec;return c===Vn||c===Un.exec?i&&!o?{done:!0,value:a(e,r,n)}:{done:!0,value:u(r,e,n)}:{done:!1}}));me(String.prototype,t,c[0]),me(Un,o,c[1])}n&&Yt(Un[o],"sham",!0)}("replace",(function(t,e,r){var n=mo?"$":"$0";return[function(t,r){var n=K(this),o=null==t?void 0:vt(t,fo);return o?A(o,t,n,r):A(e,nr(n),t,r)},function(t,o){var i=Ht(this),u=nr(t);if("string"==typeof o&&-1===ho(o,n)&&-1===ho(o,"$<")){var a=r(e,i,u,o);if(a.done)return a.value}var c=Y(o);c||(o=nr(o));var f=i.global;if(f){var s=i.unicode;i.lastIndex=0}for(var l=[];;){var d=co(i,u);if(null===d)break;if(vo(l,d),!f)break;""===nr(d[0])&&(i.lastIndex=Zn(u,Te(i.lastIndex),s))}for(var p,v="",h=0,y=0;y<l.length;y++){for(var g=nr((d=l[y])[0]),m=so(lo(Se(d.index),u.length),0),b=[],w=1;w<d.length;w++)vo(b,void 0===(p=d[w])?p:String(p));var S=d.groups;if(c){var x=po([g],b,m,u);void 0!==S&&vo(x,S);var O=nr(Gn(o,void 0,x))}else O=uo(g,u,m,b,S,o);m>=h&&(v+=yo(u,h,m)+O,h=m+g.length)}return v+yo(u,h)}]}),!!T((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!go||mo);var bo=E.Promise,wo=function(t,e,r){for(var n in e)me(t,n,e[n],r);return t},So=E.String,xo=E.TypeError,Oo=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=V(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Ht(r),function(t){if("object"==typeof t||Y(t))return t;throw xo("Can't set "+So(t)+" as a prototype")}(n),e?t(r,n):r.__proto__=n,r}}():void 0),jo=Xt.f,Eo=Rt("toStringTag"),To=function(t,e,r){t&&!Ot(t=r?t:t.prototype,Eo)&&jo(t,Eo,{configurable:!0,value:e})},Io=Rt("species"),Po=E.TypeError,Ao=function(t,e){if(Z(e,t))return t;throw Po("Incorrect invocation")},Mo={},ko=Rt("iterator"),Ro=Array.prototype,Co=Rt("iterator"),Lo=function(t){if(null!=t)return vt(t,Co)||vt(t,"@@iterator")||Mo[er(t)]},No=E.TypeError,Fo=function(t,e,r){var n,o;Ht(t);try{if(!(n=vt(t,"return"))){if("throw"===e)throw r;return r}n=A(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return Ht(n),r},_o=E.TypeError,zo=function(t,e){this.stopped=t,this.result=e},Vo=zo.prototype,Do=function(t,e,r){var n,o,i,u,a,c,f,s,l=r&&r.that,d=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),v=!(!r||!r.INTERRUPTED),h=Yr(e,l),y=function(t){return n&&Fo(n,"normal",t),new zo(!0,t)},g=function(t){return d?(Ht(t),v?h(t[0],t[1],y):h(t[0],t[1])):v?h(t,y):h(t)};if(p)n=t;else{if(!(o=Lo(t)))throw _o(lt(t)+" is not iterable");if(void 0!==(s=o)&&(Mo.Array===s||Ro[ko]===s)){for(i=0,u=Ie(t);u>i;i++)if((a=g(t[i]))&&Z(Vo,a))return a;return new zo(!1)}n=function(t,e){var r=arguments.length<2?Lo(t):e;if(pt(r))return Ht(A(r,t));throw No(lt(t)+" is not iterable")}(t,o)}for(c=n.next;!(f=A(c,n)).done;){try{a=g(f.value)}catch(t){Fo(n,"throw",t)}if("object"==typeof a&&a&&Z(Vo,a))return a}return new zo(!1)},$o=Rt("iterator"),Wo=!1;try{var Bo=0,Go={next:function(){return{done:!!Bo++}},return:function(){Wo=!0}};Go[$o]=function(){return this},Array.from(Go,(function(){throw 2}))}catch(t){}var Ho,Uo,Ko,Xo,Yo=function(t,e){if(!e&&!Wo)return!1;var r=!1;try{var n={};n[$o]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},qo=E.TypeError,Jo=Rt("species"),Qo=function(t,e){var r,n=Ht(t).constructor;return void 0===n||null==(r=Ht(n)[Jo])?e:function(t){if(on(t))return t;throw qo(lt(t)+" is not a constructor")}(r)},Zo=V([].slice),ti=/(?:ipad|iphone|ipod).*applewebkit/i.test(tt),ei="process"==W(E.process),ri=E.setImmediate,ni=E.clearImmediate,oi=E.process,ii=E.Dispatch,ui=E.Function,ai=E.MessageChannel,ci=E.String,fi=0,si={};try{Ho=E.location}catch(t){}var li=function(t){if(Ot(si,t)){var e=si[t];delete si[t],e()}},di=function(t){return function(){li(t)}},pi=function(t){li(t.data)},vi=function(t){E.postMessage(ci(t),Ho.protocol+"//"+Ho.host)};ri&&ni||(ri=function(t){var e=Zo(arguments,1);return si[++fi]=function(){Gn(Y(t)?t:ui(t),void 0,e)},Uo(fi),fi},ni=function(t){delete si[t]},ei?Uo=function(t){oi.nextTick(di(t))}:ii&&ii.now?Uo=function(t){ii.now(di(t))}:ai&&!ti?(Xo=(Ko=new ai).port2,Ko.port1.onmessage=pi,Uo=Yr(Xo.postMessage,Xo)):E.addEventListener&&Y(E.postMessage)&&!E.importScripts&&Ho&&"file:"!==Ho.protocol&&!T(vi)?(Uo=vi,E.addEventListener("message",pi,!1)):Uo="onreadystatechange"in Vt("script")?function(t){Nr.appendChild(Vt("script")).onreadystatechange=function(){Nr.removeChild(this),li(t)}}:function(t){setTimeout(di(t),0)});var hi,yi,gi,mi,bi,wi,Si,xi,Oi={set:ri,clear:ni},ji=/ipad|iphone|ipod/i.test(tt)&&void 0!==E.Pebble,Ei=/web0s(?!.*chrome)/i.test(tt),Ti=Wt.f,Ii=Oi.set,Pi=E.MutationObserver||E.WebKitMutationObserver,Ai=E.document,Mi=E.process,ki=E.Promise,Ri=Ti(E,"queueMicrotask"),Ci=Ri&&Ri.value;Ci||(hi=function(){var t,e;for(ei&&(t=Mi.domain)&&t.exit();yi;){e=yi.fn,yi=yi.next;try{e()}catch(t){throw yi?mi():gi=void 0,t}}gi=void 0,t&&t.enter()},ti||ei||Ei||!Pi||!Ai?!ji&&ki&&ki.resolve?((Si=ki.resolve(void 0)).constructor=ki,xi=Yr(Si.then,Si),mi=function(){xi(hi)}):ei?mi=function(){Mi.nextTick(hi)}:(Ii=Yr(Ii,E),mi=function(){Ii(hi)}):(bi=!0,wi=Ai.createTextNode(""),new Pi(hi).observe(wi,{characterData:!0}),mi=function(){wi.data=bi=!bi}));var Li,Ni,Fi,_i,zi=Ci||function(t){var e={fn:t,next:void 0};gi&&(gi.next=e),yi||(yi=e,mi()),gi=e},Vi=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=pt(e),this.reject=pt(r)},Di={f:function(t){return new Vi(t)}},$i=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Wi="object"==typeof window,Bi=Oi.set,Gi=Rt("species"),Hi="Promise",Ui=pe.getterFor(Hi),Ki=pe.set,Xi=pe.getterFor(Hi),Yi=bo&&bo.prototype,qi=bo,Ji=Yi,Qi=E.TypeError,Zi=E.document,tu=E.process,eu=Di.f,ru=eu,nu=!!(Zi&&Zi.createEvent&&E.dispatchEvent),ou=Y(E.PromiseRejectionEvent),iu=!1,uu=Ue(Hi,(function(){var t=te(qi),e=t!==String(qi);if(!e&&66===it)return!0;if(it>=51&&/native code/.test(t))return!1;var r=new qi((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[Gi]=n,!(iu=r.then((function(){}))instanceof n)||!e&&Wi&&!ou})),au=uu||!Yo((function(t){qi.all(t).catch((function(){}))})),cu=function(t){var e;return!(!q(t)||!Y(e=t.then))&&e},fu=function(t,e){if(!t.notified){t.notified=!0;var r=t.reactions;zi((function(){for(var n=t.value,o=1==t.state,i=0;r.length>i;){var u,a,c,f=r[i++],s=o?f.ok:f.fail,l=f.resolve,d=f.reject,p=f.domain;try{s?(o||(2===t.rejection&&pu(t),t.rejection=1),!0===s?u=n:(p&&p.enter(),u=s(n),p&&(p.exit(),c=!0)),u===f.promise?d(Qi("Promise-chain cycle")):(a=cu(u))?A(a,u,l,d):l(u)):d(n)}catch(t){p&&!c&&p.exit(),d(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&lu(t)}))}},su=function(t,e,r){var n,o;nu?((n=Zi.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),E.dispatchEvent(n)):n={promise:e,reason:r},!ou&&(o=E["on"+t])?o(n):"unhandledrejection"===t&&function(t,e){var r=E.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},lu=function(t){A(Bi,E,(function(){var e,r=t.facade,n=t.value;if(du(t)&&(e=$i((function(){ei?tu.emit("unhandledRejection",n,r):su("unhandledrejection",r,n)})),t.rejection=ei||du(t)?2:1,e.error))throw e.value}))},du=function(t){return 1!==t.rejection&&!t.parent},pu=function(t){A(Bi,E,(function(){var e=t.facade;ei?tu.emit("rejectionHandled",e):su("rejectionhandled",e,t.value)}))},vu=function(t,e,r){return function(n){t(e,n,r)}},hu=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,fu(t,!0))},yu=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw Qi("Promise can't be resolved itself");var n=cu(e);n?zi((function(){var r={done:!1};try{A(n,e,vu(yu,r,t),vu(hu,r,t))}catch(e){hu(r,e,t)}})):(t.value=e,t.state=1,fu(t,!1))}catch(e){hu({done:!1},e,t)}}};if(uu&&(Ji=(qi=function(t){Ao(this,Ji),pt(t),A(Li,this);var e=Ui(this);try{t(vu(yu,e),vu(hu,e))}catch(t){hu(e,t)}}).prototype,(Li=function(t){Ki(this,{type:Hi,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=wo(Ji,{then:function(t,e){var r=Xi(this),n=r.reactions,o=eu(Qo(this,qi));return o.ok=!Y(t)||t,o.fail=Y(e)&&e,o.domain=ei?tu.domain:void 0,r.parent=!0,n[n.length]=o,0!=r.state&&fu(r,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),Ni=function(){var t=new Li,e=Ui(t);this.promise=t,this.resolve=vu(yu,e),this.reject=vu(hu,e)},Di.f=eu=function(t){return t===qi||t===Fi?new Ni(t):ru(t)},Y(bo)&&Yi!==Object.prototype)){_i=Yi.then,iu||(me(Yi,"then",(function(t,e){var r=this;return new qi((function(t,e){A(_i,r,t,e)})).then(t,e)}),{unsafe:!0}),me(Yi,"catch",Ji.catch,{unsafe:!0}));try{delete Yi.constructor}catch(t){}Oo&&Oo(Yi,Ji)}function gu(t,e){return hr(this,void 0,void 0,(function(){var r,n,o,i,a,c,f;return yr(this,(function(s){switch(s.label){case 0:return e?(t.restoreSelection(),r=t.getMenuConfig("insertVideo"),n=r.onInsertedVideo,o=r.checkVideo,i=r.parseVideoSrc,[4,o(e)]):[2];case 1:return"string"==typeof(a=s.sent())?(t.alert(a,"error"),[2]):null==a?[2]:[4,i(e)];case 2:return 0!==(c=s.sent()).trim().indexOf("<iframe")&&(c=c.replace(/</g,"&lt;").replace(/>/g,"&gt;")),f={type:"video",src:c,children:[{text:""}]},Promise.resolve().then((function(){u.insertNodes(t,f)})),n(f),[2]}}))}))}function mu(){return void 0===(t="w-e-insert-video")&&(t="r"),t+"-"+b();var t}Xe({global:!0,wrap:!0,forced:uu},{Promise:qi}),To(qi,Hi,!1),function(t){var e=Q(t),r=Xt.f;I&&e&&!e[Io]&&r(e,Io,{configurable:!0,get:function(){return this}})}(Hi),Fi=Q(Hi),Xe({target:Hi,stat:!0,forced:uu},{reject:function(t){var e=eu(this);return A(e.reject,void 0,t),e.promise}}),Xe({target:Hi,stat:!0,forced:uu},{resolve:function(t){return function(t,e){if(Ht(t),q(e)&&e.constructor===t)return e;var r=Di.f(t);return(0,r.resolve)(e),r.promise}(this,t)}}),Xe({target:Hi,stat:!0,forced:au},{all:function(t){var e=this,r=eu(e),n=r.resolve,o=r.reject,i=$i((function(){var r=pt(e.resolve),i=[],u=0,a=1;Do(t,(function(t){var c=u++,f=!1;a++,A(r,e,t).then((function(t){f||(f=!0,i[c]=t,--a||n(i))}),o)})),--a||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=eu(e),n=r.reject,o=$i((function(){var o=pt(e.resolve);Do(t,(function(t){A(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var bu=function(){function t(){this.title=r("videoModule.insertVideo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=320,this.$content=null,this.srcInputId=mu(),this.buttonId=mu()}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.exec=function(t,e){},t.prototype.isDisabled=function(t){var r=t.selection;return null==r||(!a.isCollapsed(r)||!!e.getSelectedElems(t).some((function(r){return"pre"===e.getNodeType(r)||!!t.isVoid(r)})))},t.prototype.getModalPositionNode=function(t){return null},t.prototype.getModalContentElem=function(t){var e=this,i=this.srcInputId,u=this.buttonId,a=mr(n(r("videoModule.videoSrc"),i,r("videoModule.insertPlaceHolder")),2),c=a[0],f=a[1],l=s(f),d=mr(o(u,r("videoModule.ok")),1)[0];if(null==this.$content){var p=s("<div></div>");p.on("click","#"+u,(function(r){return hr(e,void 0,void 0,(function(){var e;return yr(this,(function(n){switch(n.label){case 0:return r.preventDefault(),e=p.find("#"+i).val().trim(),[4,gu(t,e)];case 1:return n.sent(),t.hidePanelOrModal(),[2]}}))}))})),this.$content=p}var v=this.$content;return v.html(""),v.append(c),v.append(d),l.val(""),setTimeout((function(){l.focus()})),v[0]},t}(),wu=V([].join),Su=H!=Object,xu=function(t,e){var r=[][t];return!!r&&T((function(){r.call(null,e||function(){throw 1},1)}))}("join",",");Xe({target:"Array",proto:!0,forced:Su||!xu},{join:function(t){return wu(X(this),void 0===t?",":t)}});var Ou,ju,Eu,Tu=!T((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Iu=oe("IE_PROTO"),Pu=E.Object,Au=Pu.prototype,Mu=Tu?Pu.getPrototypeOf:function(t){var e=St(t);if(Ot(e,Iu))return e[Iu];var r=e.constructor;return Y(r)&&e instanceof r?r.prototype:e instanceof Pu?Au:null},ku=Rt("iterator"),Ru=!1;[].keys&&("next"in(Eu=[].keys())?(ju=Mu(Mu(Eu)))!==Object.prototype&&(Ou=ju):Ru=!0);var Cu=null==Ou||T((function(){var t={};return Ou[ku].call(t)!==t}));Cu&&(Ou={}),Y(Ou[ku])||me(Ou,ku,(function(){return this}));var Lu={IteratorPrototype:Ou,BUGGY_SAFARI_ITERATORS:Ru},Nu=Lu.IteratorPrototype,Fu=function(){return this},_u=ge.PROPER,zu=ge.CONFIGURABLE,Vu=Lu.IteratorPrototype,Du=Lu.BUGGY_SAFARI_ITERATORS,$u=Rt("iterator"),Wu=function(){return this},Bu=function(t,e,r,n,o,i,u){!function(t,e,r,n){var o=e+" Iterator";t.prototype=$r(Nu,{next:L(+!n,r)}),To(t,o,!1),Mo[o]=Fu}(r,e,n);var a,c,f,s=function(t){if(t===o&&h)return h;if(!Du&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",d=!1,p=t.prototype,v=p[$u]||p["@@iterator"]||o&&p[o],h=!Du&&v||s(o),y="Array"==e&&p.entries||v;if(y&&(a=Mu(y.call(new t)))!==Object.prototype&&a.next&&(Mu(a)!==Vu&&(Oo?Oo(a,Vu):Y(a[$u])||me(a,$u,Wu)),To(a,l,!0)),_u&&"values"==o&&v&&"values"!==v.name&&(zu?Yt(p,"name","values"):(d=!0,h=function(){return A(v,this)})),o)if(c={values:s("values"),keys:i?h:s("keys"),entries:s("entries")},u)for(f in c)(Du||d||!(f in p))&&me(p,f,c[f]);else Xe({target:e,proto:!0,forced:Du||d},c);return p[$u]!==h&&me(p,$u,h,{name:o}),Mo[e]=h,c},Gu=pe.set,Hu=pe.getterFor("Array Iterator"),Uu=Bu(Array,"Array",(function(t,e){Gu(this,{type:"Array Iterator",target:X(t),index:0,kind:e})}),(function(){var t=Hu(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");Mo.Arguments=Mo.Array,Gr("keys"),Gr("values"),Gr("entries");var Ku=Jn.charAt,Xu=pe.set,Yu=pe.getterFor("String Iterator");Bu(String,"String",(function(t){Xu(this,{type:"String Iterator",string:nr(t),index:0})}),(function(){var t,e=Yu(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=Ku(r,n),e.index+=t.length,{value:t,done:!1})}));var qu=function(t,e,r){var n=Ft(e);n in t?Xt.f(t,n,L(0,r)):t[n]=r},Ju=E.Array,Qu=Math.max,Zu=Ne.f,ta="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ea=function(t){try{return Zu(t)}catch(t){return function(t,e,r){for(var n=Ie(t),o=je(e,n),i=je(void 0===r?n:r,n),u=Ju(Qu(i-o,0)),a=0;o<i;o++,a++)qu(u,a,t[o]);return u.length=a,u}(ta)}},ra={f:function(t){return ta&&"Window"==W(t)?ea(t):Zu(X(t))}},na=T((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),oa=Object.isExtensible,ia=T((function(){oa(1)}))||na?function(t){return!!q(t)&&((!na||"ArrayBuffer"!=W(t))&&(!oa||oa(t)))}:oa,ua=!T((function(){return Object.isExtensible(Object.preventExtensions({}))})),aa=S((function(t){var e=Xt.f,r=!1,n=It("meta"),o=0,i=function(t){e(t,n,{value:{objectID:"O"+o++,weakData:{}}})},u=t.exports={enable:function(){u.enable=function(){},r=!0;var t=Ne.f,e=V([].splice),o={};o[n]=1,t(o).length&&(Ne.f=function(r){for(var o=t(r),i=0,u=o.length;i<u;i++)if(o[i]===n){e(o,i,1);break}return o},Xe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ra.f}))},fastKey:function(t,e){if(!q(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Ot(t,n)){if(!ia(t))return"F";if(!e)return"E";i(t)}return t[n].objectID},getWeakData:function(t,e){if(!Ot(t,n)){if(!ia(t))return!0;if(!e)return!1;i(t)}return t[n].weakData},onFreeze:function(t){return ua&&r&&ia(t)&&!Ot(t,n)&&i(t),t}};ie[n]=!0})),ca=aa.getWeakData,fa=pe.set,sa=pe.getterFor,la=ln.find,da=ln.findIndex,pa=V([].splice),va=0,ha=function(t){return t.frozen||(t.frozen=new ya)},ya=function(){this.entries=[]},ga=function(t,e){return la(t.entries,(function(t){return t[0]===e}))};ya.prototype={get:function(t){var e=ga(this,t);if(e)return e[1]},has:function(t){return!!ga(this,t)},set:function(t,e){var r=ga(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=da(this.entries,(function(e){return e[0]===t}));return~e&&pa(this.entries,e,1),!!~e}};var ma,ba={getConstructor:function(t,e,r,n){var o=t((function(t,o){Ao(t,i),fa(t,{type:e,id:va++,frozen:void 0}),null!=o&&Do(o,t[n],{that:t,AS_ENTRIES:r})})),i=o.prototype,u=sa(e),a=function(t,e,r){var n=u(t),o=ca(Ht(e),!0);return!0===o?ha(n).set(e,r):o[n.id]=r,t};return wo(i,{delete:function(t){var e=u(this);if(!q(t))return!1;var r=ca(t);return!0===r?ha(e).delete(t):r&&Ot(r,e.id)&&delete r[e.id]},has:function(t){var e=u(this);if(!q(t))return!1;var r=ca(t);return!0===r?ha(e).has(t):r&&Ot(r,e.id)}}),wo(i,r?{get:function(t){var e=u(this);if(q(t)){var r=ca(t);return!0===r?ha(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),o}},wa=pe.enforce,Sa=!E.ActiveXObject&&"ActiveXObject"in E,xa=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Oa=function(t,e,r){var n=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),i=n?"set":"add",u=E[t],a=u&&u.prototype,c=u,f={},s=function(t){var e=V(a[t]);me(a,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!q(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return o&&!q(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!q(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(Ue(t,!Y(u)||!(o||a.forEach&&!T((function(){(new u).entries().next()})))))c=r.getConstructor(e,t,n,i),aa.enable();else if(Ue(t,!0)){var l=new c,d=l[i](o?{}:-0,1)!=l,p=T((function(){l.has(1)})),v=Yo((function(t){new u(t)})),h=!o&&T((function(){for(var t=new u,e=5;e--;)t[i](e,e);return!t.has(-0)}));v||((c=e((function(t,e){Ao(t,a);var r=function(t,e,r){var n,o;return Oo&&Y(n=e.constructor)&&n!==r&&q(o=n.prototype)&&o!==r.prototype&&Oo(t,o),t}(new u,t,c);return null!=e&&Do(e,r[i],{that:r,AS_ENTRIES:n}),r}))).prototype=a,a.constructor=c),(p||h)&&(s("delete"),s("has"),n&&s("get")),(h||d)&&s(i),o&&a.clear&&delete a.clear}return f[t]=c,Xe({global:!0,forced:c!=u},f),To(c,t),o||r.setStrong(c,t,n),c}("WeakMap",xa,ba);if(re&&Sa){ma=ba.getConstructor(xa,"WeakMap",!0),aa.enable();var ja=Oa.prototype,Ea=V(ja.delete),Ta=V(ja.has),Ia=V(ja.get),Pa=V(ja.set);wo(ja,{delete:function(t){if(q(t)&&!ia(t)){var e=wa(this);return e.frozen||(e.frozen=new ma),Ea(this,t)||e.frozen.delete(t)}return Ea(this,t)},has:function(t){if(q(t)&&!ia(t)){var e=wa(this);return e.frozen||(e.frozen=new ma),Ta(this,t)||e.frozen.has(t)}return Ta(this,t)},get:function(t){if(q(t)&&!ia(t)){var e=wa(this);return e.frozen||(e.frozen=new ma),Ta(this,t)?Ia(this,t):e.frozen.get(t)}return Ia(this,t)},set:function(t,e){if(q(t)&&!ia(t)){var r=wa(this);r.frozen||(r.frozen=new ma),Ta(this,t)?Pa(this,t,e):r.frozen.set(t,e)}else Pa(this,t,e);return this}})}var Aa={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ma=Vt("span").classList,ka=Ma&&Ma.constructor&&Ma.constructor.prototype,Ra=ka===Object.prototype?void 0:ka,Ca=Rt("iterator"),La=Rt("toStringTag"),Na=Uu.values,Fa=function(t,e){if(t){if(t[Ca]!==Na)try{Yt(t,Ca,Na)}catch(e){t[Ca]=Na}if(t[La]||Yt(t,La,e),Aa[e])for(var r in Uu)if(t[r]!==Uu[r])try{Yt(t,r,Uu[r])}catch(e){t[r]=Uu[r]}}};for(var _a in Aa)Fa(E[_a]&&E[_a].prototype,_a);Fa(Ra,"DOMTokenList");var za=ge.EXISTS,Va=Xt.f,Da=Function.prototype,$a=V(Da.toString),Wa=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Ba=V(Wa.exec);I&&!za&&Va(Da,"name",{configurable:!0,get:function(){try{return Ba(Wa,$a(this))[1]}catch(t){return""}}});var Ga=Rt("species"),Ha=function(t){return it>=51||!T((function(){var e=[];return(e.constructor={})[Ga]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}("slice"),Ua=Rt("species"),Ka=E.Array,Xa=Math.max;function Ya(t){return t.getMenuConfig("uploadVideo")}Xe({target:"Array",proto:!0,forced:!Ha},{slice:function(t,e){var r,n,o,i=X(this),u=Ie(i),a=je(t,u),c=je(void 0===e?u:e,u);if(qr(i)&&(r=i.constructor,(on(r)&&(r===Ka||qr(r.prototype))||q(r)&&null===(r=r[Ua]))&&(r=void 0),r===Ka||void 0===r))return Zo(i,a,c);for(n=new(void 0===r?Ka:r)(Xa(c-a,0)),o=0;a<c;a++,o++)a in i&&qu(n,o,i[a]);return n.length=o,n}});var qa=new WeakMap;function Ja(t,e){return hr(this,void 0,void 0,(function(){var r,n,o,u;return yr(this,(function(a){switch(a.label){case 0:return r=function(t){var e=qa.get(t);if(null!=e)return e;var r=Ya(t),n=r.onSuccess,o=r.onProgress,u=r.onFailed,a=r.customInsert,c=r.onError;return e=i(vr(vr({},r),{onProgress:function(e){t.showProgressBar(e),o&&o(e)},onSuccess:function(e,r){if(a)a(r,(function(e){return gu(t,e)}));else{var o=r.errno,i=void 0===o?1:o,c=r.data,f=void 0===c?{}:c;if(0!==i)return console.error("'"+e.name+"' upload failed",r),void u(e,r);var s=f.url;gu(t,void 0===s?"":s),n(e,r)}},onError:function(t,e,r){var n=t.name;console.error("'"+n+" upload error",e,r),c&&c(t,e,r)}})),qa.set(t,e),e}(t),n=e.name,o=e.type,u=e.size,r.addFile({name:n,type:o,size:u,data:e}),[4,r.upload()];case 1:return a.sent(),[2]}}))}))}var Qa=function(){function t(){this.title=r("videoModule.uploadVideo"),this.iconSvg='<svg viewBox="0 0 1056 1024"><path d="M805.902261 521.819882a251.441452 251.441452 0 0 0-251.011972 246.600033 251.051015 251.051015 0 1 0 502.023944 8.823877 253.237463 253.237463 0 0 0-251.011972-255.42391z m59.463561 240.001647v129.898403h-116.701631v-129.898403h-44.041298l101.279368-103.504859 101.279368 103.504859z" p-id="6802"></path><path d="M788.254507 0.000781H99.094092A98.663439 98.663439 0 0 0 0.001171 99.093701v590.067495a98.663439 98.663439 0 0 0 99.092921 99.092921h411.7549a266.434235 266.434235 0 0 1-2.186448-41.815807 275.843767 275.843767 0 0 1 275.180024-270.729042 270.650955 270.650955 0 0 1 103.504859 19.834201V99.093701A101.51363 101.51363 0 0 0 788.254507 0.000781zM295.054441 640.747004V147.507894l394.146189 246.600033z"></path></svg>',this.tag="button"}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.exec=function(t,e){var r=this.getMenuConfig(t),n=r.allowedFileTypes,o=void 0===n?[]:n,i=r.customBrowseAndUpload;if(i)i((function(e){return gu(t,e)}));else{var u="";o.length>0&&(u='accept="'+o.join(", ")+'"');var a=s("body"),c=s('<input type="file" '+u+" multiple/>");c.hide(),a.append(c),c.click(),c.on("change",(function(){var e=c[0].files;!function(t,e){var r,n;hr(this,void 0,void 0,(function(){var o,i,u,a,c,f;return yr(this,(function(s){switch(s.label){case 0:if(null==e)return[2];o=Array.prototype.slice.call(e),i=Ya(t).customUpload,s.label=1;case 1:s.trys.push([1,9,10,15]),u=br(o),s.label=2;case 2:return[4,u.next()];case 3:return(a=s.sent()).done?[3,8]:(c=a.value,i?[4,i(c,(function(e){return gu(t,e)}))]:[3,5]);case 4:return s.sent(),[3,7];case 5:return[4,Ja(t,c)];case 6:s.sent(),s.label=7;case 7:return[3,2];case 8:return[3,15];case 9:return f=s.sent(),r={error:f},[3,15];case 10:return s.trys.push([10,,13,14]),a&&!a.done&&(n=u.return)?[4,n.call(u)]:[3,12];case 11:s.sent(),s.label=12;case 12:return[3,14];case 13:if(r)throw r.error;return[7];case 14:return[7];case 15:return[2]}}))}))}(t,e)}))}},t.prototype.isDisabled=function(t){var r=t.selection;return null==r||(!a.isCollapsed(r)||!!e.getSelectedElems(t).some((function(r){return"pre"===e.getNodeType(r)||!!t.isVoid(r)})))},t.prototype.getMenuConfig=function(t){return t.getMenuConfig("uploadVideo")},t}();var Za={renderElems:[Mr],elemsToHtml:[Rr],preParseHtml:[Kr],parseElemsHtml:[mn],menus:[{key:"insertVideo",factory:function(){return new bu},config:{onInsertedVideo:function(t){},checkVideo:function(t){return!0},parseVideoSrc:function(t){return t}}},{key:"uploadVideo",factory:function(){return new Qa},config:{server:"",fieldName:"wangeditor-uploaded-video",maxFileSize:10485760,maxNumberOfFiles:5,allowedFileTypes:["video/*"],meta:{},metaWithUrl:!1,withCredentials:!1,timeout:3e4,onBeforeUpload:function(t){return t},onProgress:function(t){},onSuccess:function(t,e){},onFailed:function(t,e){},onError:function(t,e,r){}}}],editorPlugin:function(t){var r=t.isVoid,n=t.normalizeNode,o=t;return o.isVoid=function(t){return"video"===t.type||r(t)},o.normalizeNode=function(t){var r=mr(t,2),i=r[0],a=r[1];if("video"===e.getNodeType(i)){var c=(o.children||[])[a[0]+1]||{},f=e.getNodeType(c);if("paragraph"!==f&&"blockquote"!==f&&!f.startsWith("header")){var s=[a[0]+1];u.insertNodes(o,{type:"paragraph",children:[{text:""}]},{at:s})}}return n([i,a])},o}};export{Za as default};
//# sourceMappingURL=index.esm.js.map

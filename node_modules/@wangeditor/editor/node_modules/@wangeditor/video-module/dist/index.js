!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@wangeditor/core"),require("slate"),require("snabbdom"),require("dom7"),require("nanoid")):"function"==typeof define&&define.amd?define(["@wangeditor/core","slate","snabbdom","dom7","nanoid"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).WangEditorVideoModule=e(t.core,t.slate,t.snabbdom,t.$,t.nanoid)}(this,(function(t,e,n,r,o){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=i(r);t.i18nAddResources("en",{videoModule:{delete:"Delete",uploadVideo:"Upload video",insertVideo:"Insert video",videoSrc:"video source",insertPlaceHolder:"video file url, or third-party <iframe>",ok:"Ok"}}),t.i18nAddResources("zh-CN",{videoModule:{delete:"删除视频",uploadVideo:"上传视频",insertVideo:"插入视频",videoSrc:"视频地址",insertPlaceHolder:"视频文件 url 或第三方 <iframe>",ok:"确定"}});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(t){var e={exports:{}};return t(e,e.exports),e.exports}var f,s,l=function(t){return t&&t.Math==Math&&t},d=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof a&&a)||function(){return this}()||Function("return this")(),p=function(t){try{return!!t()}catch(t){return!0}},v=!p((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),h=Function.prototype.call,y=h.bind?h.bind(h):function(){return h.apply(h,arguments)},g={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,b=m&&!g.call({1:2},1)?function(t){var e=m(this,t);return!!e&&e.enumerable}:g,w={f:b},S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},x=Function.prototype,E=x.bind,O=x.call,j=E&&E.bind(O),T=E?function(t){return t&&j(O,t)}:function(t){return t&&function(){return O.apply(t,arguments)}},I=T({}.toString),P=T("".slice),A=function(t){return P(I(t),8,-1)},M=d.Object,R=T("".split),k=p((function(){return!M("z").propertyIsEnumerable(0)}))?function(t){return"String"==A(t)?R(t,""):M(t)}:M,C=d.TypeError,L=function(t){if(null==t)throw C("Can't call method on "+t);return t},N=function(t){return k(L(t))},F=function(t){return"function"==typeof t},D=function(t){return"object"==typeof t?null!==t:F(t)},V=function(t){return F(t)?t:void 0},z=function(t,e){return arguments.length<2?V(d[t]):d[t]&&d[t][e]},_=T({}.isPrototypeOf),$=z("navigator","userAgent")||"",W=d.process,B=d.Deno,G=W&&W.versions||B&&B.version,H=G&&G.v8;H&&(s=(f=H.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!s&&$&&(!(f=$.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=$.match(/Chrome\/(\d+)/))&&(s=+f[1]);var U=s,q=!!Object.getOwnPropertySymbols&&!p((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&U&&U<41})),K=q&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,X=d.Object,Y=K?function(t){return"symbol"==typeof t}:function(t){var e=z("Symbol");return F(e)&&_(e.prototype,X(t))},J=d.String,Q=function(t){try{return J(t)}catch(t){return"Object"}},Z=d.TypeError,tt=function(t){if(F(t))return t;throw Z(Q(t)+" is not a function")},et=function(t,e){var n=t[e];return null==n?void 0:tt(n)},nt=d.TypeError,rt=Object.defineProperty,ot=function(t,e){try{rt(d,t,{value:e,configurable:!0,writable:!0})}catch(n){d[t]=e}return e},it="__core-js_shared__",ut=d[it]||ot(it,{}),at=c((function(t){(t.exports=function(t,e){return ut[t]||(ut[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),ct=d.Object,ft=function(t){return ct(L(t))},st=T({}.hasOwnProperty),lt=Object.hasOwn||function(t,e){return st(ft(t),e)},dt=0,pt=Math.random(),vt=T(1..toString),ht=function(t){return"Symbol("+(void 0===t?"":t)+")_"+vt(++dt+pt,36)},yt=at("wks"),gt=d.Symbol,mt=gt&&gt.for,bt=K?gt:gt&&gt.withoutSetter||ht,wt=function(t){if(!lt(yt,t)||!q&&"string"!=typeof yt[t]){var e="Symbol."+t;q&&lt(gt,t)?yt[t]=gt[t]:yt[t]=K&&mt?mt(e):bt(e)}return yt[t]},St=d.TypeError,xt=wt("toPrimitive"),Et=function(t,e){if(!D(t)||Y(t))return t;var n,r=et(t,xt);if(r){if(void 0===e&&(e="default"),n=y(r,t,e),!D(n)||Y(n))return n;throw St("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&F(n=t.toString)&&!D(r=y(n,t)))return r;if(F(n=t.valueOf)&&!D(r=y(n,t)))return r;if("string"!==e&&F(n=t.toString)&&!D(r=y(n,t)))return r;throw nt("Can't convert object to primitive value")}(t,e)},Ot=function(t){var e=Et(t,"string");return Y(e)?e:e+""},jt=d.document,Tt=D(jt)&&D(jt.createElement),It=function(t){return Tt?jt.createElement(t):{}},Pt=!v&&!p((function(){return 7!=Object.defineProperty(It("div"),"a",{get:function(){return 7}}).a})),At=Object.getOwnPropertyDescriptor,Mt={f:v?At:function(t,e){if(t=N(t),e=Ot(e),Pt)try{return At(t,e)}catch(t){}if(lt(t,e))return S(!y(w.f,t,e),t[e])}},Rt=d.String,kt=d.TypeError,Ct=function(t){if(D(t))return t;throw kt(Rt(t)+" is not an object")},Lt=d.TypeError,Nt=Object.defineProperty,Ft={f:v?Nt:function(t,e,n){if(Ct(t),e=Ot(e),Ct(n),Pt)try{return Nt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Lt("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Dt=v?function(t,e,n){return Ft.f(t,e,S(1,n))}:function(t,e,n){return t[e]=n,t},Vt=T(Function.toString);F(ut.inspectSource)||(ut.inspectSource=function(t){return Vt(t)});var zt,_t,$t,Wt=ut.inspectSource,Bt=d.WeakMap,Gt=F(Bt)&&/native code/.test(Wt(Bt)),Ht=at("keys"),Ut=function(t){return Ht[t]||(Ht[t]=ht(t))},qt={},Kt="Object already initialized",Xt=d.TypeError,Yt=d.WeakMap;if(Gt||ut.state){var Jt=ut.state||(ut.state=new Yt),Qt=T(Jt.get),Zt=T(Jt.has),te=T(Jt.set);zt=function(t,e){if(Zt(Jt,t))throw new Xt(Kt);return e.facade=t,te(Jt,t,e),e},_t=function(t){return Qt(Jt,t)||{}},$t=function(t){return Zt(Jt,t)}}else{var ee=Ut("state");qt[ee]=!0,zt=function(t,e){if(lt(t,ee))throw new Xt(Kt);return e.facade=t,Dt(t,ee,e),e},_t=function(t){return lt(t,ee)?t[ee]:{}},$t=function(t){return lt(t,ee)}}var ne={set:zt,get:_t,has:$t,enforce:function(t){return $t(t)?_t(t):zt(t,{})},getterFor:function(t){return function(e){var n;if(!D(e)||(n=_t(e)).type!==t)throw Xt("Incompatible receiver, "+t+" required");return n}}},re=Function.prototype,oe=v&&Object.getOwnPropertyDescriptor,ie=lt(re,"name"),ue={EXISTS:ie,PROPER:ie&&"something"===function(){}.name,CONFIGURABLE:ie&&(!v||v&&oe(re,"name").configurable)},ae=c((function(t){var e=ue.CONFIGURABLE,n=ne.get,r=ne.enforce,o=String(String).split("String");(t.exports=function(t,n,i,u){var a,c=!!u&&!!u.unsafe,f=!!u&&!!u.enumerable,s=!!u&&!!u.noTargetGet,l=u&&void 0!==u.name?u.name:n;F(i)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!lt(i,"name")||e&&i.name!==l)&&Dt(i,"name",l),(a=r(i)).source||(a.source=o.join("string"==typeof l?l:""))),t!==d?(c?!s&&t[n]&&(f=!0):delete t[n],f?t[n]=i:Dt(t,n,i)):f?t[n]=i:ot(n,i)})(Function.prototype,"toString",(function(){return F(this)&&n(this).source||Wt(this)}))})),ce=Math.ceil,fe=Math.floor,se=function(t){var e=+t;return e!=e||0===e?0:(e>0?fe:ce)(e)},le=Math.max,de=Math.min,pe=function(t,e){var n=se(t);return n<0?le(n+e,0):de(n,e)},ve=Math.min,he=function(t){return t>0?ve(se(t),9007199254740991):0},ye=function(t){return he(t.length)},ge=function(t){return function(e,n,r){var o,i=N(e),u=ye(i),a=pe(r,u);if(t&&n!=n){for(;u>a;)if((o=i[a++])!=o)return!0}else for(;u>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},me={includes:ge(!0),indexOf:ge(!1)},be=me.indexOf,we=T([].push),Se=function(t,e){var n,r=N(t),o=0,i=[];for(n in r)!lt(qt,n)&&lt(r,n)&&we(i,n);for(;e.length>o;)lt(r,n=e[o++])&&(~be(i,n)||we(i,n));return i},xe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ee=xe.concat("length","prototype"),Oe={f:Object.getOwnPropertyNames||function(t){return Se(t,Ee)}},je={f:Object.getOwnPropertySymbols},Te=T([].concat),Ie=z("Reflect","ownKeys")||function(t){var e=Oe.f(Ct(t)),n=je.f;return n?Te(e,n(t)):e},Pe=function(t,e){for(var n=Ie(e),r=Ft.f,o=Mt.f,i=0;i<n.length;i++){var u=n[i];lt(t,u)||r(t,u,o(e,u))}},Ae=/#|\.prototype\./,Me=function(t,e){var n=ke[Re(t)];return n==Le||n!=Ce&&(F(e)?p(e):!!e)},Re=Me.normalize=function(t){return String(t).replace(Ae,".").toLowerCase()},ke=Me.data={},Ce=Me.NATIVE="N",Le=Me.POLYFILL="P",Ne=Me,Fe=Mt.f,De=function(t,e){var n,r,o,i,u,a=t.target,c=t.global,f=t.stat;if(n=c?d:f?d[a]||ot(a,{}):(d[a]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(u=Fe(n,r))&&u.value:n[r],!Ne(c?r:a+(f?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Pe(i,o)}(t.sham||o&&o.sham)&&Dt(i,"sham",!0),ae(n,r,i,t)}},Ve={};Ve[wt("toStringTag")]="z";var ze,_e="[object z]"===String(Ve),$e=wt("toStringTag"),We=d.Object,Be="Arguments"==A(function(){return arguments}()),Ge=_e?A:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=We(t),$e))?n:Be?A(e):"Object"==(r=A(e))&&F(e.callee)?"Arguments":r},He=d.String,Ue=function(t){if("Symbol"===Ge(t))throw TypeError("Cannot convert a Symbol value to a string");return He(t)},qe=wt("match"),Ke=d.TypeError,Xe=function(t){if(function(t){var e;return D(t)&&(void 0!==(e=t[qe])?!!e:"RegExp"==A(t))}(t))throw Ke("The method doesn't accept regular expressions");return t},Ye=wt("match"),Je=Mt.f,Qe=T("".startsWith),Ze=T("".slice),tn=Math.min,en=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Ye]=!1,"/./"[t](e)}catch(t){}}return!1}("startsWith"),nn=!(en||(ze=Je(String.prototype,"startsWith"),!ze||ze.writable));De({target:"String",proto:!0,forced:!nn&&!en},{startsWith:function(t){var e=Ue(L(this));Xe(t);var n=he(tn(arguments.length>1?arguments[1]:void 0,e.length)),r=Ue(t);return Qe?Qe(e,r,n):Ze(e,n,n+r.length)===r}});
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
var rn=function(){return rn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},rn.apply(this,arguments)};function on(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))}function un(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function an(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cn(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function fn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=an(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}var sn,ln="\t\n\v\f\r                　\u2028\u2029\ufeff",dn=T("".replace),pn="["+ln+"]",vn=RegExp("^"+pn+pn+"*"),hn=RegExp(pn+pn+"*$"),yn=function(t){return function(e){var n=Ue(L(e));return 1&t&&(n=dn(n,vn,"")),2&t&&(n=dn(n,hn,"")),n}},gn={start:yn(1),end:yn(2),trim:yn(3)},mn=ue.PROPER,bn=gn.trim;De({target:"String",proto:!0,forced:(sn="trim",p((function(){return!!ln[sn]()||"​᠎"!=="​᠎"[sn]()||mn&&ln[sn].name!==sn})))},{trim:function(){return bn(this)}});var wn={type:"video",renderElem:function(e,r,o){var i,u=e.src,a=void 0===u?"":u,c=t.DomEditor.isNodeSelected(o,e);return i=0===a.trim().indexOf("<iframe")?n.jsx("div",{className:"w-e-textarea-video-container","data-selected":c?"true":"",innerHTML:a}):n.jsx("div",{className:"w-e-textarea-video-container","data-selected":c?"true":"","on-click":function(t){return console.log(123)}},n.jsx("video",{controls:!0},n.jsx("source",{src:a,type:"video/mp4"}),"Sorry, your browser doesn't support embedded videos.\n 抱歉，浏览器不支持 video 视频")),n.h("div",{props:{contentEditable:!1},on:{mousedown:function(t){return t.preventDefault()}}},i)}};var Sn,xn={type:"video",elemToHtml:function(t,e){var n=t.src,r=void 0===n?"":n,o='<div data-w-e-type="video" data-w-e-is-void>\n';return 0===r.trim().indexOf("<iframe")?o+=r:o+='<video controls="true"><source src="'+r+'" type="video/mp4"/></video>',o+="\n</div>"}},En=Object.keys||function(t){return Se(t,xe)},On=v?Object.defineProperties:function(t,e){Ct(t);for(var n,r=N(e),o=En(e),i=o.length,u=0;i>u;)Ft.f(t,n=o[u++],r[n]);return t},jn=z("document","documentElement"),Tn=Ut("IE_PROTO"),In=function(){},Pn=function(t){return"<script>"+t+"</"+"script>"},An=function(t){t.write(Pn("")),t.close();var e=t.parentWindow.Object;return t=null,e},Mn=function(){try{Sn=new ActiveXObject("htmlfile")}catch(t){}var t,e;Mn="undefined"!=typeof document?document.domain&&Sn?An(Sn):((e=It("iframe")).style.display="none",jn.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Pn("document.F=Object")),t.close(),t.F):An(Sn);for(var n=xe.length;n--;)delete Mn.prototype[xe[n]];return Mn()};qt[Tn]=!0;var Rn=Object.create||function(t,e){var n;return null!==t?(In.prototype=Ct(t),n=new In,In.prototype=null,n[Tn]=t):n=Mn(),void 0===e?n:On(n,e)},kn=wt("unscopables"),Cn=Array.prototype;null==Cn[kn]&&Ft.f(Cn,kn,{configurable:!0,value:Rn(null)});var Ln=function(t){Cn[kn][t]=!0},Nn=me.includes;function Fn(t){return t.length?t[0].tagName.toLowerCase():""}De({target:"Array",proto:!0},{includes:function(t){return Nn(this,t,arguments.length>1?arguments[1]:void 0)}}),Ln("includes"),De({global:!0},{globalThis:d}),r.append&&(u.default.fn.append=r.append),r.on&&(u.default.fn.on=r.on),r.focus&&(u.default.fn.focus=r.focus),r.attr&&(u.default.fn.attr=r.attr),r.val&&(u.default.fn.val=r.val),r.html&&(u.default.fn.html=r.html),r.parent&&(u.default.fn.parent=r.parent),r.hasClass&&(u.default.fn.hasClass=r.hasClass);var Dn={selector:"iframe,video,p",preParseHtml:function(t){var e=u.default(t),n=e;if("p"===Fn(e)){var r=e.children();if(1===r.length){var o=r[0],i=o.tagName.toLowerCase();["iframe","video"].includes(i)&&(n=u.default(o))}}var a=Fn(n);if("iframe"!==a&&"video"!==a)return n[0];if("video"===n.parent().attr("data-w-e-type"))return n[0];var c=u.default('<div data-w-e-type="video" data-w-e-is-void></div>');return c.append(n),c[0]}},Vn=T(T.bind),zn=function(t,e){return tt(t),void 0===e?t:Vn?Vn(t,e):function(){return t.apply(e,arguments)}},_n=Array.isArray||function(t){return"Array"==A(t)},$n=function(){},Wn=[],Bn=z("Reflect","construct"),Gn=/^\s*(?:class|function)\b/,Hn=T(Gn.exec),Un=!Gn.exec($n),qn=function(t){if(!F(t))return!1;try{return Bn($n,Wn,t),!0}catch(t){return!1}},Kn=!Bn||p((function(){var t;return qn(qn.call)||!qn(Object)||!qn((function(){t=!0}))||t}))?function(t){if(!F(t))return!1;switch(Ge(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Un||!!Hn(Gn,Wt(t))}:qn,Xn=wt("species"),Yn=d.Array,Jn=function(t,e){return new(function(t){var e;return _n(t)&&(e=t.constructor,(Kn(e)&&(e===Yn||_n(e.prototype))||D(e)&&null===(e=e[Xn]))&&(e=void 0)),void 0===e?Yn:e}(t))(0===e?0:e)},Qn=T([].push),Zn=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,u=7==t,a=5==t||i;return function(c,f,s,l){for(var d,p,v=ft(c),h=k(v),y=zn(f,s),g=ye(h),m=0,b=l||Jn,w=e?b(c,g):n||u?b(c,0):void 0;g>m;m++)if((a||m in h)&&(p=y(d=h[m],m,v),t))if(e)w[m]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:Qn(w,d)}else switch(t){case 4:return!1;case 7:Qn(w,d)}return i?-1:r||o?o:w}},tr={forEach:Zn(0),map:Zn(1),filter:Zn(2),some:Zn(3),every:Zn(4),find:Zn(5),findIndex:Zn(6),filterReject:Zn(7)},er=tr.find,nr="find",rr=!0;nr in[]&&Array(1).find((function(){rr=!1})),De({target:"Array",proto:!0,forced:rr},{find:function(t){return er(this,t,arguments.length>1?arguments[1]:void 0)}}),Ln(nr);var or=_e?{}.toString:function(){return"[object "+Ge(this)+"]"};function ir(t){return{type:"video",src:t,children:[{text:""}]}}_e||ae(Object.prototype,"toString",or,{unsafe:!0});var ur,ar,cr={selector:'div[data-w-e-type="video"]',parseElemHtml:function(t,e,n){var r=u.default(t),o="",i=r.find("iframe");if(i.length>0)return ir(o=i[0].outerHTML);var a=r.find("video");return(o=a.attr("src")||"")||a.length>0&&(o=a.find("source").attr("src")||""),ir(o)}},fr=function(){var t=Ct(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},sr=d.RegExp,lr=p((function(){var t=sr("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),dr=lr||p((function(){return!sr("a","y").sticky})),pr={BROKEN_CARET:lr||p((function(){var t=sr("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:dr,UNSUPPORTED_Y:lr},vr=d.RegExp,hr=p((function(){var t=vr(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),yr=d.RegExp,gr=p((function(){var t=yr("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),mr=ne.get,br=at("native-string-replace",String.prototype.replace),wr=RegExp.prototype.exec,Sr=wr,xr=T("".charAt),Er=T("".indexOf),Or=T("".replace),jr=T("".slice),Tr=(ar=/b*/g,y(wr,ur=/a/,"a"),y(wr,ar,"a"),0!==ur.lastIndex||0!==ar.lastIndex),Ir=pr.BROKEN_CARET,Pr=void 0!==/()??/.exec("")[1];(Tr||Pr||Ir||hr||gr)&&(Sr=function(t){var e,n,r,o,i,u,a,c=this,f=mr(c),s=Ue(t),l=f.raw;if(l)return l.lastIndex=c.lastIndex,e=y(Sr,l,s),c.lastIndex=l.lastIndex,e;var d=f.groups,p=Ir&&c.sticky,v=y(fr,c),h=c.source,g=0,m=s;if(p&&(v=Or(v,"y",""),-1===Er(v,"g")&&(v+="g"),m=jr(s,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==xr(s,c.lastIndex-1))&&(h="(?: "+h+")",m=" "+m,g++),n=new RegExp("^(?:"+h+")",v)),Pr&&(n=new RegExp("^"+h+"$(?!\\s)",v)),Tr&&(r=c.lastIndex),o=y(wr,p?n:c,m),p?o?(o.input=jr(o.input,g),o[0]=jr(o[0],g),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Tr&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),Pr&&o&&o.length>1&&y(br,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&d)for(o.groups=u=Rn(null),i=0;i<d.length;i++)u[(a=d[i])[0]]=o[a[1]];return o});var Ar=Sr;De({target:"RegExp",proto:!0,forced:/./.exec!==Ar},{exec:Ar});var Mr=Function.prototype,Rr=Mr.apply,kr=Mr.bind,Cr=Mr.call,Lr="object"==typeof Reflect&&Reflect.apply||(kr?Cr.bind(Rr):function(){return Cr.apply(Rr,arguments)}),Nr=wt("species"),Fr=RegExp.prototype,Dr=T("".charAt),Vr=T("".charCodeAt),zr=T("".slice),_r=function(t){return function(e,n){var r,o,i=Ue(L(e)),u=se(n),a=i.length;return u<0||u>=a?t?"":void 0:(r=Vr(i,u))<55296||r>56319||u+1===a||(o=Vr(i,u+1))<56320||o>57343?t?Dr(i,u):r:t?zr(i,u,u+2):o-56320+(r-55296<<10)+65536}},$r={codeAt:_r(!1),charAt:_r(!0)},Wr=$r.charAt,Br=function(t,e,n){return e+(n?Wr(t,e).length:1)},Gr=Math.floor,Hr=T("".charAt),Ur=T("".replace),qr=T("".slice),Kr=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Xr=/\$([$&'`]|\d{1,2})/g,Yr=function(t,e,n,r,o,i){var u=n+t.length,a=r.length,c=Xr;return void 0!==o&&(o=ft(o),c=Kr),Ur(i,c,(function(i,c){var f;switch(Hr(c,0)){case"$":return"$";case"&":return t;case"`":return qr(e,0,n);case"'":return qr(e,u);case"<":f=o[qr(c,1,-1)];break;default:var s=+c;if(0===s)return i;if(s>a){var l=Gr(s/10);return 0===l?i:l<=a?void 0===r[l-1]?Hr(c,1):r[l-1]+Hr(c,1):i}f=r[s-1]}return void 0===f?"":f}))},Jr=d.TypeError,Qr=function(t,e){var n=t.exec;if(F(n)){var r=y(n,t,e);return null!==r&&Ct(r),r}if("RegExp"===A(t))return y(Ar,t,e);throw Jr("RegExp#exec called on incompatible receiver")},Zr=wt("replace"),to=Math.max,eo=Math.min,no=T([].concat),ro=T([].push),oo=T("".indexOf),io=T("".slice),uo="$0"==="a".replace(/./,"$0"),ao=!!/./[Zr]&&""===/./[Zr]("a","$0");!function(t,e,n,r){var o=wt(t),i=!p((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),u=i&&!p((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Nr]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!i||!u||n){var a=T(/./[o]),c=e(o,""[t],(function(t,e,n,r,o){var u=T(t),c=e.exec;return c===Ar||c===Fr.exec?i&&!o?{done:!0,value:a(e,n,r)}:{done:!0,value:u(n,e,r)}:{done:!1}}));ae(String.prototype,t,c[0]),ae(Fr,o,c[1])}r&&Dt(Fr[o],"sham",!0)}("replace",(function(t,e,n){var r=ao?"$":"$0";return[function(t,n){var r=L(this),o=null==t?void 0:et(t,Zr);return o?y(o,t,r,n):y(e,Ue(r),t,n)},function(t,o){var i=Ct(this),u=Ue(t);if("string"==typeof o&&-1===oo(o,r)&&-1===oo(o,"$<")){var a=n(e,i,u,o);if(a.done)return a.value}var c=F(o);c||(o=Ue(o));var f=i.global;if(f){var s=i.unicode;i.lastIndex=0}for(var l=[];;){var d=Qr(i,u);if(null===d)break;if(ro(l,d),!f)break;""===Ue(d[0])&&(i.lastIndex=Br(u,he(i.lastIndex),s))}for(var p,v="",h=0,y=0;y<l.length;y++){for(var g=Ue((d=l[y])[0]),m=to(eo(se(d.index),u.length),0),b=[],w=1;w<d.length;w++)ro(b,void 0===(p=d[w])?p:String(p));var S=d.groups;if(c){var x=no([g],b,m,u);void 0!==S&&ro(x,S);var E=Ue(Lr(o,void 0,x))}else E=Yr(g,u,m,b,S,o);m>=h&&(v+=io(u,h,m)+E,h=m+g.length)}return v+io(u,h)}]}),!!p((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!uo||ao);var co=d.Promise,fo=function(t,e,n){for(var r in e)ae(t,r,e[r],n);return t},so=d.String,lo=d.TypeError,po=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=T(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return Ct(n),function(t){if("object"==typeof t||F(t))return t;throw lo("Can't set "+so(t)+" as a prototype")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),vo=Ft.f,ho=wt("toStringTag"),yo=function(t,e,n){t&&!lt(t=n?t:t.prototype,ho)&&vo(t,ho,{configurable:!0,value:e})},go=wt("species"),mo=d.TypeError,bo=function(t,e){if(_(e,t))return t;throw mo("Incorrect invocation")},wo={},So=wt("iterator"),xo=Array.prototype,Eo=wt("iterator"),Oo=function(t){if(null!=t)return et(t,Eo)||et(t,"@@iterator")||wo[Ge(t)]},jo=d.TypeError,To=function(t,e,n){var r,o;Ct(t);try{if(!(r=et(t,"return"))){if("throw"===e)throw n;return n}r=y(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return Ct(r),n},Io=d.TypeError,Po=function(t,e){this.stopped=t,this.result=e},Ao=Po.prototype,Mo=function(t,e,n){var r,o,i,u,a,c,f,s,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),h=zn(e,l),g=function(t){return r&&To(r,"normal",t),new Po(!0,t)},m=function(t){return d?(Ct(t),v?h(t[0],t[1],g):h(t[0],t[1])):v?h(t,g):h(t)};if(p)r=t;else{if(!(o=Oo(t)))throw Io(Q(t)+" is not iterable");if(void 0!==(s=o)&&(wo.Array===s||xo[So]===s)){for(i=0,u=ye(t);u>i;i++)if((a=m(t[i]))&&_(Ao,a))return a;return new Po(!1)}r=function(t,e){var n=arguments.length<2?Oo(t):e;if(tt(n))return Ct(y(n,t));throw jo(Q(t)+" is not iterable")}(t,o)}for(c=r.next;!(f=y(c,r)).done;){try{a=m(f.value)}catch(t){To(r,"throw",t)}if("object"==typeof a&&a&&_(Ao,a))return a}return new Po(!1)},Ro=wt("iterator"),ko=!1;try{var Co=0,Lo={next:function(){return{done:!!Co++}},return:function(){ko=!0}};Lo[Ro]=function(){return this},Array.from(Lo,(function(){throw 2}))}catch(t){}var No,Fo,Do,Vo,zo=function(t,e){if(!e&&!ko)return!1;var n=!1;try{var r={};r[Ro]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},_o=d.TypeError,$o=wt("species"),Wo=function(t,e){var n,r=Ct(t).constructor;return void 0===r||null==(n=Ct(r)[$o])?e:function(t){if(Kn(t))return t;throw _o(Q(t)+" is not a constructor")}(n)},Bo=T([].slice),Go=/(?:ipad|iphone|ipod).*applewebkit/i.test($),Ho="process"==A(d.process),Uo=d.setImmediate,qo=d.clearImmediate,Ko=d.process,Xo=d.Dispatch,Yo=d.Function,Jo=d.MessageChannel,Qo=d.String,Zo=0,ti={},ei="onreadystatechange";try{No=d.location}catch(t){}var ni=function(t){if(lt(ti,t)){var e=ti[t];delete ti[t],e()}},ri=function(t){return function(){ni(t)}},oi=function(t){ni(t.data)},ii=function(t){d.postMessage(Qo(t),No.protocol+"//"+No.host)};Uo&&qo||(Uo=function(t){var e=Bo(arguments,1);return ti[++Zo]=function(){Lr(F(t)?t:Yo(t),void 0,e)},Fo(Zo),Zo},qo=function(t){delete ti[t]},Ho?Fo=function(t){Ko.nextTick(ri(t))}:Xo&&Xo.now?Fo=function(t){Xo.now(ri(t))}:Jo&&!Go?(Vo=(Do=new Jo).port2,Do.port1.onmessage=oi,Fo=zn(Vo.postMessage,Vo)):d.addEventListener&&F(d.postMessage)&&!d.importScripts&&No&&"file:"!==No.protocol&&!p(ii)?(Fo=ii,d.addEventListener("message",oi,!1)):Fo=ei in It("script")?function(t){jn.appendChild(It("script")).onreadystatechange=function(){jn.removeChild(this),ni(t)}}:function(t){setTimeout(ri(t),0)});var ui,ai,ci,fi,si,li,di,pi,vi={set:Uo,clear:qo},hi=/ipad|iphone|ipod/i.test($)&&void 0!==d.Pebble,yi=/web0s(?!.*chrome)/i.test($),gi=Mt.f,mi=vi.set,bi=d.MutationObserver||d.WebKitMutationObserver,wi=d.document,Si=d.process,xi=d.Promise,Ei=gi(d,"queueMicrotask"),Oi=Ei&&Ei.value;Oi||(ui=function(){var t,e;for(Ho&&(t=Si.domain)&&t.exit();ai;){e=ai.fn,ai=ai.next;try{e()}catch(t){throw ai?fi():ci=void 0,t}}ci=void 0,t&&t.enter()},Go||Ho||yi||!bi||!wi?!hi&&xi&&xi.resolve?((di=xi.resolve(void 0)).constructor=xi,pi=zn(di.then,di),fi=function(){pi(ui)}):Ho?fi=function(){Si.nextTick(ui)}:(mi=zn(mi,d),fi=function(){mi(ui)}):(si=!0,li=wi.createTextNode(""),new bi(ui).observe(li,{characterData:!0}),fi=function(){li.data=si=!si}));var ji,Ti,Ii,Pi,Ai=Oi||function(t){var e={fn:t,next:void 0};ci&&(ci.next=e),ai||(ai=e,fi()),ci=e},Mi=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=tt(e),this.reject=tt(n)},Ri={f:function(t){return new Mi(t)}},ki=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Ci="object"==typeof window,Li=vi.set,Ni=wt("species"),Fi="Promise",Di=ne.getterFor(Fi),Vi=ne.set,zi=ne.getterFor(Fi),_i=co&&co.prototype,$i=co,Wi=_i,Bi=d.TypeError,Gi=d.document,Hi=d.process,Ui=Ri.f,qi=Ui,Ki=!!(Gi&&Gi.createEvent&&d.dispatchEvent),Xi=F(d.PromiseRejectionEvent),Yi="unhandledrejection",Ji=!1,Qi=Ne(Fi,(function(){var t=Wt($i),e=t!==String($i);if(!e&&66===U)return!0;if(U>=51&&/native code/.test(t))return!1;var n=new $i((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[Ni]=r,!(Ji=n.then((function(){}))instanceof r)||!e&&Ci&&!Xi})),Zi=Qi||!zo((function(t){$i.all(t).catch((function(){}))})),tu=function(t){var e;return!(!D(t)||!F(e=t.then))&&e},eu=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;Ai((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var u,a,c,f=n[i++],s=o?f.ok:f.fail,l=f.resolve,d=f.reject,p=f.domain;try{s?(o||(2===t.rejection&&iu(t),t.rejection=1),!0===s?u=r:(p&&p.enter(),u=s(r),p&&(p.exit(),c=!0)),u===f.promise?d(Bi("Promise-chain cycle")):(a=tu(u))?y(a,u,l,d):l(u)):d(r)}catch(t){p&&!c&&p.exit(),d(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&ru(t)}))}},nu=function(t,e,n){var r,o;Ki?((r=Gi.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),d.dispatchEvent(r)):r={promise:e,reason:n},!Xi&&(o=d["on"+t])?o(r):t===Yi&&function(t,e){var n=d.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},ru=function(t){y(Li,d,(function(){var e,n=t.facade,r=t.value;if(ou(t)&&(e=ki((function(){Ho?Hi.emit("unhandledRejection",r,n):nu(Yi,n,r)})),t.rejection=Ho||ou(t)?2:1,e.error))throw e.value}))},ou=function(t){return 1!==t.rejection&&!t.parent},iu=function(t){y(Li,d,(function(){var e=t.facade;Ho?Hi.emit("rejectionHandled",e):nu("rejectionhandled",e,t.value)}))},uu=function(t,e,n){return function(r){t(e,r,n)}},au=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,eu(t,!0))},cu=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Bi("Promise can't be resolved itself");var r=tu(e);r?Ai((function(){var n={done:!1};try{y(r,e,uu(cu,n,t),uu(au,n,t))}catch(e){au(n,e,t)}})):(t.value=e,t.state=1,eu(t,!1))}catch(e){au({done:!1},e,t)}}};if(Qi&&(Wi=($i=function(t){bo(this,Wi),tt(t),y(ji,this);var e=Di(this);try{t(uu(cu,e),uu(au,e))}catch(t){au(e,t)}}).prototype,(ji=function(t){Vi(this,{type:Fi,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=fo(Wi,{then:function(t,e){var n=zi(this),r=n.reactions,o=Ui(Wo(this,$i));return o.ok=!F(t)||t,o.fail=F(e)&&e,o.domain=Ho?Hi.domain:void 0,n.parent=!0,r[r.length]=o,0!=n.state&&eu(n,!1),o.promise},catch:function(t){return this.then(void 0,t)}}),Ti=function(){var t=new ji,e=Di(t);this.promise=t,this.resolve=uu(cu,e),this.reject=uu(au,e)},Ri.f=Ui=function(t){return t===$i||t===Ii?new Ti(t):qi(t)},F(co)&&_i!==Object.prototype)){Pi=_i.then,Ji||(ae(_i,"then",(function(t,e){var n=this;return new $i((function(t,e){y(Pi,n,t,e)})).then(t,e)}),{unsafe:!0}),ae(_i,"catch",Wi.catch,{unsafe:!0}));try{delete _i.constructor}catch(t){}po&&po(_i,Wi)}function fu(t,n){return on(this,void 0,void 0,(function(){var r,o,i,u,a,c,f;return un(this,(function(s){switch(s.label){case 0:return n?(t.restoreSelection(),r=t.getMenuConfig("insertVideo"),o=r.onInsertedVideo,i=r.checkVideo,u=r.parseVideoSrc,[4,i(n)]):[2];case 1:return"string"==typeof(a=s.sent())?(t.alert(a,"error"),[2]):null==a?[2]:[4,u(n)];case 2:return 0!==(c=s.sent()).trim().indexOf("<iframe")&&(c=c.replace(/</g,"&lt;").replace(/>/g,"&gt;")),f={type:"video",src:c,children:[{text:""}]},Promise.resolve().then((function(){e.Transforms.insertNodes(t,f)})),o(f),[2]}}))}))}function su(){return void 0===(t="w-e-insert-video")&&(t="r"),t+"-"+o.nanoid();var t}De({global:!0,wrap:!0,forced:Qi},{Promise:$i}),yo($i,Fi,!1),function(t){var e=z(t),n=Ft.f;v&&e&&!e[go]&&n(e,go,{configurable:!0,get:function(){return this}})}(Fi),Ii=z(Fi),De({target:Fi,stat:!0,forced:Qi},{reject:function(t){var e=Ui(this);return y(e.reject,void 0,t),e.promise}}),De({target:Fi,stat:!0,forced:Qi},{resolve:function(t){return function(t,e){if(Ct(t),D(e)&&e.constructor===t)return e;var n=Ri.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),De({target:Fi,stat:!0,forced:Zi},{all:function(t){var e=this,n=Ui(e),r=n.resolve,o=n.reject,i=ki((function(){var n=tt(e.resolve),i=[],u=0,a=1;Mo(t,(function(t){var c=u++,f=!1;a++,y(n,e,t).then((function(t){f||(f=!0,i[c]=t,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=Ui(e),r=n.reject,o=ki((function(){var o=tt(e.resolve);Mo(t,(function(t){y(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var lu=function(){function n(){this.title=t.t("videoModule.insertVideo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=320,this.$content=null,this.srcInputId=su(),this.buttonId=su()}return n.prototype.getValue=function(t){return""},n.prototype.isActive=function(t){return!1},n.prototype.exec=function(t,e){},n.prototype.isDisabled=function(n){var r=n.selection;return null==r||(!e.Range.isCollapsed(r)||!!t.DomEditor.getSelectedElems(n).some((function(e){return"pre"===t.DomEditor.getNodeType(e)||!!n.isVoid(e)})))},n.prototype.getModalPositionNode=function(t){return null},n.prototype.getModalContentElem=function(e){var n=this,r=this.srcInputId,o=this.buttonId,i=cn(t.genModalInputElems(t.t("videoModule.videoSrc"),r,t.t("videoModule.insertPlaceHolder")),2),a=i[0],c=i[1],f=u.default(c),s=cn(t.genModalButtonElems(o,t.t("videoModule.ok")),1)[0];if(null==this.$content){var l=u.default("<div></div>");l.on("click","#"+o,(function(t){return on(n,void 0,void 0,(function(){var n;return un(this,(function(o){switch(o.label){case 0:return t.preventDefault(),n=l.find("#"+r).val().trim(),[4,fu(e,n)];case 1:return o.sent(),e.hidePanelOrModal(),[2]}}))}))})),this.$content=l}var d=this.$content;return d.html(""),d.append(a),d.append(s),f.val(""),setTimeout((function(){f.focus()})),d[0]},n}(),du=T([].join),pu=k!=Object,vu=function(t,e){var n=[][t];return!!n&&p((function(){n.call(null,e||function(){throw 1},1)}))}("join",",");De({target:"Array",proto:!0,forced:pu||!vu},{join:function(t){return du(N(this),void 0===t?",":t)}});var hu,yu,gu,mu=!p((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),bu=Ut("IE_PROTO"),wu=d.Object,Su=wu.prototype,xu=mu?wu.getPrototypeOf:function(t){var e=ft(t);if(lt(e,bu))return e[bu];var n=e.constructor;return F(n)&&e instanceof n?n.prototype:e instanceof wu?Su:null},Eu=wt("iterator"),Ou=!1;[].keys&&("next"in(gu=[].keys())?(yu=xu(xu(gu)))!==Object.prototype&&(hu=yu):Ou=!0);var ju=null==hu||p((function(){var t={};return hu[Eu].call(t)!==t}));ju&&(hu={}),F(hu[Eu])||ae(hu,Eu,(function(){return this}));var Tu={IteratorPrototype:hu,BUGGY_SAFARI_ITERATORS:Ou},Iu=Tu.IteratorPrototype,Pu=function(){return this},Au=ue.PROPER,Mu=ue.CONFIGURABLE,Ru=Tu.IteratorPrototype,ku=Tu.BUGGY_SAFARI_ITERATORS,Cu=wt("iterator"),Lu="keys",Nu="values",Fu="entries",Du=function(){return this},Vu=function(t,e,n,r,o,i,u){!function(t,e,n,r){var o=e+" Iterator";t.prototype=Rn(Iu,{next:S(+!r,n)}),yo(t,o,!1),wo[o]=Pu}(n,e,r);var a,c,f,s=function(t){if(t===o&&h)return h;if(!ku&&t in p)return p[t];switch(t){case Lu:case Nu:case Fu:return function(){return new n(this,t)}}return function(){return new n(this)}},l=e+" Iterator",d=!1,p=t.prototype,v=p[Cu]||p["@@iterator"]||o&&p[o],h=!ku&&v||s(o),g="Array"==e&&p.entries||v;if(g&&(a=xu(g.call(new t)))!==Object.prototype&&a.next&&(xu(a)!==Ru&&(po?po(a,Ru):F(a[Cu])||ae(a,Cu,Du)),yo(a,l,!0)),Au&&o==Nu&&v&&v.name!==Nu&&(Mu?Dt(p,"name",Nu):(d=!0,h=function(){return y(v,this)})),o)if(c={values:s(Nu),keys:i?h:s(Lu),entries:s(Fu)},u)for(f in c)(ku||d||!(f in p))&&ae(p,f,c[f]);else De({target:e,proto:!0,forced:ku||d},c);return p[Cu]!==h&&ae(p,Cu,h,{name:o}),wo[e]=h,c},zu="Array Iterator",_u=ne.set,$u=ne.getterFor(zu),Wu=Vu(Array,"Array",(function(t,e){_u(this,{type:zu,target:N(t),index:0,kind:e})}),(function(){var t=$u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");wo.Arguments=wo.Array,Ln("keys"),Ln("values"),Ln("entries");var Bu=$r.charAt,Gu="String Iterator",Hu=ne.set,Uu=ne.getterFor(Gu);Vu(String,"String",(function(t){Hu(this,{type:Gu,string:Ue(t),index:0})}),(function(){var t,e=Uu(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Bu(n,r),e.index+=t.length,{value:t,done:!1})}));var qu=function(t,e,n){var r=Ot(e);r in t?Ft.f(t,r,S(0,n)):t[r]=n},Ku=d.Array,Xu=Math.max,Yu=Oe.f,Ju="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Qu=function(t){try{return Yu(t)}catch(t){return function(t,e,n){for(var r=ye(t),o=pe(e,r),i=pe(void 0===n?r:n,r),u=Ku(Xu(i-o,0)),a=0;o<i;o++,a++)qu(u,a,t[o]);return u.length=a,u}(Ju)}},Zu={f:function(t){return Ju&&"Window"==A(t)?Qu(t):Yu(N(t))}},ta=p((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),ea=Object.isExtensible,na=p((function(){ea(1)}))||ta?function(t){return!!D(t)&&((!ta||"ArrayBuffer"!=A(t))&&(!ea||ea(t)))}:ea,ra=!p((function(){return Object.isExtensible(Object.preventExtensions({}))})),oa=c((function(t){var e=Ft.f,n=!1,r=ht("meta"),o=0,i=function(t){e(t,r,{value:{objectID:"O"+o++,weakData:{}}})},u=t.exports={enable:function(){u.enable=function(){},n=!0;var t=Oe.f,e=T([].splice),o={};o[r]=1,t(o).length&&(Oe.f=function(n){for(var o=t(n),i=0,u=o.length;i<u;i++)if(o[i]===r){e(o,i,1);break}return o},De({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Zu.f}))},fastKey:function(t,e){if(!D(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!lt(t,r)){if(!na(t))return"F";if(!e)return"E";i(t)}return t[r].objectID},getWeakData:function(t,e){if(!lt(t,r)){if(!na(t))return!0;if(!e)return!1;i(t)}return t[r].weakData},onFreeze:function(t){return ra&&n&&na(t)&&!lt(t,r)&&i(t),t}};qt[r]=!0})),ia=oa.getWeakData,ua=ne.set,aa=ne.getterFor,ca=tr.find,fa=tr.findIndex,sa=T([].splice),la=0,da=function(t){return t.frozen||(t.frozen=new pa)},pa=function(){this.entries=[]},va=function(t,e){return ca(t.entries,(function(t){return t[0]===e}))};pa.prototype={get:function(t){var e=va(this,t);if(e)return e[1]},has:function(t){return!!va(this,t)},set:function(t,e){var n=va(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=fa(this.entries,(function(e){return e[0]===t}));return~e&&sa(this.entries,e,1),!!~e}};var ha,ya={getConstructor:function(t,e,n,r){var o=t((function(t,o){bo(t,i),ua(t,{type:e,id:la++,frozen:void 0}),null!=o&&Mo(o,t[r],{that:t,AS_ENTRIES:n})})),i=o.prototype,u=aa(e),a=function(t,e,n){var r=u(t),o=ia(Ct(e),!0);return!0===o?da(r).set(e,n):o[r.id]=n,t};return fo(i,{delete:function(t){var e=u(this);if(!D(t))return!1;var n=ia(t);return!0===n?da(e).delete(t):n&&lt(n,e.id)&&delete n[e.id]},has:function(t){var e=u(this);if(!D(t))return!1;var n=ia(t);return!0===n?da(e).has(t):n&&lt(n,e.id)}}),fo(i,n?{get:function(t){var e=u(this);if(D(t)){var n=ia(t);return!0===n?da(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),o}},ga=ne.enforce,ma=!d.ActiveXObject&&"ActiveXObject"in d,ba=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},wa=function(t,e,n){var r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),i=r?"set":"add",u=d[t],a=u&&u.prototype,c=u,f={},s=function(t){var e=T(a[t]);ae(a,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!D(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return o&&!D(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!D(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(Ne(t,!F(u)||!(o||a.forEach&&!p((function(){(new u).entries().next()})))))c=n.getConstructor(e,t,r,i),oa.enable();else if(Ne(t,!0)){var l=new c,v=l[i](o?{}:-0,1)!=l,h=p((function(){l.has(1)})),y=zo((function(t){new u(t)})),g=!o&&p((function(){for(var t=new u,e=5;e--;)t[i](e,e);return!t.has(-0)}));y||((c=e((function(t,e){bo(t,a);var n=function(t,e,n){var r,o;return po&&F(r=e.constructor)&&r!==n&&D(o=r.prototype)&&o!==n.prototype&&po(t,o),t}(new u,t,c);return null!=e&&Mo(e,n[i],{that:n,AS_ENTRIES:r}),n}))).prototype=a,a.constructor=c),(h||g)&&(s("delete"),s("has"),r&&s("get")),(g||v)&&s(i),o&&a.clear&&delete a.clear}return f[t]=c,De({global:!0,forced:c!=u},f),yo(c,t),o||n.setStrong(c,t,r),c}("WeakMap",ba,ya);if(Gt&&ma){ha=ya.getConstructor(ba,"WeakMap",!0),oa.enable();var Sa=wa.prototype,xa=T(Sa.delete),Ea=T(Sa.has),Oa=T(Sa.get),ja=T(Sa.set);fo(Sa,{delete:function(t){if(D(t)&&!na(t)){var e=ga(this);return e.frozen||(e.frozen=new ha),xa(this,t)||e.frozen.delete(t)}return xa(this,t)},has:function(t){if(D(t)&&!na(t)){var e=ga(this);return e.frozen||(e.frozen=new ha),Ea(this,t)||e.frozen.has(t)}return Ea(this,t)},get:function(t){if(D(t)&&!na(t)){var e=ga(this);return e.frozen||(e.frozen=new ha),Ea(this,t)?Oa(this,t):e.frozen.get(t)}return Oa(this,t)},set:function(t,e){if(D(t)&&!na(t)){var n=ga(this);n.frozen||(n.frozen=new ha),Ea(this,t)?ja(this,t,e):n.frozen.set(t,e)}else ja(this,t,e);return this}})}var Ta={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ia=It("span").classList,Pa=Ia&&Ia.constructor&&Ia.constructor.prototype,Aa=Pa===Object.prototype?void 0:Pa,Ma=wt("iterator"),Ra=wt("toStringTag"),ka=Wu.values,Ca=function(t,e){if(t){if(t[Ma]!==ka)try{Dt(t,Ma,ka)}catch(e){t[Ma]=ka}if(t[Ra]||Dt(t,Ra,e),Ta[e])for(var n in Wu)if(t[n]!==Wu[n])try{Dt(t,n,Wu[n])}catch(e){t[n]=Wu[n]}}};for(var La in Ta)Ca(d[La]&&d[La].prototype,La);Ca(Aa,"DOMTokenList");var Na=ue.EXISTS,Fa=Ft.f,Da=Function.prototype,Va=T(Da.toString),za=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,_a=T(za.exec);v&&!Na&&Fa(Da,"name",{configurable:!0,get:function(){try{return _a(za,Va(this))[1]}catch(t){return""}}});var $a=wt("species"),Wa=function(t){return U>=51||!p((function(){var e=[];return(e.constructor={})[$a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}("slice"),Ba=wt("species"),Ga=d.Array,Ha=Math.max;function Ua(t){return t.getMenuConfig("uploadVideo")}De({target:"Array",proto:!0,forced:!Wa},{slice:function(t,e){var n,r,o,i=N(this),u=ye(i),a=pe(t,u),c=pe(void 0===e?u:e,u);if(_n(i)&&(n=i.constructor,(Kn(n)&&(n===Ga||_n(n.prototype))||D(n)&&null===(n=n[Ba]))&&(n=void 0),n===Ga||void 0===n))return Bo(i,a,c);for(r=new(void 0===n?Ga:n)(Ha(c-a,0)),o=0;a<c;a++,o++)a in i&&qu(r,o,i[a]);return r.length=o,r}});var qa=new WeakMap;function Ka(e,n){return on(this,void 0,void 0,(function(){var r,o,i,u;return un(this,(function(a){switch(a.label){case 0:return r=function(e){var n=qa.get(e);if(null!=n)return n;var r=Ua(e),o=r.onSuccess,i=r.onProgress,u=r.onFailed,a=r.customInsert,c=r.onError;return n=t.createUploader(rn(rn({},r),{onProgress:function(t){e.showProgressBar(t),i&&i(t)},onSuccess:function(t,n){if(a)a(n,(function(t){return fu(e,t)}));else{var r=n.errno,i=void 0===r?1:r,c=n.data,f=void 0===c?{}:c;if(0!==i)return console.error("'"+t.name+"' upload failed",n),void u(t,n);var s=f.url;fu(e,void 0===s?"":s),o(t,n)}},onError:function(t,e,n){var r=t.name;console.error("'"+r+" upload error",e,n),c&&c(t,e,n)}})),qa.set(e,n),n}(e),o=n.name,i=n.type,u=n.size,r.addFile({name:o,type:i,size:u,data:n}),[4,r.upload()];case 1:return a.sent(),[2]}}))}))}var Xa=function(){function n(){this.title=t.t("videoModule.uploadVideo"),this.iconSvg='<svg viewBox="0 0 1056 1024"><path d="M805.902261 521.819882a251.441452 251.441452 0 0 0-251.011972 246.600033 251.051015 251.051015 0 1 0 502.023944 8.823877 253.237463 253.237463 0 0 0-251.011972-255.42391z m59.463561 240.001647v129.898403h-116.701631v-129.898403h-44.041298l101.279368-103.504859 101.279368 103.504859z" p-id="6802"></path><path d="M788.254507 0.000781H99.094092A98.663439 98.663439 0 0 0 0.001171 99.093701v590.067495a98.663439 98.663439 0 0 0 99.092921 99.092921h411.7549a266.434235 266.434235 0 0 1-2.186448-41.815807 275.843767 275.843767 0 0 1 275.180024-270.729042 270.650955 270.650955 0 0 1 103.504859 19.834201V99.093701A101.51363 101.51363 0 0 0 788.254507 0.000781zM295.054441 640.747004V147.507894l394.146189 246.600033z"></path></svg>',this.tag="button"}return n.prototype.getValue=function(t){return""},n.prototype.isActive=function(t){return!1},n.prototype.exec=function(t,e){var n=this.getMenuConfig(t),r=n.allowedFileTypes,o=void 0===r?[]:r,i=n.customBrowseAndUpload;if(i)i((function(e){return fu(t,e)}));else{var a="";o.length>0&&(a='accept="'+o.join(", ")+'"');var c=u.default("body"),f=u.default('<input type="file" '+a+" multiple/>");f.hide(),c.append(f),f.click(),f.on("change",(function(){var e=f[0].files;!function(t,e){var n,r;on(this,void 0,void 0,(function(){var o,i,u,a,c,f;return un(this,(function(s){switch(s.label){case 0:if(null==e)return[2];o=Array.prototype.slice.call(e),i=Ua(t).customUpload,s.label=1;case 1:s.trys.push([1,9,10,15]),u=fn(o),s.label=2;case 2:return[4,u.next()];case 3:return(a=s.sent()).done?[3,8]:(c=a.value,i?[4,i(c,(function(e){return fu(t,e)}))]:[3,5]);case 4:return s.sent(),[3,7];case 5:return[4,Ka(t,c)];case 6:s.sent(),s.label=7;case 7:return[3,2];case 8:return[3,15];case 9:return f=s.sent(),n={error:f},[3,15];case 10:return s.trys.push([10,,13,14]),a&&!a.done&&(r=u.return)?[4,r.call(u)]:[3,12];case 11:s.sent(),s.label=12;case 12:return[3,14];case 13:if(n)throw n.error;return[7];case 14:return[7];case 15:return[2]}}))}))}(t,e)}))}},n.prototype.isDisabled=function(n){var r=n.selection;return null==r||(!e.Range.isCollapsed(r)||!!t.DomEditor.getSelectedElems(n).some((function(e){return"pre"===t.DomEditor.getNodeType(e)||!!n.isVoid(e)})))},n.prototype.getMenuConfig=function(t){return t.getMenuConfig("uploadVideo")},n}();var Ya={renderElems:[wn],elemsToHtml:[xn],preParseHtml:[Dn],parseElemsHtml:[cr],menus:[{key:"insertVideo",factory:function(){return new lu},config:{onInsertedVideo:function(t){},checkVideo:function(t){return!0},parseVideoSrc:function(t){return t}}},{key:"uploadVideo",factory:function(){return new Xa},config:{server:"",fieldName:"wangeditor-uploaded-video",maxFileSize:10485760,maxNumberOfFiles:5,allowedFileTypes:["video/*"],meta:{},metaWithUrl:!1,withCredentials:!1,timeout:3e4,onBeforeUpload:function(t){return t},onProgress:function(t){},onSuccess:function(t,e){},onFailed:function(t,e){},onError:function(t,e,n){}}}],editorPlugin:function(n){var r=n.isVoid,o=n.normalizeNode,i=n;return i.isVoid=function(t){return"video"===t.type||r(t)},i.normalizeNode=function(n){var r=cn(n,2),u=r[0],a=r[1];if("video"===t.DomEditor.getNodeType(u)){var c=(i.children||[])[a[0]+1]||{},f=t.DomEditor.getNodeType(c);if("paragraph"!==f&&"blockquote"!==f&&!f.startsWith("header")){var s=[a[0]+1];e.Transforms.insertNodes(i,{type:"paragraph",children:[{text:""}]},{at:s})}}return o([u,a])},i}};return Ya}));
//# sourceMappingURL=index.js.map

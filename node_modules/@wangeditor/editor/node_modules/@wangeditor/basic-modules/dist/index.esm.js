import{i18nAddResources as t,DomEditor as e,t as n,genModalInputElems as r,genModalButtonElems as o}from"@wangeditor/core";import{jsx as i,h as u}from"snabbdom";import{Text as a,Editor as c,Element as l,Node as s,Transforms as f,Range as p,Point as d}from"slate";import h,{css as v,append as g,prepend as y,addClass as m,removeClass as b,hasClass as x,on as w,off as S,focus as k,attr as E,removeAttr as T,hide as M,show as O,parents as H,dataset as I,val as N,text as L,html as z,children as j,remove as A,find as P,width as V,height as C,filter as B}from"dom7";import{nanoid as D}from"nanoid";import R from"lodash.throttle";t("en",{common:{ok:"OK",delete:"Delete"},blockQuote:{title:"Quote"},codeBlock:{title:"Code block"},color:{color:"Font color",bgColor:"Back color",default:"Default color",clear:"Clear back color"},divider:{title:"Divider"},emotion:{title:"Emotion"},fontSize:{title:"Font size",default:"Default"},fontFamily:{title:"Font family",default:"Default"},fullScreen:{title:"Full screen"},header:{title:"Header",text:"Text"},image:{netImage:"Net image",delete:"Delete image",edit:"Edit image",viewLink:"View link",src:"Image src",desc:"Description",link:"Image link"},indent:{decrease:"Decrease",increase:"Increase"},justify:{left:"Left",right:"Right",center:"Center",justify:"Justify"},lineHeight:{title:"Line height",default:"Default"},link:{insert:"Insert link",text:"Link text",url:"Link source",unLink:"Unlink",edit:"Edit link",view:"View link"},textStyle:{bold:"Bold",clear:"Clear styles",code:"Inline code",italic:"Italic",sub:"Sub",sup:"Sup",through:"Through",underline:"Underline"},undo:{undo:"undo",redo:"Redo"},todo:{todo:"Todo"}}),t("zh-CN",{common:{ok:"确定",delete:"删除"},blockQuote:{title:"引用"},codeBlock:{title:"代码块"},color:{color:"文字颜色",bgColor:"背景色",default:"默认颜色",clear:"清除背景色"},divider:{title:"分割线"},emotion:{title:"表情"},fontSize:{title:"字号",default:"默认字号"},fontFamily:{title:"字体",default:"默认字体"},fullScreen:{title:"全屏"},header:{title:"标题",text:"正文"},image:{netImage:"网络图片",delete:"删除图片",edit:"编辑图片",viewLink:"查看链接",src:"图片地址",desc:"图片描述",link:"图片链接"},indent:{decrease:"减少缩进",increase:"增加缩进"},justify:{left:"左对齐",right:"右对齐",center:"居中对齐",justify:"两端对齐"},lineHeight:{title:"行高",default:"默认行高"},link:{insert:"插入链接",text:"链接文本",url:"链接地址",unLink:"取消链接",edit:"修改链接",view:"查看链接"},textStyle:{bold:"粗体",clear:"清除格式",code:"行内代码",italic:"斜体",sub:"下标",sup:"上标",through:"删除线",underline:"下划线"},undo:{undo:"撤销",redo:"重做"},todo:{todo:"待办"}});var F={type:"paragraph",renderElem:function(t,e,n){return i("p",null,e)}};var _={type:"paragraph",elemToHtml:function(t,e){return""===e?"<p><br></p>":"<p>"+e+"</p>"}},$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function q(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function W(t){var e={exports:{}};return t(e,e.exports),e.exports}var G,U,X=function(t){return t&&t.Math==Math&&t},Y=X("object"==typeof globalThis&&globalThis)||X("object"==typeof window&&window)||X("object"==typeof self&&self)||X("object"==typeof $&&$)||function(){return this}()||Function("return this")(),J=function(t){try{return!!t()}catch(t){return!0}},K=!J((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Q=Function.prototype.call,Z=Q.bind?Q.bind(Q):function(){return Q.apply(Q,arguments)},tt={}.propertyIsEnumerable,et=Object.getOwnPropertyDescriptor,nt=et&&!tt.call({1:2},1)?function(t){var e=et(this,t);return!!e&&e.enumerable}:tt,rt={f:nt},ot=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},it=Function.prototype,ut=it.bind,at=it.call,ct=ut&&ut.bind(at),lt=ut?function(t){return t&&ct(at,t)}:function(t){return t&&function(){return at.apply(t,arguments)}},st=lt({}.toString),ft=lt("".slice),pt=function(t){return ft(st(t),8,-1)},dt=Y.Object,ht=lt("".split),vt=J((function(){return!dt("z").propertyIsEnumerable(0)}))?function(t){return"String"==pt(t)?ht(t,""):dt(t)}:dt,gt=Y.TypeError,yt=function(t){if(null==t)throw gt("Can't call method on "+t);return t},mt=function(t){return vt(yt(t))},bt=function(t){return"function"==typeof t},xt=function(t){return"object"==typeof t?null!==t:bt(t)},wt=function(t){return bt(t)?t:void 0},St=function(t,e){return arguments.length<2?wt(Y[t]):Y[t]&&Y[t][e]},kt=lt({}.isPrototypeOf),Et=St("navigator","userAgent")||"",Tt=Y.process,Mt=Y.Deno,Ot=Tt&&Tt.versions||Mt&&Mt.version,Ht=Ot&&Ot.v8;Ht&&(U=(G=Ht.split("."))[0]>0&&G[0]<4?1:+(G[0]+G[1])),!U&&Et&&(!(G=Et.match(/Edge\/(\d+)/))||G[1]>=74)&&(G=Et.match(/Chrome\/(\d+)/))&&(U=+G[1]);var It=U,Nt=!!Object.getOwnPropertySymbols&&!J((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&It&&It<41})),Lt=Nt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,zt=Y.Object,jt=Lt?function(t){return"symbol"==typeof t}:function(t){var e=St("Symbol");return bt(e)&&kt(e.prototype,zt(t))},At=Y.String,Pt=function(t){try{return At(t)}catch(t){return"Object"}},Vt=Y.TypeError,Ct=function(t){if(bt(t))return t;throw Vt(Pt(t)+" is not a function")},Bt=function(t,e){var n=t[e];return null==n?void 0:Ct(n)},Dt=Y.TypeError,Rt=Object.defineProperty,Ft=function(t,e){try{Rt(Y,t,{value:e,configurable:!0,writable:!0})}catch(n){Y[t]=e}return e},_t=Y["__core-js_shared__"]||Ft("__core-js_shared__",{}),$t=W((function(t){(t.exports=function(t,e){return _t[t]||(_t[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),qt=Y.Object,Wt=function(t){return qt(yt(t))},Gt=lt({}.hasOwnProperty),Ut=Object.hasOwn||function(t,e){return Gt(Wt(t),e)},Xt=0,Yt=Math.random(),Jt=lt(1..toString),Kt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Jt(++Xt+Yt,36)},Qt=$t("wks"),Zt=Y.Symbol,te=Zt&&Zt.for,ee=Lt?Zt:Zt&&Zt.withoutSetter||Kt,ne=function(t){if(!Ut(Qt,t)||!Nt&&"string"!=typeof Qt[t]){var e="Symbol."+t;Nt&&Ut(Zt,t)?Qt[t]=Zt[t]:Qt[t]=Lt&&te?te(e):ee(e)}return Qt[t]},re=Y.TypeError,oe=ne("toPrimitive"),ie=function(t,e){if(!xt(t)||jt(t))return t;var n,r=Bt(t,oe);if(r){if(void 0===e&&(e="default"),n=Z(r,t,e),!xt(n)||jt(n))return n;throw re("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&bt(n=t.toString)&&!xt(r=Z(n,t)))return r;if(bt(n=t.valueOf)&&!xt(r=Z(n,t)))return r;if("string"!==e&&bt(n=t.toString)&&!xt(r=Z(n,t)))return r;throw Dt("Can't convert object to primitive value")}(t,e)},ue=function(t){var e=ie(t,"string");return jt(e)?e:e+""},ae=Y.document,ce=xt(ae)&&xt(ae.createElement),le=function(t){return ce?ae.createElement(t):{}},se=!K&&!J((function(){return 7!=Object.defineProperty(le("div"),"a",{get:function(){return 7}}).a})),fe=Object.getOwnPropertyDescriptor,pe={f:K?fe:function(t,e){if(t=mt(t),e=ue(e),se)try{return fe(t,e)}catch(t){}if(Ut(t,e))return ot(!Z(rt.f,t,e),t[e])}},de=Y.String,he=Y.TypeError,ve=function(t){if(xt(t))return t;throw he(de(t)+" is not an object")},ge=Y.TypeError,ye=Object.defineProperty,me={f:K?ye:function(t,e,n){if(ve(t),e=ue(e),ve(n),se)try{return ye(t,e,n)}catch(t){}if("get"in n||"set"in n)throw ge("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},be=K?function(t,e,n){return me.f(t,e,ot(1,n))}:function(t,e,n){return t[e]=n,t},xe=lt(Function.toString);bt(_t.inspectSource)||(_t.inspectSource=function(t){return xe(t)});var we,Se,ke,Ee=_t.inspectSource,Te=Y.WeakMap,Me=bt(Te)&&/native code/.test(Ee(Te)),Oe=$t("keys"),He=function(t){return Oe[t]||(Oe[t]=Kt(t))},Ie={},Ne=Y.TypeError,Le=Y.WeakMap;if(Me||_t.state){var ze=_t.state||(_t.state=new Le),je=lt(ze.get),Ae=lt(ze.has),Pe=lt(ze.set);we=function(t,e){if(Ae(ze,t))throw new Ne("Object already initialized");return e.facade=t,Pe(ze,t,e),e},Se=function(t){return je(ze,t)||{}},ke=function(t){return Ae(ze,t)}}else{var Ve=He("state");Ie[Ve]=!0,we=function(t,e){if(Ut(t,Ve))throw new Ne("Object already initialized");return e.facade=t,be(t,Ve,e),e},Se=function(t){return Ut(t,Ve)?t[Ve]:{}},ke=function(t){return Ut(t,Ve)}}var Ce={set:we,get:Se,has:ke,enforce:function(t){return ke(t)?Se(t):we(t,{})},getterFor:function(t){return function(e){var n;if(!xt(e)||(n=Se(e)).type!==t)throw Ne("Incompatible receiver, "+t+" required");return n}}},Be=Function.prototype,De=K&&Object.getOwnPropertyDescriptor,Re=Ut(Be,"name"),Fe={EXISTS:Re,PROPER:Re&&"something"===function(){}.name,CONFIGURABLE:Re&&(!K||K&&De(Be,"name").configurable)},_e=W((function(t){var e=Fe.CONFIGURABLE,n=Ce.get,r=Ce.enforce,o=String(String).split("String");(t.exports=function(t,n,i,u){var a,c=!!u&&!!u.unsafe,l=!!u&&!!u.enumerable,s=!!u&&!!u.noTargetGet,f=u&&void 0!==u.name?u.name:n;bt(i)&&("Symbol("===String(f).slice(0,7)&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Ut(i,"name")||e&&i.name!==f)&&be(i,"name",f),(a=r(i)).source||(a.source=o.join("string"==typeof f?f:""))),t!==Y?(c?!s&&t[n]&&(l=!0):delete t[n],l?t[n]=i:be(t,n,i)):l?t[n]=i:Ft(n,i)})(Function.prototype,"toString",(function(){return bt(this)&&n(this).source||Ee(this)}))})),$e=Math.ceil,qe=Math.floor,We=function(t){var e=+t;return e!=e||0===e?0:(e>0?qe:$e)(e)},Ge=Math.max,Ue=Math.min,Xe=function(t,e){var n=We(t);return n<0?Ge(n+e,0):Ue(n,e)},Ye=Math.min,Je=function(t){return t>0?Ye(We(t),9007199254740991):0},Ke=function(t){return Je(t.length)},Qe=function(t){return function(e,n,r){var o,i=mt(e),u=Ke(i),a=Xe(r,u);if(t&&n!=n){for(;u>a;)if((o=i[a++])!=o)return!0}else for(;u>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},Ze={includes:Qe(!0),indexOf:Qe(!1)},tn=Ze.indexOf,en=lt([].push),nn=function(t,e){var n,r=mt(t),o=0,i=[];for(n in r)!Ut(Ie,n)&&Ut(r,n)&&en(i,n);for(;e.length>o;)Ut(r,n=e[o++])&&(~tn(i,n)||en(i,n));return i},rn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],on=rn.concat("length","prototype"),un={f:Object.getOwnPropertyNames||function(t){return nn(t,on)}},an={f:Object.getOwnPropertySymbols},cn=lt([].concat),ln=St("Reflect","ownKeys")||function(t){var e=un.f(ve(t)),n=an.f;return n?cn(e,n(t)):e},sn=function(t,e){for(var n=ln(e),r=me.f,o=pe.f,i=0;i<n.length;i++){var u=n[i];Ut(t,u)||r(t,u,o(e,u))}},fn=/#|\.prototype\./,pn=function(t,e){var n=hn[dn(t)];return n==gn||n!=vn&&(bt(e)?J(e):!!e)},dn=pn.normalize=function(t){return String(t).replace(fn,".").toLowerCase()},hn=pn.data={},vn=pn.NATIVE="N",gn=pn.POLYFILL="P",yn=pn,mn=pe.f,bn=function(t,e){var n,r,o,i,u,a=t.target,c=t.global,l=t.stat;if(n=c?Y:l?Y[a]||Ft(a,{}):(Y[a]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(u=mn(n,r))&&u.value:n[r],!yn(c?r:a+(l?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;sn(i,o)}(t.sham||o&&o.sham)&&be(i,"sham",!0),_e(n,r,i,t)}},xn=lt(lt.bind),wn=Array.isArray||function(t){return"Array"==pt(t)},Sn={};Sn[ne("toStringTag")]="z";var kn="[object z]"===String(Sn),En=ne("toStringTag"),Tn=Y.Object,Mn="Arguments"==pt(function(){return arguments}()),On=kn?pt:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Tn(t),En))?n:Mn?pt(e):"Object"==(r=pt(e))&&bt(e.callee)?"Arguments":r},Hn=function(){},In=[],Nn=St("Reflect","construct"),Ln=/^\s*(?:class|function)\b/,zn=lt(Ln.exec),jn=!Ln.exec(Hn),An=function(t){if(!bt(t))return!1;try{return Nn(Hn,In,t),!0}catch(t){return!1}},Pn=!Nn||J((function(){var t;return An(An.call)||!An(Object)||!An((function(){t=!0}))||t}))?function(t){if(!bt(t))return!1;switch(On(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return jn||!!zn(Ln,Ee(t))}:An,Vn=ne("species"),Cn=Y.Array,Bn=function(t,e){return new(function(t){var e;return wn(t)&&(e=t.constructor,(Pn(e)&&(e===Cn||wn(e.prototype))||xt(e)&&null===(e=e[Vn]))&&(e=void 0)),void 0===e?Cn:e}(t))(0===e?0:e)},Dn=lt([].push),Rn=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,u=7==t,a=5==t||i;return function(c,l,s,f){for(var p,d,h=Wt(c),v=vt(h),g=function(t,e){return Ct(t),void 0===e?t:xn?xn(t,e):function(){return t.apply(e,arguments)}}(l,s),y=Ke(v),m=0,b=f||Bn,x=e?b(c,y):n||u?b(c,0):void 0;y>m;m++)if((a||m in v)&&(d=g(p=v[m],m,h),t))if(e)x[m]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:Dn(x,p)}else switch(t){case 4:return!1;case 7:Dn(x,p)}return i?-1:r||o?o:x}},Fn={forEach:Rn(0),map:Rn(1),filter:Rn(2),some:Rn(3),every:Rn(4),find:Rn(5),findIndex:Rn(6),filterReject:Rn(7)},_n=ne("species"),$n=function(t){return It>=51||!J((function(){var e=[];return(e.constructor={})[_n]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},qn=Fn.filter;bn({target:"Array",proto:!0,forced:!$n("filter")},{filter:function(t){return qn(this,t,arguments.length>1?arguments[1]:void 0)}});var Wn=kn?{}.toString:function(){return"[object "+On(this)+"]"};kn||_e(Object.prototype,"toString",Wn,{unsafe:!0});var Gn,Un=Y.String,Xn=function(t){if("Symbol"===On(t))throw TypeError("Cannot convert a Symbol value to a string");return Un(t)},Yn=function(){var t=ve(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Jn=Y.RegExp,Kn=J((function(){var t=Jn("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),Qn=Kn||J((function(){return!Jn("a","y").sticky})),Zn={BROKEN_CARET:Kn||J((function(){var t=Jn("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:Qn,UNSUPPORTED_Y:Kn},tr=Object.keys||function(t){return nn(t,rn)},er=K?Object.defineProperties:function(t,e){ve(t);for(var n,r=mt(e),o=tr(e),i=o.length,u=0;i>u;)me.f(t,n=o[u++],r[n]);return t},nr=St("document","documentElement"),rr=He("IE_PROTO"),or=function(){},ir=function(t){return"<script>"+t+"<\/script>"},ur=function(t){t.write(ir("")),t.close();var e=t.parentWindow.Object;return t=null,e},ar=function(){try{Gn=new ActiveXObject("htmlfile")}catch(t){}var t,e;ar="undefined"!=typeof document?document.domain&&Gn?ur(Gn):((e=le("iframe")).style.display="none",nr.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ir("document.F=Object")),t.close(),t.F):ur(Gn);for(var n=rn.length;n--;)delete ar.prototype[rn[n]];return ar()};Ie[rr]=!0;var cr,lr,sr=Object.create||function(t,e){var n;return null!==t?(or.prototype=ve(t),n=new or,or.prototype=null,n[rr]=t):n=ar(),void 0===e?n:er(n,e)},fr=Y.RegExp,pr=J((function(){var t=fr(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),dr=Y.RegExp,hr=J((function(){var t=dr("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),vr=Ce.get,gr=$t("native-string-replace",String.prototype.replace),yr=RegExp.prototype.exec,mr=yr,br=lt("".charAt),xr=lt("".indexOf),wr=lt("".replace),Sr=lt("".slice),kr=(lr=/b*/g,Z(yr,cr=/a/,"a"),Z(yr,lr,"a"),0!==cr.lastIndex||0!==lr.lastIndex),Er=Zn.BROKEN_CARET,Tr=void 0!==/()??/.exec("")[1];(kr||Tr||Er||pr||hr)&&(mr=function(t){var e,n,r,o,i,u,a,c=this,l=vr(c),s=Xn(t),f=l.raw;if(f)return f.lastIndex=c.lastIndex,e=Z(mr,f,s),c.lastIndex=f.lastIndex,e;var p=l.groups,d=Er&&c.sticky,h=Z(Yn,c),v=c.source,g=0,y=s;if(d&&(h=wr(h,"y",""),-1===xr(h,"g")&&(h+="g"),y=Sr(s,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==br(s,c.lastIndex-1))&&(v="(?: "+v+")",y=" "+y,g++),n=new RegExp("^(?:"+v+")",h)),Tr&&(n=new RegExp("^"+v+"$(?!\\s)",h)),kr&&(r=c.lastIndex),o=Z(yr,d?n:c,y),d?o?(o.input=Sr(o.input,g),o[0]=Sr(o[0],g),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:kr&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),Tr&&o&&o.length>1&&Z(gr,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&p)for(o.groups=u=sr(null),i=0;i<p.length;i++)u[(a=p[i])[0]]=o[a[1]];return o});var Mr=mr;bn({target:"RegExp",proto:!0,forced:/./.exec!==Mr},{exec:Mr});var Or=Function.prototype,Hr=Or.apply,Ir=Or.bind,Nr=Or.call,Lr="object"==typeof Reflect&&Reflect.apply||(Ir?Nr.bind(Hr):function(){return Nr.apply(Hr,arguments)}),zr=ne("species"),jr=RegExp.prototype,Ar=function(t,e,n,r){var o=ne(t),i=!J((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),u=i&&!J((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[zr]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!i||!u||n){var a=lt(/./[o]),c=e(o,""[t],(function(t,e,n,r,o){var u=lt(t),c=e.exec;return c===Mr||c===jr.exec?i&&!o?{done:!0,value:a(e,n,r)}:{done:!0,value:u(n,e,r)}:{done:!1}}));_e(String.prototype,t,c[0]),_e(jr,o,c[1])}r&&be(jr[o],"sham",!0)},Pr=lt("".charAt),Vr=lt("".charCodeAt),Cr=lt("".slice),Br=function(t){return function(e,n){var r,o,i=Xn(yt(e)),u=We(n),a=i.length;return u<0||u>=a?t?"":void 0:(r=Vr(i,u))<55296||r>56319||u+1===a||(o=Vr(i,u+1))<56320||o>57343?t?Pr(i,u):r:t?Cr(i,u,u+2):o-56320+(r-55296<<10)+65536}},Dr={codeAt:Br(!1),charAt:Br(!0)}.charAt,Rr=function(t,e,n){return e+(n?Dr(t,e).length:1)},Fr=Math.floor,_r=lt("".charAt),$r=lt("".replace),qr=lt("".slice),Wr=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Gr=/\$([$&'`]|\d{1,2})/g,Ur=function(t,e,n,r,o,i){var u=n+t.length,a=r.length,c=Gr;return void 0!==o&&(o=Wt(o),c=Wr),$r(i,c,(function(i,c){var l;switch(_r(c,0)){case"$":return"$";case"&":return t;case"`":return qr(e,0,n);case"'":return qr(e,u);case"<":l=o[qr(c,1,-1)];break;default:var s=+c;if(0===s)return i;if(s>a){var f=Fr(s/10);return 0===f?i:f<=a?void 0===r[f-1]?_r(c,1):r[f-1]+_r(c,1):i}l=r[s-1]}return void 0===l?"":l}))},Xr=Y.TypeError,Yr=function(t,e){var n=t.exec;if(bt(n)){var r=Z(n,t,e);return null!==r&&ve(r),r}if("RegExp"===pt(t))return Z(Mr,t,e);throw Xr("RegExp#exec called on incompatible receiver")},Jr=ne("replace"),Kr=Math.max,Qr=Math.min,Zr=lt([].concat),to=lt([].push),eo=lt("".indexOf),no=lt("".slice),ro="$0"==="a".replace(/./,"$0"),oo=!!/./[Jr]&&""===/./[Jr]("a","$0");Ar("replace",(function(t,e,n){var r=oo?"$":"$0";return[function(t,n){var r=yt(this),o=null==t?void 0:Bt(t,Jr);return o?Z(o,t,r,n):Z(e,Xn(r),t,n)},function(t,o){var i=ve(this),u=Xn(t);if("string"==typeof o&&-1===eo(o,r)&&-1===eo(o,"$<")){var a=n(e,i,u,o);if(a.done)return a.value}var c=bt(o);c||(o=Xn(o));var l=i.global;if(l){var s=i.unicode;i.lastIndex=0}for(var f=[];;){var p=Yr(i,u);if(null===p)break;if(to(f,p),!l)break;""===Xn(p[0])&&(i.lastIndex=Rr(u,Je(i.lastIndex),s))}for(var d,h="",v=0,g=0;g<f.length;g++){for(var y=Xn((p=f[g])[0]),m=Kr(Qr(We(p.index),u.length),0),b=[],x=1;x<p.length;x++)to(b,void 0===(d=p[x])?d:String(d));var w=p.groups;if(c){var S=Zr([y],b,m,u);void 0!==w&&to(S,w);var k=Xn(Lr(o,void 0,S))}else k=Ur(y,u,m,b,w,o);m>=v&&(h+=no(u,v,m)+k,v=m+y.length)}return h+no(u,v)}]}),!!J((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!ro||oo);var io=ne("unscopables"),uo=Array.prototype;null==uo[io]&&me.f(uo,io,{configurable:!0,value:sr(null)});var ao=function(t){uo[io][t]=!0},co=Fn.find,lo=!0;"find"in[]&&Array(1).find((function(){lo=!1})),bn({target:"Array",proto:!0,forced:lo},{find:function(t){return co(this,t,arguments.length>1?arguments[1]:void 0)}}),ao("find");var so=ne("match"),fo=function(t){var e;return xt(t)&&(void 0!==(e=t[so])?!!e:"RegExp"==pt(t))},po=Y.TypeError,ho=ne("species"),vo=function(t,e){var n,r=ve(t).constructor;return void 0===r||null==(n=ve(r)[ho])?e:function(t){if(Pn(t))return t;throw po(Pt(t)+" is not a constructor")}(n)},go=function(t,e,n){var r=ue(e);r in t?me.f(t,r,ot(0,n)):t[r]=n},yo=Y.Array,mo=Math.max,bo=function(t,e,n){for(var r=Ke(t),o=Xe(e,r),i=Xe(void 0===n?r:n,r),u=yo(mo(i-o,0)),a=0;o<i;o++,a++)go(u,a,t[o]);return u.length=a,u},xo=Zn.UNSUPPORTED_Y,wo=Math.min,So=[].push,ko=lt(/./.exec),Eo=lt(So),To=lt("".slice);Ar("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=Xn(yt(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!fo(t))return Z(e,r,t,o);for(var i,u,a,c=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,f=new RegExp(t.source,l+"g");(i=Z(Mr,f,r))&&!((u=f.lastIndex)>s&&(Eo(c,To(r,s,i.index)),i.length>1&&i.index<r.length&&Lr(So,c,bo(i,1)),a=i[0].length,s=u,c.length>=o));)f.lastIndex===i.index&&f.lastIndex++;return s===r.length?!a&&ko(f,"")||Eo(c,""):Eo(c,To(r,s)),c.length>o?bo(c,0,o):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:Z(e,this,t,n)}:e,[function(e,n){var o=yt(this),i=null==e?void 0:Bt(e,t);return i?Z(i,e,o,n):Z(r,Xn(o),e,n)},function(t,o){var i=ve(this),u=Xn(t),a=n(r,i,u,o,r!==e);if(a.done)return a.value;var c=vo(i,RegExp),l=i.unicode,s=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(xo?"g":"y"),f=new c(xo?"^(?:"+i.source+")":i,s),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===u.length)return null===Yr(f,u)?[u]:[];for(var d=0,h=0,v=[];h<u.length;){f.lastIndex=xo?0:h;var g,y=Yr(f,xo?To(u,h):u);if(null===y||(g=wo(Je(f.lastIndex+(xo?h:0)),u.length))===d)h=Rr(u,h,l);else{if(Eo(v,To(u,d,h)),v.length===p)return v;for(var m=1;m<=y.length-1;m++)if(Eo(v,y[m]),v.length===p)return v;h=d=g}}return Eo(v,To(u,d)),v}]}),!!J((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),xo);var Mo,Oo="\t\n\v\f\r                　\u2028\u2029\ufeff",Ho=lt("".replace),Io="["+Oo+"]",No=RegExp("^"+Io+Io+"*"),Lo=RegExp(Io+Io+"*$"),zo=function(t){return function(e){var n=Xn(yt(e));return 1&t&&(n=Ho(n,No,"")),2&t&&(n=Ho(n,Lo,"")),n}},jo={start:zo(1),end:zo(2),trim:zo(3)},Ao=Fe.PROPER,Po=jo.trim;function Vo(t){return 0===h("<div>"+t+"</div>").children().filter((function(t){return"BR"!==t.tagName})).length}function Co(t){var e=h("<div></div>");return e.append(t),e.html()}function Bo(t){return t.length?t[0].tagName.toLowerCase():""}function Do(t,e){for(var n="",r=(t.attr("style")||"").split(";"),o=r.length,i=0;i<o;i++){var u=r[i];if(u){var a=u.split(":");a[0].trim()===e&&(n=a[1].trim())}}return n}bn({target:"String",proto:!0,forced:(Mo="trim",J((function(){return!!Oo[Mo]()||"​᠎"!=="​᠎"[Mo]()||Ao&&Oo[Mo].name!==Mo})))},{trim:function(){return Po(this)}}),bn({global:!0},{globalThis:Y}),v&&(h.fn.css=v),g&&(h.fn.append=g),y&&(h.fn.prepend=y),m&&(h.fn.addClass=m),b&&(h.fn.removeClass=b),x&&(h.fn.hasClass=x),w&&(h.fn.on=w),S&&(h.fn.off=S),k&&(h.fn.focus=k),E&&(h.fn.attr=E),T&&(h.fn.removeAttr=T),M&&(h.fn.hide=M),O&&(h.fn.show=O),H&&(h.fn.parents=H),I&&(h.fn.dataset=I),N&&(h.fn.val=N),L&&(h.fn.text=L),z&&(h.fn.html=z),j&&(h.fn.children=j),A&&(h.fn.remove=A),P&&(h.fn.find=P),V&&(h.fn.width=V),C&&(h.fn.height=C),B&&(h.fn.filter=B);var Ro={selector:"p",parseElemHtml:function(t,e,n){var r=h(t);return 0===(e=e.filter((function(t){return!!a.isText(t)||!!n.isInline(t)}))).length&&(e=[{text:r.text().replace(/\s+/gm," ")}]),{type:"paragraph",children:e}}},Fo=function(t,e){return Fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Fo(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function _o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Fo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $o=function(){return $o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},$o.apply(this,arguments)};function qo(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))}function Wo(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function Go(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Uo(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function Xo(t){var e=Uo(c.nodes(t,{match:function(e){return t.children[0]===e},mode:"highest"}),1),n=e[0];if(null==n)return!1;var r=n[0];if(!l.isElement(r))return!1;if("paragraph"===r.type)return!1;if(""!==s.string(r))return!1;var o=r.children,i=void 0===o?[]:o;return!!a.isText(i[0])&&(f.setNodes(t,{type:"paragraph"}),!0)}var Yo={renderElems:[F],elemsToHtml:[_],parseElemsHtml:[Ro],editorPlugin:function(t){var e=t.deleteBackward,n=t.deleteForward;t.insertText,t.insertBreak;var r=t;return r.deleteBackward=function(t){Xo(r)||e(t)},r.deleteForward=function(t){Xo(r)||n(t)},r}},Jo=/"/g,Ko=lt("".replace),Qo=function(t,e,n,r){var o=Xn(yt(t)),i="<"+e;return""!==n&&(i+=" "+n+'="'+Ko(Xn(r),Jo,"&quot;")+'"'),i+">"+o+"</"+e+">"},Zo=function(t){return J((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))};function ti(t,e){var n=e,r=t,o=r.bold,i=r.italic,u=r.underline;return o&&(n="<strong>"+n+"</strong>"),r.code&&(n="<code>"+n+"</code>"),i&&(n="<em>"+n+"</em>"),u&&(n="<u>"+n+"</u>"),r.through&&(n="<s>"+n+"</s>"),r.sub&&(n="<sub>"+n+"</sub>"),r.sup&&(n="<sup>"+n+"</sup>"),n}function ei(t,e){return 0!==t.length&&(!!t[0].matches(e)||t.find(e).length>0)}bn({target:"String",proto:!0,forced:Zo("bold")},{bold:function(){return Qo(this,"b","","")}}),bn({target:"String",proto:!0,forced:Zo("italics")},{italics:function(){return Qo(this,"i","","")}}),bn({target:"String",proto:!0,forced:Zo("sub")},{sub:function(){return Qo(this,"sub","","")}}),bn({target:"String",proto:!0,forced:Zo("sup")},{sup:function(){return Qo(this,"sup","","")}});var ni={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ri=le("span").classList,oi=ri&&ri.constructor&&ri.constructor.prototype,ii=oi===Object.prototype?void 0:oi,ui=function(t,e){var n=[][t];return!!n&&J((function(){n.call(null,e||function(){throw 1},1)}))},ai=Fn.forEach,ci=ui("forEach")?[].forEach:function(t){return ai(this,t,arguments.length>1?arguments[1]:void 0)},li=function(t){if(t&&t.forEach!==ci)try{be(t,"forEach",ci)}catch(e){t.forEach=ci}};for(var si in ni)ni[si]&&li(Y[si]&&Y[si].prototype);function fi(t,n){return null==t.selection||!!Uo(c.nodes(t,{match:function(n){return"pre"===e.getNodeType(n)||!!c.isVoid(t,n)},universal:!0}),1)[0]}function pi(t,e){Object.keys(e).forEach((function(e){"text"!==e&&c.removeMark(t,e)}))}li(ii),bn({target:"Object",stat:!0,forced:J((function(){tr(1)}))},{keys:function(t){return tr(Wt(t))}});var di=function(){function t(){this.marksNeedToRemove=[],this.tag="button"}return t.prototype.getValue=function(t){var e=this.mark,n=c.marks(t);return n?n[e]:!!Uo(c.nodes(t,{match:function(t){return!0===t[e]}}),1)[0]},t.prototype.isActive=function(t){return!!this.getValue(t)},t.prototype.isDisabled=function(t){return fi(t,this.mark)},t.prototype.exec=function(t,e){var n=this.mark,r=this.marksNeedToRemove;e?t.removeMark(n):(t.addMark(n,!0),r&&r.forEach((function(e){return t.removeMark(e)})))},t}(),hi='<svg viewBox="0 0 1024 1024"><path d="M707.872 484.64A254.88 254.88 0 0 0 768 320c0-141.152-114.848-256-256-256H192v896h384c141.152 0 256-114.848 256-256a256.096 256.096 0 0 0-124.128-219.36zM384 192h101.504c55.968 0 101.504 57.408 101.504 128s-45.536 128-101.504 128H384V192z m159.008 640H384v-256h159.008c58.464 0 106.016 57.408 106.016 128s-47.552 128-106.016 128z"></path></svg>',vi='<svg viewBox="0 0 1024 1024"><path d="M704 64l128 0 0 416c0 159.072-143.264 288-320 288s-320-128.928-320-288l0-416 128 0 0 416c0 40.16 18.24 78.688 51.36 108.512 36.896 33.216 86.848 51.488 140.64 51.488s103.744-18.304 140.64-51.488c33.12-29.792 51.36-68.352 51.36-108.512l0-416zM192 832l640 0 0 128-640 0z"></path></svg>',gi='<svg viewBox="0 0 1024 1024"><path d="M896 64v64h-128L448 896h128v64H128v-64h128L576 128h-128V64z"></path></svg>',yi='<svg viewBox="0 0 1024 1024"><path d="M1024 512v64h-234.496c27.52 38.496 42.496 82.688 42.496 128 0 70.88-36.672 139.04-100.576 186.976C672.064 935.488 594.144 960 512 960s-160.064-24.512-219.424-69.024C228.64 843.04 192 774.88 192 704h128c0 69.376 87.936 128 192 128s192-58.624 192-128-87.936-128-192-128H0v-64h299.52a385.984 385.984 0 0 1-6.944-5.024C228.64 459.04 192 390.88 192 320s36.672-139.04 100.576-186.976C351.936 88.512 429.856 64 512 64s160.064 24.512 219.424 69.024C795.328 180.96 832 249.12 832 320h-128c0-69.376-87.936-128-192-128s-192 58.624-192 128 87.936 128 192 128c78.976 0 154.048 22.688 212.48 64H1024z"></path></svg>',mi='<svg viewBox="0 0 1024 1024"><path d="M576 736l96 96 320-320L672 192l-96 96 224 224zM448 288l-96-96L32 512l320 320 96-96-224-224z"></path></svg>',bi='<svg viewBox="0 0 1024 1024"><path d="M864 0a160 160 0 0 1 128 256l-64 64-224-224 64-64c26.752-20.096 59.968-32 96-32zM64 736l-64 288 288-64 592-592-224-224L64 736z m651.584-372.416l-448 448-55.168-55.168 448-448 55.168 55.168z"></path></svg>',xi='<svg viewBox="0 0 1024 1024"><path d="M924.402464 1023.068211H0.679665V99.345412h461.861399v98.909208H99.596867v725.896389h725.896389V561.206811h98.909208z" p-id="10909"></path><path d="M930.805104 22.977336l69.965436 69.965436-453.492405 453.492404-69.965435-69.901489z" p-id="10910"></path><path d="M1022.464381 304.030081h-98.917201V99.345412H709.230573V0.428211h313.233808z"></path></svg>',wi='<svg viewBox="0 0 1024 1024"><path d="M64 864h896v96H64zM360.58 576h302.85l81.53 224h102.16L579.24 64H444.77L176.89 800h102.16l81.53-224zM512 159.96L628.49 480H395.52L512 159.96z"></path></svg>',Si='<svg viewBox="0 0 1024 1024"><path d="M510.030769 315.076923l84.676923 196.923077h-177.230769l76.8-196.923077h15.753846zM945.230769 157.538462v708.923076c0 43.323077-35.446154 78.769231-78.769231 78.769231H157.538462c-43.323077 0-78.769231-35.446154-78.769231-78.769231V157.538462c0-43.323077 35.446154-78.769231 78.769231-78.769231h708.923076c43.323077 0 78.769231 35.446154 78.769231 78.769231z m-108.307692 643.938461L600.615385 216.615385c-5.907692-11.815385-15.753846-19.692308-29.538462-19.692308h-139.815385c-11.815385 0-23.630769 7.876923-27.56923 19.692308l-216.615385 584.861538c-3.938462 11.815385 3.938462 25.6 17.723077 25.6h80.738462c11.815385 0 23.630769-9.846154 27.56923-21.661538l63.015385-175.261539h263.876923l68.923077 175.261539c3.938462 11.815385 15.753846 21.661538 27.569231 21.661538h80.738461c13.784615 0 23.630769-13.784615 19.692308-25.6z"></path></svg>',ki='<svg viewBox="0 0 1024 1024"><path d="M64 512h384v128h-128V1024h-128V640h-128z m896-256H708.2496v768h-136.4992V256H320V128h640z"></path></svg>',Ei='<svg viewBox="0 0 1024 1024"><path d="M956.788364 152.110545h-24.110546l23.924364 9.029819 0.186182 121.018181h-65.070546l-86.574545-130.048H566.551273v650.14691l130.048 64.977454v65.163636h-390.050909v-65.163636l129.954909-64.977454V152.110545H198.283636L111.429818 282.065455H46.545455V69.259636C46.545455 33.792 82.664727 22.062545 98.955636 22.062545h812.683637c23.738182 0 45.056 15.173818 45.056 41.053091V169.425455v-17.221819z"></path></svg>',Ti='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m256-512v384l-256-192z"></path></svg>',Mi='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m0-128V320l256 192z"></path></svg>',Oi='<svg viewBox="0 0 1024 1024"><path d="M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',Hi='<svg viewBox="0 0 1024 1024"><path d="M972.8 793.6v102.4H256v-102.4h716.8z m0-230.4v102.4H51.2v-102.4h921.6z m0-230.4v102.4H256v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',Ii='<svg viewBox="0 0 1024 1024"><path d="M870.4 793.6v102.4H153.6v-102.4h716.8z m102.4-230.4v102.4H51.2v-102.4h921.6z m-102.4-230.4v102.4H153.6v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',Ni='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z"></path></svg>',Li='<svg viewBox="0 0 1024 1024"><path d="M768 206.016v50.016h128v64h-192V174.016l128-60V64h-128V0h192v146.016zM676 256h-136L352 444 164 256H28l256 256-256 256h136L352 580 540 768h136l-256-256z"></path></svg>',zi='<svg viewBox="0 0 1024 1024"><path d="M768 910.016v50.016h128v64h-192v-146.016l128-60V768h-128v-64h192v146.016zM676 256h-136L352 444 164 256H28l256 256-256 256h136L352 580 540 768h136l-256-256z"></path></svg>',ji=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mark="bold",e.title=n("textStyle.bold"),e.iconSvg=hi,e.hotkey="mod+b",e}return _o(e,t),e}(di),Ai=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mark="code",e.title=n("textStyle.code"),e.iconSvg=mi,e.hotkey="mod+e",e}return _o(e,t),e}(di),Pi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mark="italic",e.title=n("textStyle.italic"),e.iconSvg=gi,e.hotkey="mod+i",e}return _o(e,t),e}(di),Vi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mark="through",e.title=n("textStyle.through"),e.iconSvg=yi,e.hotkey="mod+shift+x",e}return _o(e,t),e}(di),Ci=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mark="underline",e.title=n("textStyle.underline"),e.iconSvg=vi,e.hotkey="mod+u",e}return _o(e,t),e}(di),Bi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mark="sub",e.marksNeedToRemove=["sup"],e.title=n("textStyle.sub"),e.iconSvg=zi,e.hotkey="",e}return _o(e,t),e}(di),Di=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mark="sup",e.marksNeedToRemove=["sub"],e.title=n("textStyle.sup"),e.iconSvg=Li,e.hotkey="",e}return _o(e,t),e}(di),Ri=function(){function t(){this.title=n("textStyle.clear"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M969.382408 288.738615l-319.401123-270.852152a67.074236 67.074236 0 0 0-96.459139 5.74922l-505.931379 574.922021a68.35184 68.35184 0 0 0-17.886463 47.910169 74.101061 74.101061 0 0 0 24.274486 47.910168l156.50655 132.232065h373.060512L975.131628 383.281347a67.074236 67.074236 0 0 0-5.74922-96.459139z m-440.134747 433.746725H264.144729l-90.071117-78.572676c-5.74922-5.74922-12.137243-12.137243-12.137243-17.886463a36.411728 36.411728 0 0 1 5.749221-24.274485l210.804741-240.828447 265.102932 228.691204z m-439.495945 180.781036h843.218964a60.047411 60.047411 0 1 1 0 120.733624H89.751716a60.047411 60.047411 0 1 1 0-120.733624z m0 0"></path></svg>',this.tag="button"}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.isDisabled=function(t){return fi(t)},t.prototype.exec=function(t,e){var n,r,o=c.nodes(t,{match:function(t){return a.isText(t)},universal:!0});try{for(var i=Go(o),u=i.next();!u.done;u=i.next()){pi(t,u.value[0])}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t}(),Fi={renderStyle:function(t,e){var n=t,r=n.bold,o=n.italic,u=n.underline,a=n.code,c=n.through,l=n.sub,s=n.sup,f=e;return r&&(f=i("strong",null,f)),a&&(f=i("code",null,f)),o&&(f=i("em",null,f)),u&&(f=i("u",null,f)),c&&(f=i("s",null,f)),l&&(f=i("sub",null,f)),s&&(f=i("sup",null,f)),f},menus:[{key:"bold",factory:function(){return new ji}},{key:"underline",factory:function(){return new Ci}},{key:"italic",factory:function(){return new Pi}},{key:"through",factory:function(){return new Vi}},{key:"code",factory:function(){return new Ai}},{key:"sub",factory:function(){return new Bi}},{key:"sup",factory:function(){return new Di}},{key:"clearStyle",factory:function(){return new Ri}}],styleToHtml:function(t,e){if(!a.isText(t))return e;if(Vo(e))return ti(t,e);var n=h(e);if("br"===Bo(n))return ti(t,"<br>");var r=n.html();return r=ti(t,r),n.html(r),Co(n)},parseStyleHtml:function(t,e){var n=h(t);if(!a.isText(e))return e;var r=e;return ei(n,"b,strong")&&(r.bold=!0),ei(n,"i,em")&&(r.italic=!0),ei(n,"u")&&(r.underline=!0),ei(n,"s,strike")&&(r.through=!0),ei(n,"sub")&&(r.sub=!0),ei(n,"sup")&&(r.sup=!0),ei(n,"code")&&(r.code=!0),r}};function _i(t){return function(e,n,r){return i("h"+t,null,n)}}var $i={type:"header1",renderElem:_i(1)},qi={type:"header2",renderElem:_i(2)},Wi={type:"header3",renderElem:_i(3)},Gi={type:"header4",renderElem:_i(4)},Ui={type:"header5",renderElem:_i(5)},Xi=Fe.PROPER,Yi=RegExp.prototype,Ji=Yi.toString,Ki=lt(Yn),Qi=J((function(){return"/a/b"!=Ji.call({source:"a",flags:"b"})})),Zi=Xi&&"toString"!=Ji.name;(Qi||Zi)&&_e(RegExp.prototype,"toString",(function(){var t=ve(this),e=Xn(t.source),n=t.flags;return"/"+e+"/"+Xn(void 0===n&&kt(Yi,t)&&!("flags"in Yi)?Ki(t):n)}),{unsafe:!0});var tu,eu=Y.TypeError,nu=function(t){if(fo(t))throw eu("The method doesn't accept regular expressions");return t},ru=ne("match"),ou=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[ru]=!1,"/./"[t](e)}catch(t){}}return!1},iu=pe.f,uu=lt("".startsWith),au=lt("".slice),cu=Math.min,lu=ou("startsWith");function su(t){var n=Uo(c.nodes(t,{match:function(t){return e.getNodeType(t).startsWith("header")},universal:!0}),1),r=n[0];if(null==r)return"paragraph";var o=Uo(r,1)[0];return e.getNodeType(o)}function fu(t){return null==t.selection||!Uo(c.nodes(t,{match:function(t){var n=e.getNodeType(t);return"paragraph"===n||!!n.startsWith("header")},universal:!0,mode:"highest"}),1)[0]}function pu(t,e){e&&f.setNodes(t,{type:e})}bn({target:"String",proto:!0,forced:!!(lu||(tu=iu(String.prototype,"startsWith"),!tu||tu.writable))&&!lu},{startsWith:function(t){var e=Xn(yt(this));nu(t);var n=Je(cu(arguments.length>1?arguments[1]:void 0,e.length)),r=Xn(t);return uu?uu(e,r,n):au(e,n,n+r.length)===r}});var du=function(){function t(){this.title=n("header.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M960 960c-51.2 0-102.4-3.2-153.6-3.2-51.2 0-99.2 3.2-150.4 3.2-19.2 0-28.8-22.4-28.8-38.4 0-51.2 57.6-28.8 86.4-48 19.2-12.8 19.2-60.8 19.2-80v-224-19.2c-9.6-3.2-19.2-3.2-28.8-3.2H320c-9.6 0-19.2 0-28.8 3.2V780.8c0 22.4 0 80 22.4 92.8 28.8 19.2 96-6.4 96 44.8 0 16-9.6 41.6-28.8 41.6-54.4 0-105.6-3.2-160-3.2-48 0-96 3.2-147.2 3.2-19.2 0-28.8-22.4-28.8-38.4 0-51.2 51.2-28.8 80-48 19.2-12.8 19.2-60.8 19.2-83.2V294.4c0-28.8 3.2-115.2-22.4-131.2-25.6-16-86.4 9.6-86.4-41.6 0-16 6.4-41.6 28.8-41.6 51.2 0 105.6 3.2 156.8 3.2 48 0 96-3.2 144-3.2 19.2 0 28.8 22.4 28.8 41.6 0 48-57.6 25.6-83.2 41.6-19.2 12.8-19.2 73.6-19.2 92.8v201.6c6.4 3.2 16 3.2 22.4 3.2h400c6.4 0 12.8 0 22.4-3.2V256c0-22.4 0-80-19.2-92.8-28.8-16-86.4 6.4-86.4-41.6 0-16 9.6-41.6 28.8-41.6 51.2 0 99.2 3.2 150.4 3.2 48 0 99.2-3.2 147.2-3.2 19.2 0 28.8 22.4 28.8 41.6 0 51.2-57.6 25.6-86.4 41.6-19.2 12.8-19.2 70.4-19.2 92.8v537.6c0 19.2 0 67.2 19.2 80 28.8 19.2 89.6-6.4 89.6 44.8 0 19.2-6.4 41.6-28.8 41.6z"></path></svg>',this.tag="select",this.width=60}return t.prototype.getOptions=function(t){var e=[{value:"header1",text:"H1",styleForRenderMenuList:{"font-size":"32px","font-weight":"bold"}},{value:"header2",text:"H2",styleForRenderMenuList:{"font-size":"24px","font-weight":"bold"}},{value:"header3",text:"H3",styleForRenderMenuList:{"font-size":"18px","font-weight":"bold"}},{value:"header4",text:"H4",styleForRenderMenuList:{"font-size":"16px","font-weight":"bold"}},{value:"header5",text:"H5",styleForRenderMenuList:{"font-size":"13px","font-weight":"bold"}},{value:"paragraph",text:n("header.text")}],r=this.getValue(t).toString();return e.forEach((function(t){t.value===r?t.selected=!0:delete t.selected})),e},t.prototype.isActive=function(t){return!1},t.prototype.getValue=function(t){return su(t)},t.prototype.isDisabled=function(t){return fu(t)},t.prototype.exec=function(t,e){pu(t,e.toString())},t}(),hu=function(){function t(){this.tag="button"}return t.prototype.getValue=function(t){return su(t)},t.prototype.isActive=function(t){return this.getValue(t)===this.type},t.prototype.isDisabled=function(t){return fu(t)},t.prototype.exec=function(t,e){var n=this.type;pu(t,e===n?"paragraph":n)},t}(),vu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="H1",e.type="header1",e}return _o(e,t),e}(hu),gu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="H2",e.type="header2",e}return _o(e,t),e}(hu),yu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="H3",e.type="header3",e}return _o(e,t),e}(hu),mu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="H4",e.type="header4",e}return _o(e,t),e}(hu),bu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="H5",e.type="header5",e}return _o(e,t),e}(hu),xu={key:"headerSelect",factory:function(){return new du}},wu={key:"header1",factory:function(){return new vu}},Su={key:"header2",factory:function(){return new gu}},ku={key:"header3",factory:function(){return new yu}},Eu={key:"header4",factory:function(){return new mu}},Tu={key:"header5",factory:function(){return new bu}};function Mu(t){return function(e,n){return"<h"+t+">"+n+"</h"+t+">"}}function Ou(t){return function(e,n,r){var o=h(e);return 0===(n=n.filter((function(t){return!!a.isText(t)||!!r.isInline(t)}))).length&&(n=[{text:o.text().replace(/\s+/gm," ")}]),{type:"header"+t,children:n}}}var Hu={renderElems:[$i,qi,Wi,Gi,Ui],elemsToHtml:[{type:"header1",elemToHtml:Mu(1)},{type:"header2",elemToHtml:Mu(2)},{type:"header3",elemToHtml:Mu(3)},{type:"header4",elemToHtml:Mu(4)},{type:"header5",elemToHtml:Mu(5)}],parseElemsHtml:[{selector:"h1",parseElemHtml:Ou(1)},{selector:"h2",parseElemHtml:Ou(2)},{selector:"h3",parseElemHtml:Ou(3)},{selector:"h4",parseElemHtml:Ou(4)},{selector:"h5",parseElemHtml:Ou(5)}],menus:[xu,wu,Su,ku,Eu,Tu],editorPlugin:function(t){var n=t.insertBreak;t.insertNode;var r=t;return r.insertBreak=function(){var o=Uo(c.nodes(r,{match:function(t){return e.getNodeType(t).startsWith("header")},universal:!0}),1)[0];if(o)if(e.isSelectionAtLineEnd(t,o[1])){f.insertNodes(r,{type:"paragraph",children:[{text:""}]},{mode:"highest"})}else n();else n()},r}},Iu=Object.assign,Nu=Object.defineProperty,Lu=lt([].concat),zu=!Iu||J((function(){if(K&&1!==Iu({b:1},Iu(Nu({},"a",{enumerable:!0,get:function(){Nu(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Iu({},t)[n]||tr(Iu({},e)).join("")!=r}))?function(t,e){for(var n=Wt(t),r=arguments.length,o=1,i=an.f,u=rt.f;r>o;)for(var a,c=vt(arguments[o++]),l=i?Lu(tr(c),i(c)):tr(c),s=l.length,f=0;s>f;)a=l[f++],K&&!Z(u,c,a)||(n[a]=c[a]);return n}:Iu;function ju(t,e){null==t.data&&(t.data={});var n=t.data;null==n.style&&(n.style={}),Object.assign(n.style,e)}bn({target:"Object",stat:!0,forced:Object.assign!==zu},{assign:zu});var Au={selector:"font",preParseHtml:function(t){var e=h(t);if("font"!==Bo(e))return t;var n=e.attr("color")||"";return n&&(e.removeAttr("color"),e.css("color",n)),e[0]}};var Pu=function(){function t(){this.tag="button",this.showDropPanel=!0,this.$content=null}return t.prototype.exec=function(t,e){},t.prototype.getValue=function(t){var e=this.mark,n=c.marks(t);return n&&n[e]?n[e]:""},t.prototype.isActive=function(t){return!!this.getValue(t)},t.prototype.isDisabled=function(t){return null==t.selection||!!Uo(c.nodes(t,{match:function(n){return"pre"===e.getNodeType(n)||!!c.isVoid(t,n)},universal:!0}),1)[0]},t.prototype.getPanelContentElem=function(t){var e=this.mark;if(null==this.$content){var r=h('<ul class="w-e-panel-content-color"></ul>');r.on("mousedown","li",(function(n){var r=n.target;if(null!=r&&(n.preventDefault(),null!=t.selection)){var o=h(r).attr("data-value");"0"===o?c.removeMark(t,e):c.addMark(t,e,o)}})),this.$content=r}var o=this.$content;if(null==o)return document.createElement("ul");o.html("");var i=this.getValue(t),u=t.getMenuConfig(e).colors;(void 0===u?[]:u).forEach((function(t){var e=h('<div class="color-block" data-value="'+t+'"></div>');e.css("background-color",t);var n=h('<li data-value="'+t+'"></li>');i===t&&n.addClass("active"),n.append(e),o.append(n)}));var a="";"color"===e&&(a=n("color.default")),"bgColor"===e&&(a=n("color.clear"));var l=h('\n      <li data-value="0" class="clear">\n        <svg viewBox="0 0 1024 1024"><path d="M236.8 128L896 787.2V128H236.8z m614.4 704L192 172.8V832h659.2zM192 64h704c38.4 0 64 25.6 64 64v704c0 38.4-25.6 64-64 64H192c-38.4 0-64-25.6-64-64V128c0-38.4 25.6-64 64-64z"></path></svg>\n        '+a+"\n      </li>\n    ");return o.prepend(l),o[0]},t}(),Vu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=n("color.color"),e.iconSvg=wi,e.mark="color",e}return _o(e,t),e}(Pu),Cu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=n("color.bgColor"),e.iconSvg=Si,e.mark="bgColor",e}return _o(e,t),e}(Pu),Bu=["rgb(0, 0, 0)","rgb(38, 38, 38)","rgb(89, 89, 89)","rgb(140, 140, 140)","rgb(191, 191, 191)","rgb(217, 217, 217)","rgb(233, 233, 233)","rgb(245, 245, 245)","rgb(250, 250, 250)","rgb(255, 255, 255)","rgb(225, 60, 57)","rgb(231, 95, 51)","rgb(235, 144, 58)","rgb(245, 219, 77)","rgb(114, 192, 64)","rgb(89, 191, 192)","rgb(66, 144, 247)","rgb(54, 88, 226)","rgb(106, 57, 201)","rgb(216, 68, 147)","rgb(251, 233, 230)","rgb(252, 237, 225)","rgb(252, 239, 212)","rgb(252, 251, 207)","rgb(231, 246, 213)","rgb(218, 244, 240)","rgb(217, 237, 250)","rgb(224, 232, 250)","rgb(237, 225, 248)","rgb(246, 226, 234)","rgb(255, 163, 158)","rgb(255, 187, 150)","rgb(255, 213, 145)","rgb(255, 251, 143)","rgb(183, 235, 143)","rgb(135, 232, 222)","rgb(145, 213, 255)","rgb(173, 198, 255)","rgb(211, 173, 247)","rgb(255, 173, 210)","rgb(255, 77, 79)","rgb(255, 122, 69)","rgb(255, 169, 64)","rgb(255, 236, 61)","rgb(115, 209, 61)","rgb(54, 207, 201)","rgb(64, 169, 255)","rgb(89, 126, 247)","rgb(146, 84, 222)","rgb(247, 89, 171)","rgb(207, 19, 34)","rgb(212, 56, 13)","rgb(212, 107, 8)","rgb(212, 177, 6)","rgb(56, 158, 13)","rgb(8, 151, 156)","rgb(9, 109, 217)","rgb(29, 57, 196)","rgb(83, 29, 171)","rgb(196, 29, 127)","rgb(130, 0, 20)","rgb(135, 20, 0)","rgb(135, 56, 0)","rgb(97, 71, 0)","rgb(19, 82, 0)","rgb(0, 71, 79)","rgb(0, 58, 140)","rgb(6, 17, 120)","rgb(34, 7, 94)","rgb(120, 6, 80)"];var Du={renderStyle:function(t,e){var n=t,r=n.color,o=n.bgColor,i=e;return r&&ju(i,{color:r}),o&&ju(i,{backgroundColor:o}),i},styleToHtml:function(t,e){if(!a.isText(t))return e;var n,r=t,o=r.color,i=r.bgColor;return o||i?((Vo(e)||"span"!==Bo(n=h(e)))&&(n=h("<span>"+e+"</span>")),o&&n.css("color",o),i&&n.css("background-color",i),Co(n)):e},preParseHtml:[Au],parseStyleHtml:function(t,e){var n=h(t);if(!a.isText(e))return e;var r=e,o=Do(n,"color");o&&(r.color=o);var i=Do(n,"background-color");return i&&(r.bgColor=i),r},menus:[{key:"color",factory:function(){return new Vu},config:{colors:Bu}},{key:"bgColor",factory:function(){return new Cu},config:{colors:Bu}}]},Ru=function(t){if("string"!=typeof t)return!1;var e=t.match(Fu);if(!e)return!1;var n=e[1];if(!n)return!1;if(_u.test(n)||$u.test(n))return!0;return!1},Fu=/^(?:\w+:)?\/\/(\S+)$/,_u=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,$u=/^[^\s\.]+\.\S{2,}$/;var qu=Ze.includes;function Wu(t){return void 0===t&&(t="r"),t+"-"+D()}function Gu(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Uu(t,e,n,r){return qo(this,void 0,void 0,(function(){var o,i;return Wo(this,(function(u){switch(u.label){case 0:return(o=e.getMenuConfig(t).checkLink)?[4,o(n,r)]:[3,2];case 1:if("string"==typeof(i=u.sent()))return e.alert(i,"error"),[2,!1];if(null==i)return[2,!1];u.label=2;case 2:return[2,!0]}}))}))}function Xu(t,e,n){return qo(this,void 0,void 0,(function(){var r;return Wo(this,(function(o){switch(o.label){case 0:return(r=e.getMenuConfig(t).parseLinkUrl)?[4,r(n)]:[3,2];case 1:return[2,o.sent()];case 2:return[2,n]}}))}))}function Yu(t){return null==t.selection||!!e.getSelectedElems(t).some((function(e){var n=e.type;return!!t.isVoid(e)||(!!["pre","code","link"].includes(n)||void 0)}))}function Ju(t,e,n){return qo(this,void 0,void 0,(function(){var r,o,i,u;return Wo(this,(function(a){switch(a.label){case 0:return n?(e||(e=n),t.restoreSelection(),Yu(t)?[2]:[4,Uu("insertLink",t,e,n)]):[2];case 1:return a.sent()?[4,Xu("insertLink",t,n)]:[2];case 2:return r=a.sent(),null==(o=t.selection)?[2]:(i=p.isCollapsed(o),u={type:"link",url:Gu(r),children:i?[{text:e}]:[]},i?(t.insertText(" "),f.insertNodes(t,u),t.insertFragment([{text:" "}])):(f.wrapNodes(t,u,{split:!0}),f.collapse(t,{edge:"end"})),[2])}}))}))}bn({target:"Array",proto:!0},{includes:function(t){return qu(this,t,arguments.length>1?arguments[1]:void 0)}}),ao("includes");var Ku={type:"link",renderElem:function(t,e,n){var r=t,o=r.url,u=r.target;return i("a",{href:o,target:void 0===u?"_blank":u},e)}};var Qu={type:"link",elemToHtml:function(t,e){var n=t,r=n.url,o=n.target;return'<a href="'+r+'" target="'+(void 0===o?"_blank":o)+'">'+e+"</a>"}};var Zu={selector:"a",parseElemHtml:function(t,e,n){var r=h(t);return 0===(e=e.filter((function(t){return!!a.isText(t)||!!n.isInline(t)}))).length&&(e=[{text:r.text().replace(/\s+/gm," ")}]),{type:"link",url:r.attr("href")||"",target:r.attr("target")||"",children:e}}};function ta(){return Wu("w-e-insert-link")}var ea=function(){function t(){this.title=n("link.insert"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M440.224 635.776a51.84 51.84 0 0 1-36.768-15.232c-95.136-95.136-95.136-249.92 0-345.056l192-192C641.536 37.408 702.816 12.032 768 12.032s126.432 25.376 172.544 71.456c95.136 95.136 95.136 249.92 0 345.056l-87.776 87.776a51.968 51.968 0 1 1-73.536-73.536l87.776-87.776a140.16 140.16 0 0 0 0-197.984c-26.432-26.432-61.6-40.992-99.008-40.992s-72.544 14.56-99.008 40.992l-192 192a140.16 140.16 0 0 0 0 197.984 51.968 51.968 0 0 1-36.768 88.768z"></path><path d="M256 1012a242.4 242.4 0 0 1-172.544-71.456c-95.136-95.136-95.136-249.92 0-345.056l87.776-87.776a51.968 51.968 0 1 1 73.536 73.536l-87.776 87.776a140.16 140.16 0 0 0 0 197.984c26.432 26.432 61.6 40.992 99.008 40.992s72.544-14.56 99.008-40.992l192-192a140.16 140.16 0 0 0 0-197.984 51.968 51.968 0 1 1 73.536-73.536c95.136 95.136 95.136 249.92 0 345.056l-192 192A242.4 242.4 0 0 1 256 1012z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.textInputId=ta(),this.urlInputId=ta(),this.buttonId=ta()}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.exec=function(t,e){},t.prototype.isDisabled=function(t){return Yu(t)},t.prototype.getModalPositionNode=function(t){return null},t.prototype.getModalContentElem=function(t){var e=t.selection,i=this,u=i.textInputId,a=i.urlInputId,l=i.buttonId,s=Uo(r(n("link.text"),u),2),f=s[0],d=s[1],v=h(d),g=Uo(r(n("link.url"),a),2),y=g[0],m=g[1],b=h(m),x=Uo(o(l,n("common.ok")),1)[0];if(null==this.$content){var w=h("<div></div>");w.on("click","#"+l,(function(e){e.preventDefault();var n=w.find("#"+u).val(),r=w.find("#"+a).val();Ju(t,n,r),t.hidePanelOrModal()})),this.$content=w}var S=this.$content;if(S.html(""),S.append(f),S.append(y),S.append(x),null==e||p.isCollapsed(e))v.val("");else{var k=c.string(t,e);v.val(k)}return b.val(""),setTimeout((function(){v.focus()})),S[0]},t}();function na(){return Wu("w-e-update-link")}var ra=function(){function t(){this.title=n("link.edit"),this.iconSvg=bi,this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.urlInputId=na(),this.buttonId=na()}return t.prototype.getSelectedLinkElem=function(t){var n=e.getSelectedNodeByType(t,"link");return null==n?null:n},t.prototype.getValue=function(t){var e=this.getSelectedLinkElem(t);return e&&e.url||""},t.prototype.isActive=function(t){return!1},t.prototype.exec=function(t,e){},t.prototype.isDisabled=function(t){return null==t.selection||null==this.getSelectedLinkElem(t)},t.prototype.getModalPositionNode=function(t){return e.getSelectedNodeByType(t,"link")},t.prototype.getModalContentElem=function(t){var i=this.urlInputId,u=this.buttonId,a=Uo(r(n("link.url"),i),2),c=a[0],l=a[1],p=h(l),d=Uo(o(u,n("common.ok")),1)[0];if(null==this.$content){var v=h("<div></div>");v.on("click","button",(function(n){n.preventDefault(),t.restoreSelection();var r=e.getSelectedNodeByType(t,"link"),o=r?s.string(r):"",u=v.find("#"+i).val();!function(t,n,r){qo(this,void 0,void 0,(function(){var o,i;return Wo(this,(function(u){switch(u.label){case 0:return r?[4,Uu("editLink",t,n,r)]:[2];case 1:return u.sent()?[4,Xu("editLink",t,r)]:[2];case 2:return o=u.sent(),i={url:Gu(o)},f.setNodes(t,i,{match:function(t){return e.checkNodeType(t,"link")}}),[2]}}))}))}(t,o,u),t.hidePanelOrModal()})),this.$content=v}var g=this.$content;g.html(""),g.append(c),g.append(d);var y=this.getValue(t);return p.val(y),setTimeout((function(){p.focus()})),g[0]},t}(),oa=function(){function t(){this.title=n("link.unLink"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M608.16328 811.815036c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.347563 89.347564c-118.525421 118.523421-311.38448 118.531421-429.919901 0-118.527421-118.529421-118.527421-311.39048 0-429.917901l89.349564-89.349563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.195613 79.195613c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.349563 89.347564c-56.143726 56.145726-56.143726 147.49928 0 203.645005 56.143726 56.143726 147.49928 56.145726 203.647005 0l89.347564-89.347563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.193613 79.195613z m-113.135447-520.429459c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.347564-89.347564c56.143726-56.149726 147.49928-56.145726 203.647006 0 56.143726 56.145726 56.143726 147.49928 0 203.645006l-89.349564 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.195613 79.195613c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.349564-89.349563c118.529421-118.529421 118.529421-311.38848 0-429.917901-118.531421-118.527421-311.38848-118.527421-429.919901 0l-89.347563 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.193613 79.195613z m469.653707 718.556492l45.253779-45.253779c18.745908-18.745908 18.745908-49.13776 0-67.881669L127.195629 14.062931c-18.745908-18.745908-49.13776-18.745908-67.881669 0L14.058181 59.31871c-18.745908 18.745908-18.745908 49.13776 0 67.881669l882.74169 882.74169c18.745908 18.743908 49.13776 18.743908 67.881669 0z"></path></svg>',this.tag="button"}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.isDisabled=function(t){return null==t.selection||null==e.getSelectedNodeByType(t,"link")},t.prototype.exec=function(t,n){this.isDisabled(t)||f.unwrapNodes(t,{match:function(t){return e.checkNodeType(t,"link")}})},t}(),ia=function(){function t(){this.title=n("link.view"),this.iconSvg=xi,this.tag="button"}return t.prototype.getSelectedLinkElem=function(t){var n=e.getSelectedNodeByType(t,"link");return null==n?null:n},t.prototype.getValue=function(t){var e=this.getSelectedLinkElem(t);return e&&e.url||""},t.prototype.isActive=function(t){return!1},t.prototype.isDisabled=function(t){return null==t.selection||null==this.getSelectedLinkElem(t)},t.prototype.exec=function(t,e){if(!this.isDisabled(t)){if(!e||"string"!=typeof e)throw new Error("View link failed, link url is '"+e+"'");window.open(e,"_blank")}},t}();var ua={checkLink:function(t,e){return!0},parseLinkUrl:function(t){return t}},aa={renderElems:[Ku],elemsToHtml:[Qu],parseElemsHtml:[Zu],menus:[{key:"insertLink",factory:function(){return new ea},config:ua},{key:"editLink",factory:function(){return new ra},config:ua},{key:"unLink",factory:function(){return new oa}},{key:"viewLink",factory:function(){return new ia}}],editorPlugin:function(t){var n=t.isInline,r=t.insertData,o=t.normalizeNode;t.insertNode,t.insertText;var i=t;return i.isInline=function(t){return"link"===t.type||n(t)},i.insertData=function(t){var e=t.getData("text/plain");if(Ru(e)){if(!Yu(i)){var n=i.selection;if(null!=n){var o=c.string(i,n);Ju(i,o,e)}}}else r(t)},i.normalizeNode=function(t){var n=Uo(t,2),r=n[0],u=n[1];return"link"!==e.getNodeType(r)||""===s.string(r)&&f.removeNodes(i,{at:u}),o([r,u])},i}};var ca=lt(1..valueOf),la=Y.RangeError,sa=Y.RangeError,fa=Y.String,pa=Math.floor,da=lt((function(t){var e=Xn(yt(this)),n="",r=We(t);if(r<0||r==1/0)throw la("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n})),ha=lt("".slice),va=lt(1..toFixed),ga=function(t,e,n){return 0===e?n:e%2==1?ga(t,e-1,n*t):ga(t*t,e/2,n)},ya=function(t,e,n){for(var r=-1,o=n;++r<6;)o+=e*t[r],t[r]=o%1e7,o=pa(o/1e7)},ma=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=pa(r/e),r=r%e*1e7},ba=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=fa(t[e]);n=""===n?r:n+da("0",7-r.length)+r}return n};function xa(t,n){return"w-e-image-container-"+e.findKey(t,n).id}function wa(t,n,r,o){var u=h("body"),a=xa(t,n),c=o.width,l=o.height,s=0,p=0,d=0,v=!1,g=null;function y(n){g=function(){var t=h("#"+a);if(0===t.length)throw new Error("Cannot find image container elem");return t}(),s=n;var r=g.find("img");if(0===r.length)throw new Error("Cannot find image elem");p=r.width(),d=r.height(),u.on("mousemove",m),u.on("mouseup",b);var o=e.getHoverbar(t);o&&o.hideAndClean()}var m=R((function(t){t.preventDefault();var e=t.clientX,n=p+(v?s-e:e-s),r=d*(n/p);null!=g&&(n<=15||r<=15||(g.css("width",n+"px"),g.css("height",r+"px")))}),100);function b(r){if(u.off("mousemove",m),null!=g){var o=g.width().toFixed(2),i=g.height().toFixed(2),a={style:$o($o({},n.style),{width:o+"px",height:i+"px"})};f.setNodes(t,a,{at:e.findPath(t,n)}),u.off("mouseup",b)}}var x={};return c&&(x.width=c),l&&(x.height=l),i("div",{id:a,style:x,className:"w-e-image-container w-e-selected-image-container",on:{mousedown:function(t){var e=h(t.target);e.hasClass("w-e-image-dragger")&&(t.preventDefault(),(e.hasClass("left-top")||e.hasClass("left-bottom"))&&(v=!0),y(t.clientX))}}},r,i("div",{className:"w-e-image-dragger left-top"}),i("div",{className:"w-e-image-dragger right-top"}),i("div",{className:"w-e-image-dragger left-bottom"}),i("div",{className:"w-e-image-dragger right-bottom"}))}bn({target:"Number",proto:!0,forced:J((function(){return"0.000"!==va(8e-5,3)||"1"!==va(.9,0)||"1.25"!==va(1.255,2)||"1000000000000000128"!==va(0xde0b6b3a7640080,0)}))||!J((function(){va({})}))},{toFixed:function(t){var e,n,r,o,i=ca(this),u=We(t),a=[0,0,0,0,0,0],c="",l="0";if(u<0||u>20)throw sa("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return fa(i);if(i<0&&(c="-",i=-i),i>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(i*ga(2,69,1))-69)<0?i*ga(2,-e,1):i/ga(2,e,1),n*=4503599627370496,(e=52-e)>0){for(ya(a,0,n),r=u;r>=7;)ya(a,1e7,0),r-=7;for(ya(a,ga(10,r,1),0),r=e-1;r>=23;)ma(a,1<<23),r-=23;ma(a,1<<r),ya(a,1,1),ma(a,2),l=ba(a)}else ya(a,0,n),ya(a,1<<-e,0),l=ba(a)+da("0",u);return l=u>0?c+((o=l.length)<=u?"0."+da("0",u-o)+l:ha(l,0,o-u)+"."+ha(l,o-u)):c+l}});var Sa={type:"image",renderElem:function(t,n,r){var o=t,u=o.src,a=o.alt,c=void 0===a?"":a,l=o.href,s=void 0===l?"":l,f=o.style,p=void 0===f?{}:f,d=p.width,h=void 0===d?"":d,v=p.height,g=void 0===v?"":v,y=e.isNodeSelected(r,t),m={};h&&(m.width="100%"),g&&(m.height="100%");var b=i("img",{style:m,src:u,alt:c,"data-href":s});return y?wa(r,t,b,{width:h,height:g}):function(t,e,n,r){var o=r.width,u=r.height,a={};o&&(a.width=o),u&&(a.height=u);var c=xa(t,e);return i("div",{id:c,style:a,className:"w-e-image-container"},n)}(r,t,b,{width:h,height:g})}};var ka={type:"image",elemToHtml:function(t,e){var n=t,r=n.src,o=n.alt,i=void 0===o?"":o,u=n.href,a=void 0===u?"":u,c=n.style,l=void 0===c?{}:c,s=l.width,f=void 0===s?"":s,p=l.height,d=void 0===p?"":p,h="";return f&&(h+="width: "+f+";"),d&&(h+="height: "+d+";"),'<img src="'+r+'" alt="'+i+'" data-href="'+a+'" style="'+h+'"/>'}};var Ea={selector:"img",parseElemHtml:function(t,e,n){var r=h(t),o=r.attr("data-href")||"";return o=decodeURIComponent(o),{type:"image",src:r.attr("src")||"",alt:r.attr("alt")||"",href:o,style:{width:Do(r,"width"),height:Do(r,"height")},children:[{text:""}]}}};function Ta(t,e,n,r,o){return void 0===r&&(r=""),void 0===o&&(o=""),qo(this,void 0,void 0,(function(){var i,u;return Wo(this,(function(a){switch(a.label){case 0:return(i=e.getMenuConfig(t).checkImage)?[4,i(n,r,o)]:[3,2];case 1:if("string"==typeof(u=a.sent()))return e.alert(u,"error"),[2,!1];if(null==u)return[2,!1];a.label=2;case 2:return[2,!0]}}))}))}function Ma(t,e,n){return qo(this,void 0,void 0,(function(){var r;return Wo(this,(function(o){switch(o.label){case 0:return(r=e.getMenuConfig(t).parseImageSrc)?[4,r(n)]:[3,2];case 1:return[2,o.sent()];case 2:return[2,n]}}))}))}function Oa(t,n,r,o){return void 0===r&&(r=""),void 0===o&&(o=""),qo(this,void 0,void 0,(function(){var i,u,a;return Wo(this,(function(c){switch(c.label){case 0:return[4,Ta("insertImage",t,n,r,o)];case 1:return c.sent()?[4,Ma("insertImage",t,n)]:[2];case 2:return i=c.sent(),u={type:"image",src:Gu(i),href:o,alt:r,style:{},children:[{text:""}]},null===t.selection&&t.restoreSelection(),e.getSelectedNodeByType(t,"image")&&t.move(1),Ia(t)?[2]:(f.insertNodes(t,u),(a=t.getMenuConfig("insertImage").onInsertedImage)&&a(u),[2])}}))}))}function Ha(t,n,r,o,i){return void 0===r&&(r=""),void 0===o&&(o=""),void 0===i&&(i={}),qo(this,void 0,void 0,(function(){var u,a,c,l,s,p;return Wo(this,(function(d){switch(d.label){case 0:return[4,Ta("editImage",t,n,r,o)];case 1:return d.sent()?[4,Ma("editImage",t,n)]:[2];case 2:return u=d.sent(),null==(a=e.getSelectedNodeByType(t,"image"))?[2]:(c=a.style,l={src:u,alt:r,href:o,style:$o($o({},void 0===c?{}:c),i)},f.setNodes(t,l,{match:function(t){return e.checkNodeType(t,"image")}}),s=e.getSelectedNodeByType(t,"image"),(p=t.getMenuConfig("editImage").onUpdatedImage)&&p(s),[2])}}))}))}function Ia(t){var n=t.selection;return null==n||(!p.isCollapsed(n)||!!Uo(c.nodes(t,{match:function(n){var r=e.getNodeType(n);return"code"===r||("pre"===r||("link"===r||("list-item"===r||(!!r.startsWith("header")||("blockquote"===r||!!c.isVoid(t,n))))))},universal:!0}),1)[0])}function Na(){return Wu("w-e-insert-image")}var La=function(){function t(){this.title=n("image.netImage"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=Na(),this.altInputId=Na(),this.hrefInputId=Na(),this.buttonId=Na()}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.exec=function(t,e){},t.prototype.isDisabled=function(t){return Ia(t)},t.prototype.getModalPositionNode=function(t){return null},t.prototype.getModalContentElem=function(t){var e=this,i=this,u=i.srcInputId,a=i.altInputId,c=i.hrefInputId,l=i.buttonId,s=Uo(r(n("image.src"),u),2),f=s[0],p=s[1],d=h(p),v=Uo(r(n("image.desc"),a),2),g=v[0],y=v[1],m=h(y),b=Uo(r(n("image.link"),c),2),x=b[0],w=b[1],S=h(w),k=Uo(o(l,n("common.ok")),1)[0];if(null==this.$content){var E=h("<div></div>");E.on("click","#"+l,(function(n){n.preventDefault();var r=E.find("#"+u).val().trim(),o=E.find("#"+a).val().trim(),i=E.find("#"+c).val().trim();e.insertImage(t,r,o,i),t.hidePanelOrModal()})),this.$content=E}var T=this.$content;return T.html(""),T.append(f),T.append(g),T.append(x),T.append(k),d.val(""),m.val(""),S.val(""),setTimeout((function(){d.focus()})),T[0]},t.prototype.insertImage=function(t,e,n,r){void 0===n&&(n=""),void 0===r&&(r=""),e&&(t.restoreSelection(),this.isDisabled(t)||Oa(t,e,n,r))},t}(),za=function(){function t(){this.title=n("image.delete"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z" p-id="9577"></path><path d="M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z"></path></svg>',this.tag="button"}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.isDisabled=function(t){return null==t.selection||null==e.getSelectedNodeByType(t,"image")},t.prototype.exec=function(t,n){this.isDisabled(t)||f.removeNodes(t,{match:function(t){return e.checkNodeType(t,"image")}})},t}();function ja(){return Wu("w-e-edit-image")}var Aa=function(){function t(){this.title=n("image.edit"),this.iconSvg=bi,this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=ja(),this.altInputId=ja(),this.hrefInputId=ja(),this.buttonId=ja()}return t.prototype.getValue=function(t){return""},t.prototype.getImageNode=function(t){return e.getSelectedNodeByType(t,"image")},t.prototype.isActive=function(t){return!1},t.prototype.exec=function(t,e){},t.prototype.isDisabled=function(t){var n=t.selection;return null==n||(!p.isCollapsed(n)||null==e.getSelectedNodeByType(t,"image"))},t.prototype.getModalPositionNode=function(t){return this.getImageNode(t)},t.prototype.getModalContentElem=function(t){var e=this,i=this,u=i.srcInputId,a=i.altInputId,c=i.hrefInputId,l=i.buttonId,s=this.getImageNode(t);if(null==s)throw new Error("Not found selected image node");var f=Uo(r(n("image.src"),u),2),p=f[0],d=f[1],v=h(d),g=Uo(r(n("image.desc"),a),2),y=g[0],m=g[1],b=h(m),x=Uo(r(n("image.link"),c),2),w=x[0],S=x[1],k=h(S),E=Uo(o(l,n("common.ok")),1)[0];if(null==this.$content){var T=h("<div></div>");T.on("click","#"+l,(function(n){n.preventDefault();var r=T.find("#"+u).val(),o=T.find("#"+a).val(),i=T.find("#"+c).val();e.updateImage(t,r,o,i),t.hidePanelOrModal()})),this.$content=T}var M=this.$content;M.html(""),M.append(p),M.append(y),M.append(w),M.append(E);var O=s,H=O.src,I=O.alt,N=void 0===I?"":I,L=O.href,z=void 0===L?"":L;return v.val(H),b.val(N),k.val(z),setTimeout((function(){v.focus()})),M[0]},t.prototype.updateImage=function(t,e,n,r,o){void 0===n&&(n=""),void 0===r&&(r=""),void 0===o&&(o={}),e&&(t.restoreSelection(),this.isDisabled(t)||Ha(t,e,n,r,o))},t}(),Pa=function(){function t(){this.title=n("image.viewLink"),this.iconSvg=xi,this.tag="button"}return t.prototype.getValue=function(t){var n=e.getSelectedNodeByType(t,"image");return n&&n.href||""},t.prototype.isActive=function(t){return!1},t.prototype.isDisabled=function(t){return null==t.selection||!this.getValue(t)},t.prototype.exec=function(t,e){if(!this.isDisabled(t)){if(!e||"string"!=typeof e)throw new Error("View image link failed, image.href is '"+e+"'");window.open(e,"_blank")}},t}(),Va=function(){function t(){this.tag="button"}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.getSelectedNode=function(t){return e.getSelectedNodeByType(t,"image")},t.prototype.isDisabled=function(t){return null==t.selection||null==this.getSelectedNode(t)},t.prototype.exec=function(t,n){if(!this.isDisabled(t)){var r=this.getSelectedNode(t);if(null!=r){var o=e.getHoverbar(t);o&&o.hideAndClean();var i=r.style,u={style:$o($o({},void 0===i?{}:i),{width:this.value,height:""})};f.setNodes(t,u,{match:function(t){return e.checkNodeType(t,"image")}})}}},t}(),Ca=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="30%",e.value="30%",e}return _o(e,t),e}(Va),Ba=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="50%",e.value="50%",e}return _o(e,t),e}(Va),Da=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="100%",e.value="100%",e}return _o(e,t),e}(Va);var Ra={onInsertedImage:function(t){},onUpdatedImage:function(t){},checkImage:function(t,e,n){return!0},parseImageSrc:function(t){return t}},Fa={renderElems:[Sa],elemsToHtml:[ka],parseElemsHtml:[Ea],menus:[{key:"insertImage",factory:function(){return new La},config:Ra},{key:"deleteImage",factory:function(){return new za}},{key:"editImage",factory:function(){return new Aa},config:Ra},{key:"viewImageLink",factory:function(){return new Pa}},{key:"imageWidth30",factory:function(){return new Ca}},{key:"imageWidth50",factory:function(){return new Ba}},{key:"imageWidth100",factory:function(){return new Da}}],editorPlugin:function(t){var e=t.isInline,n=t.isVoid;t.insertNode;var r=t;return r.isInline=function(t){return"image"===t.type||e(t)},r.isVoid=function(t){return"image"===t.type||n(t)},r}};var _a={type:"todo",renderElem:function(t,n,r){var o=t.checked,u=i("div",{style:{margin:"5px 0"}},i("span",{contentEditable:!1,style:{marginRight:"0.5em"}},i("input",{type:"checkbox",checked:o,on:{change:function(n){var o=e.findPath(r,t),i={checked:n.target.checked};f.setNodes(r,i,{at:o})}}})),i("span",null,n));return u}};var $a=function(){function t(){this.title=n("todo.todo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M278.755556 403.911111l-79.644445 79.644445L455.111111 739.555556l568.888889-568.888889-79.644444-79.644445L455.111111 580.266667l-176.355555-176.355556zM910.222222 910.222222H113.777778V113.777778h568.888889V0H113.777778C51.2 0 0 51.2 0 113.777778v796.444444c0 62.577778 51.2 113.777778 113.777778 113.777778h796.444444c62.577778 0 113.777778-51.2 113.777778-113.777778V455.111111h-113.777778v455.111111z"></path></svg>',this.tag="button"}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!!e.getSelectedNodeByType(t,"todo")},t.prototype.isDisabled=function(t){return null==t.selection||!!e.getSelectedElems(t).some((function(e){if(c.isVoid(t,e)&&c.isBlock(t,e))return!0;var n=e.type;return!!["pre","table","bulleted-list","numbered-list"].includes(n)||void 0}))},t.prototype.exec=function(t,e){var n=this.isActive(t);f.setNodes(t,{type:n?"paragraph":"todo"})},t}();var qa={selector:'div[data-w-e-type="todo"]',parseElemHtml:function(t,e,n){var r=h(t);0===(e=e.filter((function(t){return!!a.isText(t)||!!n.isInline(t)}))).length&&(e=[{text:r.text().replace(/\s+/gm," ")}]);var o=!1;return null!=r.find('input[type="checkbox"]').attr("checked")&&(o=!0),{type:"todo",checked:o,children:e}}};var Wa={renderElems:[_a],elemsToHtml:[{type:"todo",elemToHtml:function(t,e){return'<div data-w-e-type="todo"><input type="checkbox" disabled '+(t.checked?"checked":"")+">"+e+"</div>"}}],preParseHtml:[{selector:"ul.w-e-todo",preParseHtml:function(t){var e=h(t).find("li"),n=h('<div data-w-e-type="todo"></div>'),r=e.find("input[type]");return n.append(r),e.children()[0].remove(),n[0].innerHTML=n[0].innerHTML+e[0].innerHTML,n[0]}}],parseElemsHtml:[qa],menus:[{key:"todo",factory:function(){return new $a}}],editorPlugin:function(t){var n=t.deleteBackward,r=t;return r.deleteBackward=function(r){var o=t.selection;if(o&&p.isCollapsed(o)){var i=e.getSelectedNodeByType(t,"todo");if(i&&0===s.string(i).length)return void f.setNodes(t,{type:"paragraph"},{mode:"highest"})}n(r)},r}};var Ga={type:"blockquote",renderElem:function(t,e,n){return i("blockquote",null,e)}};var Ua={type:"blockquote",elemToHtml:function(t,e){return"<blockquote>"+e+"</blockquote>"}};var Xa={selector:"blockquote",parseElemHtml:function(t,e,n){var r=h(t);return 0===(e=e.filter((function(t){return!!a.isText(t)||!!n.isInline(t)}))).length&&(e=[{text:r.text().replace(/\s+/gm," ")}]),{type:"blockquote",children:e}}},Ya=function(){function t(){this.title=n("blockQuote.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M894.6 907.1H605.4c-32.6 0-59-26.4-59-59V608.2l-4-14.9c0-315.9 125.5-485.1 376.5-507.5v59.8C752.7 180.4 711.3 315.8 711.3 442.4v41.2l31.5 12.3h151.8c32.6 0 59 26.4 59 59v293.2c0 32.5-26.4 59-59 59z m-472 0H133.4c-32.6 0-59-26.4-59-59V608.2l-4-14.9c0-315.9 125.5-485.1 376.5-507.5v59.8C280.7 180.4 239.3 315.8 239.3 442.4v41.2l31.5 12.3h151.8c32.6 0 59 26.4 59 59v293.2c0 32.5-26.4 59-59 59z"></path></svg>',this.tag="button"}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!!e.getSelectedNodeByType(t,"blockquote")},t.prototype.isDisabled=function(t){return null==t.selection||!Uo(c.nodes(t,{match:function(t){var n=e.getNodeType(t);return"paragraph"===n||"blockquote"===n},universal:!0,mode:"highest"}),1)[0]},t.prototype.exec=function(t,e){if(!this.isDisabled(t)){var n=this.isActive(t)?"paragraph":"blockquote";f.setNodes(t,{type:n},{mode:"highest"})}},t}(),Ja={key:"blockquote",factory:function(){return new Ya}},Ka=lt([].slice),Qa=$n("slice"),Za=ne("species"),tc=Y.Array,ec=Math.max;bn({target:"Array",proto:!0,forced:!Qa},{slice:function(t,e){var n,r,o,i=mt(this),u=Ke(i),a=Xe(t,u),c=Xe(void 0===e?u:e,u);if(wn(i)&&(n=i.constructor,(Pn(n)&&(n===tc||wn(n.prototype))||xt(n)&&null===(n=n[Za]))&&(n=void 0),n===tc||void 0===n))return Ka(i,a,c);for(r=new(void 0===n?tc:n)(ec(c-a,0)),o=0;a<c;a++,o++)a in i&&go(r,o,i[a]);return r.length=o,r}});var nc={renderElems:[Ga],elemsToHtml:[Ua],parseElemsHtml:[Xa],menus:[Ja],editorPlugin:function(t){var n=t.insertBreak,r=t.insertText,o=t;return o.insertBreak=function(){var i=o.selection;if(null==i)return n();var u=Uo(c.nodes(t,{match:function(t){return e.checkNodeType(t,"blockquote")},universal:!0}),1)[0];if(!u)return n();var a=u[0],l=e.findPath(t,a),p=c.end(t,l);if(d.equals(p,i.focus)){var h=s.string(a);if(h&&"\n"===h.slice(-1)){t.deleteBackward("character");return void f.insertNodes(o,{type:"paragraph",children:[{text:""}]},{mode:"highest"})}}r("\n")},o}},rc=function(){function t(){this.title=n("emotion.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m0-102.4c226.742857 0 409.6-182.857143 409.6-409.6S738.742857 102.4 512 102.4 102.4 285.257143 102.4 512s182.857143 409.6 409.6 409.6z m-204.8-358.4h409.6c0 113.371429-91.428571 204.8-204.8 204.8s-204.8-91.428571-204.8-204.8z m0-102.4c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8 76.8 32.914286 76.8 76.8-32.914286 76.8-76.8 76.8z m409.6 0c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8c43.885714 0 76.8 32.914286 76.8 76.8s-32.914286 76.8-76.8 76.8z"></path></svg>',this.tag="button",this.showDropPanel=!0,this.$content=null}return t.prototype.exec=function(t,e){},t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.isDisabled=function(t){return null==t.selection||!!Uo(c.nodes(t,{match:function(n){return"pre"===e.getNodeType(n)||!!c.isVoid(t,n)},universal:!0}),1)[0]},t.prototype.getPanelContentElem=function(t){if(null==this.$content){var e=h('<ul class="w-e-panel-content-emotion"></ul>');e.on("mousedown","li",(function(e){var n=e.target;if(null!=n){e.preventDefault();var r=h(n).text();t.insertText(r)}})),this.$content=e}var n=this.$content;if(null==n)return document.createElement("ul");n.html("");var r=t.getMenuConfig("emotion").emotions;return(void 0===r?[]:r).forEach((function(t){var e=h("<li>"+t+"</li>");n.append(e)})),n[0]},t}();var oc={menus:[{key:"emotion",factory:function(){return new rc},config:{emotions:"😀 😃 😄 😁 😆 😅 😂 🤣 😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😛 😝 😜 🤓 😎 😏 😒 😞 😔 😟 😕 🙁 😣 😖 😫 😩 😢 😭 😤 😠 😡 😳 😱 😨 🤗 🤔 😶 😑 😬 🙄 😯 😴 😷 🤑 😈 🤡 💩 👻 💀 👀 👣 👐 🙌 👏 🤝 👍 👎 👊 ✊ 🤛 🤜 🤞 ✌️ 🤘 👌 👈 👉 👆 👇 ☝️ ✋ 🤚 🖐 🖖 👋 🤙 💪 🖕 ✍️ 🙏".split(" ")}}]};var ic={1:"12px",2:"14px",3:"16px",4:"19px",5:"24px",6:"32px",7:"48px"};var uc={selector:"font",preParseHtml:function(t){var e=h(t);if("font"!==Bo(e))return t;var n=e.attr("size")||"";n&&(e.removeAttr("size"),e.css("font-size",ic[n]));var r=e.attr("face")||"";return r&&(e.removeAttr("face"),e.css("font-family",r)),e[0]}};var ac,cc,lc=function(){function t(){this.tag="select",this.width=80}return t.prototype.isActive=function(t){return!1},t.prototype.getValue=function(t){var e=this.mark,n=c.marks(t);return n&&n[e]?n[e]:""},t.prototype.isDisabled=function(t){return null==t.selection||(this.mark,!!Uo(c.nodes(t,{match:function(n){return"pre"===e.getNodeType(n)||!!c.isVoid(t,n)},universal:!0}),1)[0])},t.prototype.exec=function(t,e){var n=this.mark;e?t.addMark(n,e):t.removeMark(n)},t}(),sc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=n("fontSize.title"),e.iconSvg=ki,e.mark="fontSize",e}return _o(e,t),e.prototype.getOptions=function(t){var e=[],r=t.getMenuConfig(this.mark).fontSizeList,o=void 0===r?[]:r;e.push({text:n("fontSize.default"),value:""}),o.forEach((function(t){e.push({text:t,value:t})}));var i=this.getValue(t);return e.forEach((function(t){t.value===i?t.selected=!0:delete t.selected})),e},e}(lc),fc=function(t){return t&&t.Math==Math&&t},pc=fc("object"==typeof globalThis&&globalThis)||fc("object"==typeof window&&window)||fc("object"==typeof self&&self)||fc("object"==typeof $&&$)||function(){return this}()||Function("return this")(),dc=Function.prototype,hc=dc.apply,vc=dc.bind,gc=dc.call,yc="object"==typeof Reflect&&Reflect.apply||(vc?gc.bind(hc):function(){return gc.apply(hc,arguments)}),mc=Function.prototype,bc=mc.bind,xc=mc.call,wc=bc&&bc.bind(xc),Sc=bc?function(t){return t&&wc(xc,t)}:function(t){return t&&function(){return xc.apply(t,arguments)}},kc=function(t){return"function"==typeof t},Ec=function(t){try{return!!t()}catch(t){return!0}},Tc=!Ec((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Mc=Function.prototype.call,Oc=Mc.bind?Mc.bind(Mc):function(){return Mc.apply(Mc,arguments)},Hc={}.propertyIsEnumerable,Ic=Object.getOwnPropertyDescriptor,Nc=Ic&&!Hc.call({1:2},1)?function(t){var e=Ic(this,t);return!!e&&e.enumerable}:Hc,Lc={f:Nc},zc=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},jc=Sc({}.toString),Ac=Sc("".slice),Pc=function(t){return Ac(jc(t),8,-1)},Vc=pc.Object,Cc=Sc("".split),Bc=Ec((function(){return!Vc("z").propertyIsEnumerable(0)}))?function(t){return"String"==Pc(t)?Cc(t,""):Vc(t)}:Vc,Dc=pc.TypeError,Rc=function(t){if(null==t)throw Dc("Can't call method on "+t);return t},Fc=function(t){return Bc(Rc(t))},_c=function(t){return"object"==typeof t?null!==t:kc(t)},$c={},qc=function(t){return kc(t)?t:void 0},Wc=function(t,e){return arguments.length<2?qc($c[t])||qc(pc[t]):$c[t]&&$c[t][e]||pc[t]&&pc[t][e]},Gc=Sc({}.isPrototypeOf),Uc=Wc("navigator","userAgent")||"",Xc=pc.process,Yc=pc.Deno,Jc=Xc&&Xc.versions||Yc&&Yc.version,Kc=Jc&&Jc.v8;Kc&&(cc=(ac=Kc.split("."))[0]>0&&ac[0]<4?1:+(ac[0]+ac[1])),!cc&&Uc&&(!(ac=Uc.match(/Edge\/(\d+)/))||ac[1]>=74)&&(ac=Uc.match(/Chrome\/(\d+)/))&&(cc=+ac[1]);var Qc=cc,Zc=!!Object.getOwnPropertySymbols&&!Ec((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Qc&&Qc<41})),tl=Zc&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,el=pc.Object,nl=tl?function(t){return"symbol"==typeof t}:function(t){var e=Wc("Symbol");return kc(e)&&Gc(e.prototype,el(t))},rl=pc.String,ol=pc.TypeError,il=function(t){if(kc(t))return t;throw ol(function(t){try{return rl(t)}catch(t){return"Object"}}(t)+" is not a function")},ul=pc.TypeError,al=Object.defineProperty,cl=pc["__core-js_shared__"]||function(t,e){try{al(pc,t,{value:e,configurable:!0,writable:!0})}catch(n){pc[t]=e}return e}("__core-js_shared__",{}),ll=W((function(t){(t.exports=function(t,e){return cl[t]||(cl[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),sl=pc.Object,fl=function(t){return sl(Rc(t))},pl=Sc({}.hasOwnProperty),dl=Object.hasOwn||function(t,e){return pl(fl(t),e)},hl=0,vl=Math.random(),gl=Sc(1..toString),yl=function(t){return"Symbol("+(void 0===t?"":t)+")_"+gl(++hl+vl,36)},ml=ll("wks"),bl=pc.Symbol,xl=bl&&bl.for,wl=tl?bl:bl&&bl.withoutSetter||yl,Sl=function(t){if(!dl(ml,t)||!Zc&&"string"!=typeof ml[t]){var e="Symbol."+t;Zc&&dl(bl,t)?ml[t]=bl[t]:ml[t]=tl&&xl?xl(e):wl(e)}return ml[t]},kl=pc.TypeError,El=Sl("toPrimitive"),Tl=function(t,e){if(!_c(t)||nl(t))return t;var n,r,o=null==(n=t[El])?void 0:il(n);if(o){if(void 0===e&&(e="default"),r=Oc(o,t,e),!_c(r)||nl(r))return r;throw kl("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&kc(n=t.toString)&&!_c(r=Oc(n,t)))return r;if(kc(n=t.valueOf)&&!_c(r=Oc(n,t)))return r;if("string"!==e&&kc(n=t.toString)&&!_c(r=Oc(n,t)))return r;throw ul("Can't convert object to primitive value")}(t,e)},Ml=function(t){var e=Tl(t,"string");return nl(e)?e:e+""},Ol=pc.document,Hl=_c(Ol)&&_c(Ol.createElement),Il=function(t){return Hl?Ol.createElement(t):{}},Nl=!Tc&&!Ec((function(){return 7!=Object.defineProperty(Il("div"),"a",{get:function(){return 7}}).a})),Ll=Object.getOwnPropertyDescriptor,zl={f:Tc?Ll:function(t,e){if(t=Fc(t),e=Ml(e),Nl)try{return Ll(t,e)}catch(t){}if(dl(t,e))return zc(!Oc(Lc.f,t,e),t[e])}},jl=/#|\.prototype\./,Al=function(t,e){var n=Vl[Pl(t)];return n==Bl||n!=Cl&&(kc(e)?Ec(e):!!e)},Pl=Al.normalize=function(t){return String(t).replace(jl,".").toLowerCase()},Vl=Al.data={},Cl=Al.NATIVE="N",Bl=Al.POLYFILL="P",Dl=Al,Rl=Sc(Sc.bind),Fl=function(t,e){return il(t),void 0===e?t:Rl?Rl(t,e):function(){return t.apply(e,arguments)}},_l=pc.String,$l=pc.TypeError,ql=function(t){if(_c(t))return t;throw $l(_l(t)+" is not an object")},Wl=pc.TypeError,Gl=Object.defineProperty,Ul={f:Tc?Gl:function(t,e,n){if(ql(t),e=Ml(e),ql(n),Nl)try{return Gl(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Wl("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Xl=Tc?function(t,e,n){return Ul.f(t,e,zc(1,n))}:function(t,e,n){return t[e]=n,t},Yl=zl.f,Jl=function(t){var e=function(n,r,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,o)}return yc(t,this,arguments)};return e.prototype=t.prototype,e},Kl=function(t,e){var n,r,o,i,u,a,c,l,s=t.target,f=t.global,p=t.stat,d=t.proto,h=f?pc:p?pc[s]:(pc[s]||{}).prototype,v=f?$c:$c[s]||Xl($c,s,{})[s],g=v.prototype;for(o in e)n=!Dl(f?o:s+(p?".":"#")+o,t.forced)&&h&&dl(h,o),u=v[o],n&&(a=t.noTargetGet?(l=Yl(h,o))&&l.value:h[o]),i=n&&a?a:e[o],n&&typeof u==typeof i||(c=t.bind&&n?Fl(i,pc):t.wrap&&n?Jl(i):d&&kc(i)?Sc(i):i,(t.sham||i&&i.sham||u&&u.sham)&&Xl(c,"sham",!0),Xl(v,o,c),d&&(dl($c,r=s+"Prototype")||Xl($c,r,{}),Xl($c[r],o,i),t.real&&g&&!g[o]&&Xl(g,o,i)))},Ql=Array.isArray||function(t){return"Array"==Pc(t)},Zl=Math.ceil,ts=Math.floor,es=function(t){var e=+t;return e!=e||0===e?0:(e>0?ts:Zl)(e)},ns=Math.min,rs=function(t){return(e=t.length)>0?ns(es(e),9007199254740991):0;var e},os=function(t,e,n){var r=Ml(e);r in t?Ul.f(t,r,zc(0,n)):t[r]=n},is={};is[Sl("toStringTag")]="z";var us="[object z]"===String(is),as=Sl("toStringTag"),cs=pc.Object,ls="Arguments"==Pc(function(){return arguments}()),ss=us?Pc:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=cs(t),as))?n:ls?Pc(e):"Object"==(r=Pc(e))&&kc(e.callee)?"Arguments":r},fs=Sc(Function.toString);kc(cl.inspectSource)||(cl.inspectSource=function(t){return fs(t)});var ps=cl.inspectSource,ds=function(){},hs=[],vs=Wc("Reflect","construct"),gs=/^\s*(?:class|function)\b/,ys=Sc(gs.exec),ms=!gs.exec(ds),bs=function(t){if(!kc(t))return!1;try{return vs(ds,hs,t),!0}catch(t){return!1}},xs=!vs||Ec((function(){var t;return bs(bs.call)||!bs(Object)||!bs((function(){t=!0}))||t}))?function(t){if(!kc(t))return!1;switch(ss(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return ms||!!ys(gs,ps(t))}:bs,ws=Sl("species"),Ss=pc.Array,ks=function(t,e){return new(function(t){var e;return Ql(t)&&(e=t.constructor,(xs(e)&&(e===Ss||Ql(e.prototype))||_c(e)&&null===(e=e[ws]))&&(e=void 0)),void 0===e?Ss:e}(t))(0===e?0:e)},Es=Sl("species"),Ts=Sl("isConcatSpreadable"),Ms=pc.TypeError,Os=Qc>=51||!Ec((function(){var t=[];return t[Ts]=!1,t.concat()[0]!==t})),Hs=function(t){return Qc>=51||!Ec((function(){var e=[];return(e.constructor={})[Es]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}("concat"),Is=function(t){if(!_c(t))return!1;var e=t[Ts];return void 0!==e?!!e:Ql(t)};Kl({target:"Array",proto:!0,forced:!Os||!Hs},{concat:function(t){var e,n,r,o,i,u=fl(this),a=ks(u,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(Is(i=-1===e?u:arguments[e])){if(c+(o=rs(i))>9007199254740991)throw Ms("Maximum allowed index exceeded");for(n=0;n<o;n++,c++)n in i&&os(a,c,i[n])}else{if(c>=9007199254740991)throw Ms("Maximum allowed index exceeded");os(a,c++,i)}return a.length=c,a}});var Ns,Ls=pc.String,zs=function(t){if("Symbol"===ss(t))throw TypeError("Cannot convert a Symbol value to a string");return Ls(t)},js=Math.max,As=Math.min,Ps=function(t,e){var n=es(t);return n<0?js(n+e,0):As(n,e)},Vs=function(t){return function(e,n,r){var o,i=Fc(e),u=rs(i),a=Ps(r,u);if(t&&n!=n){for(;u>a;)if((o=i[a++])!=o)return!0}else for(;u>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},Cs={includes:Vs(!0),indexOf:Vs(!1)},Bs={},Ds=Cs.indexOf,Rs=Sc([].push),Fs=function(t,e){var n,r=Fc(t),o=0,i=[];for(n in r)!dl(Bs,n)&&dl(r,n)&&Rs(i,n);for(;e.length>o;)dl(r,n=e[o++])&&(~Ds(i,n)||Rs(i,n));return i},_s=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$s=Object.keys||function(t){return Fs(t,_s)},qs=Tc?Object.defineProperties:function(t,e){ql(t);for(var n,r=Fc(e),o=$s(e),i=o.length,u=0;i>u;)Ul.f(t,n=o[u++],r[n]);return t},Ws=Wc("document","documentElement"),Gs=ll("keys"),Us=function(t){return Gs[t]||(Gs[t]=yl(t))},Xs=Us("IE_PROTO"),Ys=function(){},Js=function(t){return"<script>"+t+"<\/script>"},Ks=function(t){t.write(Js("")),t.close();var e=t.parentWindow.Object;return t=null,e},Qs=function(){try{Ns=new ActiveXObject("htmlfile")}catch(t){}var t,e;Qs="undefined"!=typeof document?document.domain&&Ns?Ks(Ns):((e=Il("iframe")).style.display="none",Ws.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Js("document.F=Object")),t.close(),t.F):Ks(Ns);for(var n=_s.length;n--;)delete Qs.prototype[_s[n]];return Qs()};Bs[Xs]=!0;var Zs,tf,ef,nf=Object.create||function(t,e){var n;return null!==t?(Ys.prototype=ql(t),n=new Ys,Ys.prototype=null,n[Xs]=t):n=Qs(),void 0===e?n:qs(n,e)},rf=_s.concat("length","prototype"),of={f:Object.getOwnPropertyNames||function(t){return Fs(t,rf)}},uf=pc.Array,af=Math.max,cf=of.f,lf="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],sf=function(t){try{return cf(t)}catch(t){return function(t,e,n){for(var r=rs(t),o=Ps(e,r),i=Ps(void 0===n?r:n,r),u=uf(af(i-o,0)),a=0;o<i;o++,a++)os(u,a,t[o]);return u.length=a,u}(lf)}},ff={f:function(t){return lf&&"Window"==Pc(t)?sf(t):cf(Fc(t))}},pf={f:Object.getOwnPropertySymbols},df=Sc([].slice),hf=function(t,e,n,r){r&&r.enumerable?t[e]=n:Xl(t,e,n)},vf={f:Sl},gf=Ul.f,yf=function(t){var e=$c.Symbol||($c.Symbol={});dl(e,t)||gf(e,t,{value:vf.f(t)})},mf=us?{}.toString:function(){return"[object "+ss(this)+"]"},bf=Ul.f,xf=Sl("toStringTag"),wf=function(t,e,n,r){if(t){var o=n?t:t.prototype;dl(o,xf)||bf(o,xf,{configurable:!0,value:e}),r&&!us&&Xl(o,"toString",mf)}},Sf=pc.WeakMap,kf=kc(Sf)&&/native code/.test(ps(Sf)),Ef=pc.TypeError,Tf=pc.WeakMap;if(kf||cl.state){var Mf=cl.state||(cl.state=new Tf),Of=Sc(Mf.get),Hf=Sc(Mf.has),If=Sc(Mf.set);Zs=function(t,e){if(Hf(Mf,t))throw new Ef("Object already initialized");return e.facade=t,If(Mf,t,e),e},tf=function(t){return Of(Mf,t)||{}},ef=function(t){return Hf(Mf,t)}}else{var Nf=Us("state");Bs[Nf]=!0,Zs=function(t,e){if(dl(t,Nf))throw new Ef("Object already initialized");return e.facade=t,Xl(t,Nf,e),e},tf=function(t){return dl(t,Nf)?t[Nf]:{}},ef=function(t){return dl(t,Nf)}}var Lf={set:Zs,get:tf,has:ef,enforce:function(t){return ef(t)?tf(t):Zs(t,{})},getterFor:function(t){return function(e){var n;if(!_c(e)||(n=tf(e)).type!==t)throw Ef("Incompatible receiver, "+t+" required");return n}}},zf=Sc([].push),jf=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,u=7==t,a=5==t||i;return function(c,l,s,f){for(var p,d,h=fl(c),v=Bc(h),g=Fl(l,s),y=rs(v),m=0,b=f||ks,x=e?b(c,y):n||u?b(c,0):void 0;y>m;m++)if((a||m in v)&&(d=g(p=v[m],m,h),t))if(e)x[m]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:zf(x,p)}else switch(t){case 4:return!1;case 7:zf(x,p)}return i?-1:r||o?o:x}},Af={forEach:jf(0),map:jf(1),filter:jf(2),some:jf(3),every:jf(4),find:jf(5),findIndex:jf(6),filterReject:jf(7)}.forEach,Pf=Us("hidden"),Vf=Sl("toPrimitive"),Cf=Lf.set,Bf=Lf.getterFor("Symbol"),Df=Object.prototype,Rf=pc.Symbol,Ff=Rf&&Rf.prototype,_f=pc.TypeError,$f=pc.QObject,qf=Wc("JSON","stringify"),Wf=zl.f,Gf=Ul.f,Uf=ff.f,Xf=Lc.f,Yf=Sc([].push),Jf=ll("symbols"),Kf=ll("op-symbols"),Qf=ll("string-to-symbol-registry"),Zf=ll("symbol-to-string-registry"),tp=ll("wks"),ep=!$f||!$f.prototype||!$f.prototype.findChild,np=Tc&&Ec((function(){return 7!=nf(Gf({},"a",{get:function(){return Gf(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Wf(Df,e);r&&delete Df[e],Gf(t,e,n),r&&t!==Df&&Gf(Df,e,r)}:Gf,rp=function(t,e){var n=Jf[t]=nf(Ff);return Cf(n,{type:"Symbol",tag:t,description:e}),Tc||(n.description=e),n},op=function(t,e,n){t===Df&&op(Kf,e,n),ql(t);var r=Ml(e);return ql(n),dl(Jf,r)?(n.enumerable?(dl(t,Pf)&&t[Pf][r]&&(t[Pf][r]=!1),n=nf(n,{enumerable:zc(0,!1)})):(dl(t,Pf)||Gf(t,Pf,zc(1,{})),t[Pf][r]=!0),np(t,r,n)):Gf(t,r,n)},ip=function(t,e){ql(t);var n=Fc(e),r=$s(n).concat(lp(n));return Af(r,(function(e){Tc&&!Oc(up,n,e)||op(t,e,n[e])})),t},up=function(t){var e=Ml(t),n=Oc(Xf,this,e);return!(this===Df&&dl(Jf,e)&&!dl(Kf,e))&&(!(n||!dl(this,e)||!dl(Jf,e)||dl(this,Pf)&&this[Pf][e])||n)},ap=function(t,e){var n=Fc(t),r=Ml(e);if(n!==Df||!dl(Jf,r)||dl(Kf,r)){var o=Wf(n,r);return!o||!dl(Jf,r)||dl(n,Pf)&&n[Pf][r]||(o.enumerable=!0),o}},cp=function(t){var e=Uf(Fc(t)),n=[];return Af(e,(function(t){dl(Jf,t)||dl(Bs,t)||Yf(n,t)})),n},lp=function(t){var e=t===Df,n=Uf(e?Kf:Fc(t)),r=[];return Af(n,(function(t){!dl(Jf,t)||e&&!dl(Df,t)||Yf(r,Jf[t])})),r};if(Zc||(Ff=(Rf=function(){if(Gc(Ff,this))throw _f("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?zs(arguments[0]):void 0,e=yl(t),n=function(t){this===Df&&Oc(n,Kf,t),dl(this,Pf)&&dl(this[Pf],e)&&(this[Pf][e]=!1),np(this,e,zc(1,t))};return Tc&&ep&&np(Df,e,{configurable:!0,set:n}),rp(e,t)}).prototype,hf(Ff,"toString",(function(){return Bf(this).tag})),hf(Rf,"withoutSetter",(function(t){return rp(yl(t),t)})),Lc.f=up,Ul.f=op,zl.f=ap,of.f=ff.f=cp,pf.f=lp,vf.f=function(t){return rp(Sl(t),t)},Tc&&Gf(Ff,"description",{configurable:!0,get:function(){return Bf(this).description}})),Kl({global:!0,wrap:!0,forced:!Zc,sham:!Zc},{Symbol:Rf}),Af($s(tp),(function(t){yf(t)})),Kl({target:"Symbol",stat:!0,forced:!Zc},{for:function(t){var e=zs(t);if(dl(Qf,e))return Qf[e];var n=Rf(e);return Qf[e]=n,Zf[n]=e,n},keyFor:function(t){if(!nl(t))throw _f(t+" is not a symbol");if(dl(Zf,t))return Zf[t]},useSetter:function(){ep=!0},useSimple:function(){ep=!1}}),Kl({target:"Object",stat:!0,forced:!Zc,sham:!Tc},{create:function(t,e){return void 0===e?nf(t):ip(nf(t),e)},defineProperty:op,defineProperties:ip,getOwnPropertyDescriptor:ap}),Kl({target:"Object",stat:!0,forced:!Zc},{getOwnPropertyNames:cp,getOwnPropertySymbols:lp}),Kl({target:"Object",stat:!0,forced:Ec((function(){pf.f(1)}))},{getOwnPropertySymbols:function(t){return pf.f(fl(t))}}),qf){var sp=!Zc||Ec((function(){var t=Rf();return"[null]"!=qf([t])||"{}"!=qf({a:t})||"{}"!=qf(Object(t))}));Kl({target:"JSON",stat:!0,forced:sp},{stringify:function(t,e,n){var r=df(arguments),o=e;if((_c(e)||void 0!==t)&&!nl(t))return Ql(e)||(e=function(t,e){if(kc(o)&&(e=Oc(o,this,t,e)),!nl(e))return e}),r[1]=e,yc(qf,null,r)}})}if(!Ff[Vf]){var fp=Ff.valueOf;hf(Ff,Vf,(function(t){return Oc(fp,this)}))}wf(Rf,"Symbol"),Bs[Pf]=!0,yf("asyncIterator"),yf("hasInstance"),yf("isConcatSpreadable"),yf("iterator"),yf("match"),yf("matchAll"),yf("replace"),yf("search"),yf("species"),yf("split"),yf("toPrimitive"),yf("toStringTag"),yf("unscopables"),wf(pc.JSON,"JSON",!0);var pp,dp,hp,vp=$c.Symbol,gp={},yp=Function.prototype,mp=Tc&&Object.getOwnPropertyDescriptor,bp=dl(yp,"name"),xp={EXISTS:bp,PROPER:bp&&"something"===function(){}.name,CONFIGURABLE:bp&&(!Tc||Tc&&mp(yp,"name").configurable)},wp=!Ec((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Sp=Us("IE_PROTO"),kp=pc.Object,Ep=kp.prototype,Tp=wp?kp.getPrototypeOf:function(t){var e=fl(t);if(dl(e,Sp))return e[Sp];var n=e.constructor;return kc(n)&&e instanceof n?n.prototype:e instanceof kp?Ep:null},Mp=Sl("iterator"),Op=!1;[].keys&&("next"in(hp=[].keys())?(dp=Tp(Tp(hp)))!==Object.prototype&&(pp=dp):Op=!0);var Hp=null==pp||Ec((function(){var t={};return pp[Mp].call(t)!==t}));pp=Hp?{}:nf(pp),kc(pp[Mp])||hf(pp,Mp,(function(){return this}));var Ip={IteratorPrototype:pp,BUGGY_SAFARI_ITERATORS:Op},Np=Ip.IteratorPrototype,Lp=function(){return this};pc.String,pc.TypeError;Object.setPrototypeOf||"__proto__"in{}&&function(){var t,e=!1,n={};try{(t=Sc(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}}();var zp=xp.PROPER,jp=Ip.BUGGY_SAFARI_ITERATORS,Ap=Sl("iterator"),Pp=function(){return this},Vp=function(t,e,n,r,o,i,u){!function(t,e,n,r){var o=e+" Iterator";t.prototype=nf(Np,{next:zc(+!r,n)}),wf(t,o,!1,!0),gp[o]=Lp}(n,e,r);var a,c,l,s=function(t){if(t===o&&v)return v;if(!jp&&t in d)return d[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",p=!1,d=t.prototype,h=d[Ap]||d["@@iterator"]||o&&d[o],v=!jp&&h||s(o),g="Array"==e&&d.entries||h;if(g&&(a=Tp(g.call(new t)))!==Object.prototype&&a.next&&(wf(a,f,!0,!0),gp[f]=Pp),zp&&"values"==o&&h&&"values"!==h.name&&(p=!0,v=function(){return Oc(h,this)}),o)if(c={values:s("values"),keys:i?v:s("keys"),entries:s("entries")},u)for(l in c)(jp||p||!(l in d))&&hf(d,l,c[l]);else Kl({target:e,proto:!0,forced:jp||p},c);return u&&d[Ap]!==v&&hf(d,Ap,v,{name:o}),gp[e]=v,c},Cp=Lf.set,Bp=Lf.getterFor("Array Iterator");Vp(Array,"Array",(function(t,e){Cp(this,{type:"Array Iterator",target:Fc(t),index:0,kind:e})}),(function(){var t=Bp(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),gp.Arguments=gp.Array;var Dp=Sl("toStringTag");for(var Rp in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Fp=pc[Rp],_p=Fp&&Fp.prototype;_p&&ss(_p)!==Dp&&Xl(_p,Dp,Rp),gp[Rp]=gp.Array}var $p=vp;yf("asyncDispose"),yf("dispose"),yf("matcher"),yf("metadata"),yf("observable"),yf("patternMatch"),yf("replaceAll");var qp=$p,Wp=Sc("".charAt),Gp=Sc("".charCodeAt),Up=Sc("".slice),Xp=function(t){return function(e,n){var r,o,i=zs(Rc(e)),u=es(n),a=i.length;return u<0||u>=a?t?"":void 0:(r=Gp(i,u))<55296||r>56319||u+1===a||(o=Gp(i,u+1))<56320||o>57343?t?Wp(i,u):r:t?Up(i,u,u+2):o-56320+(r-55296<<10)+65536}},Yp={codeAt:Xp(!1),charAt:Xp(!0)}.charAt,Jp=Lf.set,Kp=Lf.getterFor("String Iterator");Vp(String,"String",(function(t){Jp(this,{type:"String Iterator",string:zs(t),index:0})}),(function(){var t,e=Kp(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Yp(n,r),e.index+=t.length,{value:t,done:!1})}));var Qp=vf.f("iterator"),Zp=W((function(t){function e(n){return"function"==typeof qp&&"symbol"==typeof Qp?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof qp&&t.constructor===qp&&t!==qp.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0})),td=q(Zp),ed=Fe.EXISTS,nd=me.f,rd=Function.prototype,od=lt(rd.toString),id=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,ud=lt(id.exec);K&&!ed&&nd(rd,"name",{configurable:!0,get:function(){try{return ud(id,od(this))[1]}catch(t){return""}}});var ad=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=n("fontFamily.title"),e.iconSvg=Ei,e.mark="fontFamily",e.selectPanelWidth=150,e}return _o(e,t),e.prototype.getOptions=function(t){var e=[],r=t.getMenuConfig(this.mark).fontFamilyList,o=void 0===r?[]:r;e.push({text:n("fontFamily.default"),value:""}),o.forEach((function(t){if("string"==typeof t)e.push({text:t,value:t,styleForRenderMenuList:{"font-family":t}});else if("object"===td(t)){var n=t.name,r=t.value;e.push({text:n,value:r,styleForRenderMenuList:{"font-family":r}})}}));var i=this.getValue(t);return e.forEach((function(t){t.value===i?t.selected=!0:delete t.selected})),e},e}(lc);var cd={renderStyle:function(t,e){var n=t,r=n.fontSize,o=n.fontFamily,i=e;return r&&ju(i,{fontSize:r}),o&&ju(i,{fontFamily:o}),i},styleToHtml:function(t,e){if(!a.isText(t))return e;var n,r=t,o=r.fontSize,i=r.fontFamily;return o||i?((Vo(e)||"span"!==Bo(n=h(e)))&&(n=h("<span>"+e+"</span>")),o&&n.css("font-size",o),i&&n.css("font-family",i),Co(n)):e},preParseHtml:[uc],parseStyleHtml:function(t,e){var n=h(t);if(!a.isText(e))return e;var r=e,o=Do(n,"font-size");o&&(r.fontSize=o);var i=Do(n,"font-family");return i&&(r.fontFamily=i),r},menus:[{key:"fontSize",factory:function(){return new sc},config:{fontSizeList:["12px","13px","14px","15px","16px","19px","22px","24px","29px","32px","40px","48px"]}},{key:"fontFamily",factory:function(){return new ad},config:{fontFamilyList:["黑体",{name:"仿宋",value:"仿宋"},"楷体","标楷体","华文仿宋","华文楷体",{name:"宋体",value:"宋体"},"微软雅黑","Arial","Tahoma","Verdana","Times New Roman","Courier New"]}}]};var ld={selector:"p,h1,h2,h3,h4,h5",preParseHtml:function(t){var e=h(t),n=Do(e,"padding-left");return/\dem/.test(n)&&e.css("text-indent","2em"),/\dpx/.test(n)&&parseInt(n,10)%32==0&&e.css("text-indent","2em"),e[0]}};var sd=function(){function t(){this.tag="button"}return t.prototype.getValue=function(t){var e=Uo(c.nodes(t,{match:function(t){return!!t.indent},universal:!0}),1),n=e[0];return null==n?"":Uo(n,1)[0].indent||""},t.prototype.isActive=function(t){return!1},t.prototype.getMatchNode=function(t){var n=Uo(c.nodes(t,{match:function(t){var n=e.getNodeType(t);return"paragraph"===n||!!n.startsWith("header")},universal:!0,mode:"highest"}),1)[0];return null==n?null:n[0]},t}(),fd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=n("indent.decrease"),e.iconSvg=Ti,e}return _o(e,t),e.prototype.isDisabled=function(t){var e=this.getMatchNode(t);return null==e||!e.indent},e.prototype.exec=function(t,e){f.setNodes(t,{indent:null},{match:function(t){return l.isElement(t)}})},e}(sd),pd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=n("indent.increase"),e.iconSvg=Mi,e}return _o(e,t),e.prototype.isDisabled=function(t){var e=this.getMatchNode(t);return null==e||!!e.indent},e.prototype.exec=function(t,e){f.setNodes(t,{indent:"2em"},{match:function(t){return l.isElement(t)},mode:"highest"})},e}(sd),dd={renderStyle:function(t,e){if(!l.isElement(t))return e;var n=t.indent,r=e;return n&&ju(r,{textIndent:n}),r},styleToHtml:function(t,e){if(!l.isElement(t))return e;var n=t.indent;if(!n)return e;var r=h(e);r.css("text-indent",n);var o=h("<div></div>");return o.append(r),o.html()},preParseHtml:[ld],parseStyleHtml:function(t,e){var n=h(t);if(!l.isElement(e))return e;var r=e,o=Do(n,"text-indent");return o&&(r.indent=o),r},menus:[{key:"indent",factory:function(){return new pd}},{key:"delIndent",factory:function(){return new fd}}]};var hd=function(){function t(){this.tag="button"}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.getMatchNode=function(t){var n=Uo(c.nodes(t,{match:function(t){var n=e.getNodeType(t);return"paragraph"===n||("blockquote"===n||!!n.startsWith("header"))},universal:!0,mode:"highest"}),1)[0];return null==n?null:n[0]},t.prototype.isDisabled=function(t){return null==t.selection||!!e.getSelectedElems(t).some((function(e){if(c.isVoid(t,e)&&c.isBlock(t,e))return!0;var n=e.type;return!!["pre","code"].includes(n)||void 0}))},t}(),vd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=n("justify.left"),e.iconSvg=Oi,e}return _o(e,t),e.prototype.exec=function(t,e){f.setNodes(t,{textAlign:"left"},{match:function(e){return l.isElement(e)&&!t.isInline(e)}})},e}(hd),gd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=n("justify.right"),e.iconSvg=Hi,e}return _o(e,t),e.prototype.exec=function(t,e){f.setNodes(t,{textAlign:"right"},{match:function(e){return l.isElement(e)&&!t.isInline(e)}})},e}(hd),yd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=n("justify.center"),e.iconSvg=Ii,e}return _o(e,t),e.prototype.exec=function(t,e){f.setNodes(t,{textAlign:"center"},{match:function(e){return l.isElement(e)&&!t.isInline(e)}})},e}(hd),md=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=n("justify.justify"),e.iconSvg=Ni,e}return _o(e,t),e.prototype.exec=function(t,e){f.setNodes(t,{textAlign:"justify"},{match:function(e){return l.isElement(e)&&!t.isInline(e)}})},e}(hd),bd={renderStyle:function(t,e){if(!l.isElement(t))return e;var n=t.textAlign,r=e;return n&&ju(r,{textAlign:n}),r},styleToHtml:function(t,e){if(!l.isElement(t))return e;var n=t.textAlign;if(!n)return e;var r=h(e);r.css("text-align",n);var o=h("<div></div>");return o.append(r),o.html()},parseStyleHtml:function(t,e){var n=h(t);if(!l.isElement(e))return e;var r=e,o=Do(n,"text-align");return o&&(r.textAlign=o),r},menus:[{key:"justifyLeft",factory:function(){return new vd}},{key:"justifyRight",factory:function(){return new gd}},{key:"justifyCenter",factory:function(){return new yd}},{key:"justifyJustify",factory:function(){return new md}}]};var xd=function(){function t(){this.title=n("lineHeight.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M964 788a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526zM198.93 144.306c6.668-5.798 16.774-5.094 22.573 1.574l122.26 140.582a16 16 0 0 1 3.927 10.5c0 8.836-7.164 16-16 16h-61.8a8 8 0 0 0-8 8v390.077h69.819a16 16 0 0 1 10.502 3.928c6.666 5.8 7.37 15.906 1.57 22.573L221.476 878.123a16 16 0 0 1-1.57 1.57c-6.668 5.8-16.774 5.097-22.574-1.57L75.051 737.538a16 16 0 0 1-3.928-10.5c0-8.837 7.163-16 16-16h69.822V312.96H87.127a16 16 0 0 1-10.502-3.928c-6.666-5.8-7.37-15.906-1.57-22.573l122.303-140.582a16 16 0 0 1 1.572-1.572zM964 465a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526z m0-323a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526z"></path></svg>',this.tag="select",this.width=80}return t.prototype.getOptions=function(t){var e=[],r=t.getMenuConfig("lineHeight").lineHeightList,o=void 0===r?[]:r;e.push({text:n("lineHeight.default"),value:""}),o.forEach((function(t){e.push({text:t,value:t})}));var i=this.getValue(t);return e.forEach((function(t){t.value===i?t.selected=!0:delete t.selected})),e},t.prototype.getMatchNode=function(t){var n=Uo(c.nodes(t,{match:function(t){var n=e.getNodeType(t);return!!n.startsWith("header")||!!["paragraph","blockquote","bulleted-list","numbered-list"].includes(n)},universal:!0,mode:"highest"}),1)[0];return null==n?null:n[0]},t.prototype.isActive=function(t){return!1},t.prototype.getValue=function(t){var e=this.getMatchNode(t);return null==e?"":l.isElement(e)&&e.lineHeight||""},t.prototype.isDisabled=function(t){return null==t.selection||null==this.getMatchNode(t)},t.prototype.exec=function(t,e){f.setNodes(t,{lineHeight:e.toString()},{mode:"highest"})},t}();var wd={renderStyle:function(t,e){if(!l.isElement(t))return e;var n=t.lineHeight,r=e;return n&&ju(r,{lineHeight:n}),r},styleToHtml:function(t,e){if(!l.isElement(t))return e;var n=t.lineHeight;if(!n)return e;var r=h(e);r.css("line-height",n);var o=h("<div></div>");return o.append(r),o.html()},parseStyleHtml:function(t,e){var n=h(t);if(!l.isElement(e))return e;var r=e,o=Do(n,"line-height");return o&&(r.lineHeight=o),r},menus:[{key:"lineHeight",factory:function(){return new xd},config:{lineHeightList:["1","1.15","1.5","2","2.5","3"]}}]},Sd=function(){function t(){this.title=n("undo.redo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M0.00032 576a510.72 510.72 0 0 0 173.344 384l84.672-96A383.136 383.136 0 0 1 128.00032 576C128.00032 363.936 299.93632 192 512.00032 192c106.048 0 202.048 42.976 271.52 112.48L640.00032 448h384V64l-149.984 149.984A510.272 510.272 0 0 0 512.00032 64C229.21632 64 0.00032 293.216 0.00032 576z"></path></svg>',this.tag="button"}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.isDisabled=function(t){return null==t.selection},t.prototype.exec=function(t,e){"function"==typeof t.redo&&t.redo()},t}(),kd=function(){function t(){this.title=n("undo.undo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M512 64A510.272 510.272 0 0 0 149.984 213.984L0.032 64v384h384L240.512 304.48A382.784 382.784 0 0 1 512.032 192c212.064 0 384 171.936 384 384 0 114.688-50.304 217.632-130.016 288l84.672 96a510.72 510.72 0 0 0 173.344-384c0-282.784-229.216-512-512-512z"></path></svg>',this.tag="button"}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.isDisabled=function(t){return null==t.selection},t.prototype.exec=function(t,e){"function"==typeof t.undo&&t.undo()},t}(),Ed={menus:[{key:"redo",factory:function(){return new Sd}},{key:"undo",factory:function(){return new kd}}]};var Td={type:"divider",renderElem:function(t,n,r){var o=e.isNodeSelected(r,t);return u("div",{props:{contentEditable:!1,className:"w-e-textarea-divider"},dataset:{selected:o?"true":""},style:{},on:{mousedown:function(t){return t.preventDefault()}}},[u("hr")])}};var Md={type:"divider",elemToHtml:function(t,e){return"<hr/>"}};var Od={selector:"hr",parseElemHtml:function(t,e,n){return{type:"divider",children:[{text:""}]}}},Hd=function(){function t(){this.title=n("divider.title"),this.iconSvg='<svg viewBox="0 0 1092 1024"><path d="M0 51.2m51.2 0l989.866667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-989.866667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M0 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M819.2 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M409.6 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M0 870.4m51.2 0l989.866667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-989.866667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path></svg>',this.tag="button"}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.isDisabled=function(t){return null==t.selection||!!e.getSelectedElems(t).some((function(n){if(t.isVoid(n))return!0;var r=e.getNodeType(n);return"table"===r||("pre"===r||void 0)}))},t.prototype.exec=function(t,e){f.insertNodes(t,{type:"divider",children:[{text:""}]},{mode:"highest"})},t}(),Id={renderElems:[Td],elemsToHtml:[Md],parseElemsHtml:[Od],menus:[{key:"divider",factory:function(){return new Hd}}],editorPlugin:function(t){var n=t.isVoid,r=t.normalizeNode,o=t;return o.isVoid=function(t){return"divider"===t.type||n(t)},o.normalizeNode=function(t){var n=Uo(t,2),i=n[0],u=n[1];if("divider"!==e.getNodeType(i))return r([i,u]);var a=((o.children||[])[u[0]+1]||{}).type,c=void 0===a?"":a;if("paragraph"!==c&&"blockquote"!==c&&!c.startsWith("header")){var l=[u[0]+1];f.insertNodes(o,{type:"paragraph",children:[{text:""}]},{at:l})}},o}},Nd=Fn.map;bn({target:"Array",proto:!0,forced:!$n("map")},{map:function(t){return Nd(this,t,arguments.length>1?arguments[1]:void 0)}});var Ld=lt("".indexOf);bn({target:"String",proto:!0,forced:!ou("includes")},{includes:function(t){return!!~Ld(Xn(yt(this)),Xn(nu(t)),arguments.length>1?arguments[1]:void 0)}});var zd=lt([].join),jd=vt!=Object,Ad=ui("join",",");bn({target:"Array",proto:!0,forced:jd||!Ad},{join:function(t){return zd(mt(this),void 0===t?",":t)}});var Pd=function(){function t(){this.title=n("codeBlock.title"),this.iconSvg='<svg viewBox="0 0 1280 1024"><path d="M832 736l96 96 320-320L928 192l-96 96 224 224zM448 288l-96-96L32 512l320 320 96-96-224-224zM701.312 150.528l69.472 18.944-192 704.032-69.472-18.944 192-704.032z"></path></svg>',this.tag="button"}return t.prototype.getSelectCodeElem=function(t){var n=e.getSelectedNodeByType(t,"code");if(null==n)return null;var r=e.getParentNode(t,n);return null==r||"pre"!==e.getNodeType(r)?null:n},t.prototype.getValue=function(t){var e=this.getSelectCodeElem(t);return null==e?"":e.language||""},t.prototype.isActive=function(t){return!!this.getSelectCodeElem(t)},t.prototype.isDisabled=function(t){if(null==t.selection)return!0;var n=e.getSelectedElems(t);return!!n.some((function(e){return t.isVoid(e)}))||!n.some((function(t){var n=e.getNodeType(t);if("pre"===n||"paragraph"===n)return!0}))},t.prototype.exec=function(t,e){this.isActive(t)?this.changeToPlainText(t):this.changeToCodeBlock(t,e.toString())},t.prototype.changeToPlainText=function(t){var e=this.getSelectCodeElem(t);if(null!=e){var n=s.string(e);f.removeNodes(t,{mode:"highest"});var r=n.split("\n").map((function(t){return{type:"paragraph",children:[{text:t}]}}));f.insertNodes(t,r,{mode:"highest"})}},t.prototype.changeToCodeBlock=function(t,e){var n,r,o=[],i=c.nodes(t,{match:function(e){return t.children.includes(e)},universal:!0});try{for(var u=Go(i),a=u.next();!a.done;a=u.next()){var l=Uo(a.value,1)[0];l&&o.push(s.string(l))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}f.removeNodes(t,{mode:"highest"});var p={type:"pre",children:[{type:"code",language:e,children:[{text:o.join("\n")}]}]};f.insertNodes(t,p,{mode:"highest"})},t}(),Vd={key:"codeBlock",factory:function(){return new Pd}};bn({target:"String",proto:!0,forced:Zo("anchor")},{anchor:function(t){return Qo(this,"a","name",t)}}),Ar("match",(function(t,e,n){return[function(e){var n=yt(this),r=null==e?void 0:Bt(e,t);return r?Z(r,e,n):new RegExp(e)[t](Xn(n))},function(t){var r=ve(this),o=Xn(t),i=n(e,r,o);if(i.done)return i.value;if(!r.global)return Yr(r,o);var u=r.unicode;r.lastIndex=0;for(var a,c=[],l=0;null!==(a=Yr(r,o));){var s=Xn(a[0]);c[l]=s,""===s&&(r.lastIndex=Rr(o,Je(r.lastIndex),u)),l++}return 0===l?null:c}]}));var Cd={type:"pre",renderElem:function(t,e,n){return i("pre",null,e)}},Bd={type:"code",renderElem:function(t,e,n){return i("code",null,e)}};var Dd={selector:"pre",parseElemHtml:function(t,n,r){var o=h(t);return 0===(n=n.filter((function(t){return"code"===e.getNodeType(t)}))).length&&(n=[{type:"code",language:"",children:[{text:o[0].textContent||""}]}]),{type:"pre",children:n.filter((function(t){return"code"===e.getNodeType(t)}))}}};var Rd={menus:[Vd],editorPlugin:function(t){var n=t.insertBreak,r=t.normalizeNode,o=t.insertData;t.insertNode;var i=t;return i.insertBreak=function(){var t=e.getSelectedNodeByType(i,"code");if(null!=t){var r=function(t,e){var n=e.selection;if(null==n)return"";var r=s.string(t),o=n.anchor.offset,i=r.slice(0,o).split("\n"),u=i.length;return 0===u?"":i[u-1]}(t,i);if(r){var o=r.match(/^\s+/);if(null!=o&&null!=o[0]){var u=o[0];return void i.insertText("\n"+u)}}i.insertText("\n")}else n()},i.normalizeNode=function(t){var n=Uo(t,2),o=n[0],u=n[1],a=e.getNodeType(o);if("code"===a&&u.length<=1&&f.setNodes(i,{type:"paragraph"},{at:u}),"pre"===a){var c=i.children,l=c.length,s=c[0]===o,p=c[l-1]===o;s&&!p&&f.insertNodes(i,{type:"paragraph",children:[{text:""}]},{at:u}),p&&!s&&f.insertNodes(i,{type:"paragraph",children:[{text:""}]},{at:[u[0]+1]}),s&&p&&(f.insertNodes(i,{type:"paragraph",children:[{text:""}]},{at:u}),f.insertNodes(i,{type:"paragraph",children:[{text:""}]},{at:[u[0]+2]})),"code"!==e.getNodeType(o.children[0])&&(f.unwrapNodes(i),f.setNodes(i,{type:"paragraph"},{mode:"highest"}))}return r([o,u])},i.insertData=function(t){if(null!=e.getSelectedNodeByType(i,"code")){var n=t.getData("text/plain");c.insertText(i,n)}else o(t)},i},renderElems:[Cd,Bd],elemsToHtml:[{type:"code",elemToHtml:function(t,e){return"<code>"+e+"</code>"}},{type:"pre",elemToHtml:function(t,e){return"<pre>"+e+"</pre>"}}],preParseHtml:[{selector:"pre>code",preParseHtml:function(t){var e=h(t);if("code"!==Bo(e))return t;var n=e.find("xmp");if(0===n.length)return t;var r=n.text();return n.remove(),e.text(r),e[0]}}],parseElemsHtml:[{selector:"pre>code",parseElemHtml:function(t,e,n){return{type:"code",language:"",children:[{text:h(t)[0].textContent||""}]}}},Dd]},Fd=function(){function t(){this.title=n("fullScreen.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M133.705143 335.433143V133.851429h201.581714a29.622857 29.622857 0 0 0 29.622857-29.549715V68.754286a29.622857 29.622857 0 0 0-29.622857-29.622857H61.732571A22.893714 22.893714 0 0 0 38.765714 62.025143V335.725714c0 16.310857 13.238857 29.622857 29.622857 29.622857h35.547429a29.842286 29.842286 0 0 0 29.696-29.842285zM690.980571 133.851429h201.581715v201.654857c0 16.310857 13.238857 29.549714 29.622857 29.549714h35.547428a29.622857 29.622857 0 0 0 29.549715-29.549714V61.952a22.893714 22.893714 0 0 0-22.820572-22.893714h-273.554285a29.622857 29.622857 0 0 0-29.549715 29.622857v35.547428c0 16.310857 13.238857 29.696 29.622857 29.696zM335.286857 892.781714H133.705143V691.2a29.622857 29.622857 0 0 0-29.622857-29.622857H68.534857a29.622857 29.622857 0 0 0-29.549714 29.622857v273.554286c0 12.653714 10.24 22.893714 22.820571 22.893714h273.554286a29.622857 29.622857 0 0 0 29.696-29.622857v-35.547429a29.769143 29.769143 0 0 0-29.769143-29.696z m557.348572-201.581714v201.581714H690.907429a29.622857 29.622857 0 0 0-29.622858 29.622857v35.547429c0 16.310857 13.238857 29.622857 29.622858 29.622857h273.554285c12.580571 0 22.893714-10.313143 22.893715-22.893714V691.2a29.622857 29.622857 0 0 0-29.622858-29.622857h-35.547428a29.622857 29.622857 0 0 0-29.696 29.622857z"></path></svg>',this.tag="button",this.awaysEnable=!0}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return t.isFullScreen},t.prototype.isDisabled=function(t){return!1},t.prototype.exec=function(t,e){t.isFullScreen?t.unFullScreen():t.fullScreen()},t}(),_d=[Fi,Du,cd,dd,bd,wd,Fa,Id,oc,aa,Rd,nc,Hu,Yo,Wa,Ed,{menus:[{key:"fullScreen",factory:function(){return new Fd}}]}];export{_d as default,Oa as insertImageNode,Ia as isInsertImageMenuDisabled,Ha as updateImageNode};
//# sourceMappingURL=index.esm.js.map

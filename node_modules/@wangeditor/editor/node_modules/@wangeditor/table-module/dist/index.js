!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@wangeditor/core"),require("slate"),require("snabbdom"),require("dom7"),require("nanoid"),require("lodash.isequal")):"function"==typeof define&&define.amd?define(["@wangeditor/core","slate","snabbdom","dom7","nanoid","lodash.isequal"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).WangEditorTableModule=e(t.core,t.slate,t.snabbdom,t.$,null,t.isEqual)}(this,(function(t,e,r,n,o,i){"use strict";function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=a(n),u=a(i);t.i18nAddResources("en",{tableModule:{deleteCol:"Delete column",deleteRow:"Delete row",deleteTable:"Delete table",widthAuto:"Width auto",insertCol:"Insert column",insertRow:"Insert row",insertTable:"Insert table",header:"Header"}}),t.i18nAddResources("zh-CN",{tableModule:{deleteCol:"删除列",deleteRow:"删除行",deleteTable:"删除表格",widthAuto:"宽度自适应",insertCol:"插入列",insertRow:"插入行",insertTable:"插入表格",header:"表头"}});var c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t){var e={exports:{}};return t(e,e.exports),e.exports}var f,d,p=function(t){return t&&t.Math==Math&&t},h=p("object"==typeof globalThis&&globalThis)||p("object"==typeof window&&window)||p("object"==typeof self&&self)||p("object"==typeof c&&c)||function(){return this}()||Function("return this")(),v=function(t){try{return!!t()}catch(t){return!0}},g=!v((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),y=Function.prototype.call,m=y.bind?y.bind(y):function(){return y.apply(y,arguments)},b={}.propertyIsEnumerable,E=Object.getOwnPropertyDescriptor,x=E&&!b.call({1:2},1)?function(t){var e=E(this,t);return!!e&&e.enumerable}:b,S={f:x},T=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},w=Function.prototype,D=w.bind,N=w.call,M=D&&D.bind(N),O=D?function(t){return t&&M(N,t)}:function(t){return t&&function(){return N.apply(t,arguments)}},P=O({}.toString),R=O("".slice),V=function(t){return R(P(t),8,-1)},H=h.Object,j=O("".split),z=v((function(){return!H("z").propertyIsEnumerable(0)}))?function(t){return"String"==V(t)?j(t,""):H(t)}:H,A=h.TypeError,L=function(t){if(null==t)throw A("Can't call method on "+t);return t},C=function(t){return z(L(t))},I=function(t){return"function"==typeof t},k=function(t){return"object"==typeof t?null!==t:I(t)},B=function(t){return I(t)?t:void 0},$=function(t,e){return arguments.length<2?B(h[t]):h[t]&&h[t][e]},F=O({}.isPrototypeOf),W=$("navigator","userAgent")||"",q=h.process,G=h.Deno,_=q&&q.versions||G&&G.version,U=_&&_.v8;U&&(d=(f=U.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!d&&W&&(!(f=W.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=W.match(/Chrome\/(\d+)/))&&(d=+f[1]);var K=d,Y=!!Object.getOwnPropertySymbols&&!v((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&K&&K<41})),X=Y&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,J=h.Object,Q=X?function(t){return"symbol"==typeof t}:function(t){var e=$("Symbol");return I(e)&&F(e.prototype,J(t))},Z=h.String,tt=function(t){try{return Z(t)}catch(t){return"Object"}},et=h.TypeError,rt=function(t){if(I(t))return t;throw et(tt(t)+" is not a function")},nt=function(t,e){var r=t[e];return null==r?void 0:rt(r)},ot=h.TypeError,it=Object.defineProperty,at=function(t,e){try{it(h,t,{value:e,configurable:!0,writable:!0})}catch(r){h[t]=e}return e},lt="__core-js_shared__",ut=h[lt]||at(lt,{}),ct=s((function(t){(t.exports=function(t,e){return ut[t]||(ut[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),st=h.Object,ft=function(t){return st(L(t))},dt=O({}.hasOwnProperty),pt=Object.hasOwn||function(t,e){return dt(ft(t),e)},ht=0,vt=Math.random(),gt=O(1..toString),yt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+gt(++ht+vt,36)},mt=ct("wks"),bt=h.Symbol,Et=bt&&bt.for,xt=X?bt:bt&&bt.withoutSetter||yt,St=function(t){if(!pt(mt,t)||!Y&&"string"!=typeof mt[t]){var e="Symbol."+t;Y&&pt(bt,t)?mt[t]=bt[t]:mt[t]=X&&Et?Et(e):xt(e)}return mt[t]},Tt=h.TypeError,wt=St("toPrimitive"),Dt=function(t,e){if(!k(t)||Q(t))return t;var r,n=nt(t,wt);if(n){if(void 0===e&&(e="default"),r=m(n,t,e),!k(r)||Q(r))return r;throw Tt("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var r,n;if("string"===e&&I(r=t.toString)&&!k(n=m(r,t)))return n;if(I(r=t.valueOf)&&!k(n=m(r,t)))return n;if("string"!==e&&I(r=t.toString)&&!k(n=m(r,t)))return n;throw ot("Can't convert object to primitive value")}(t,e)},Nt=function(t){var e=Dt(t,"string");return Q(e)?e:e+""},Mt=h.document,Ot=k(Mt)&&k(Mt.createElement),Pt=function(t){return Ot?Mt.createElement(t):{}},Rt=!g&&!v((function(){return 7!=Object.defineProperty(Pt("div"),"a",{get:function(){return 7}}).a})),Vt=Object.getOwnPropertyDescriptor,Ht={f:g?Vt:function(t,e){if(t=C(t),e=Nt(e),Rt)try{return Vt(t,e)}catch(t){}if(pt(t,e))return T(!m(S.f,t,e),t[e])}},jt=h.String,zt=h.TypeError,At=function(t){if(k(t))return t;throw zt(jt(t)+" is not an object")},Lt=h.TypeError,Ct=Object.defineProperty,It={f:g?Ct:function(t,e,r){if(At(t),e=Nt(e),At(r),Rt)try{return Ct(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Lt("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},kt=g?function(t,e,r){return It.f(t,e,T(1,r))}:function(t,e,r){return t[e]=r,t},Bt=O(Function.toString);I(ut.inspectSource)||(ut.inspectSource=function(t){return Bt(t)});var $t,Ft,Wt,qt=ut.inspectSource,Gt=h.WeakMap,_t=I(Gt)&&/native code/.test(qt(Gt)),Ut=ct("keys"),Kt=function(t){return Ut[t]||(Ut[t]=yt(t))},Yt={},Xt="Object already initialized",Jt=h.TypeError,Qt=h.WeakMap;if(_t||ut.state){var Zt=ut.state||(ut.state=new Qt),te=O(Zt.get),ee=O(Zt.has),re=O(Zt.set);$t=function(t,e){if(ee(Zt,t))throw new Jt(Xt);return e.facade=t,re(Zt,t,e),e},Ft=function(t){return te(Zt,t)||{}},Wt=function(t){return ee(Zt,t)}}else{var ne=Kt("state");Yt[ne]=!0,$t=function(t,e){if(pt(t,ne))throw new Jt(Xt);return e.facade=t,kt(t,ne,e),e},Ft=function(t){return pt(t,ne)?t[ne]:{}},Wt=function(t){return pt(t,ne)}}var oe={set:$t,get:Ft,has:Wt,enforce:function(t){return Wt(t)?Ft(t):$t(t,{})},getterFor:function(t){return function(e){var r;if(!k(e)||(r=Ft(e)).type!==t)throw Jt("Incompatible receiver, "+t+" required");return r}}},ie=Function.prototype,ae=g&&Object.getOwnPropertyDescriptor,le=pt(ie,"name"),ue={EXISTS:le,PROPER:le&&"something"===function(){}.name,CONFIGURABLE:le&&(!g||g&&ae(ie,"name").configurable)},ce=s((function(t){var e=ue.CONFIGURABLE,r=oe.get,n=oe.enforce,o=String(String).split("String");(t.exports=function(t,r,i,a){var l,u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,s=!!a&&!!a.noTargetGet,f=a&&void 0!==a.name?a.name:r;I(i)&&("Symbol("===String(f).slice(0,7)&&(f="["+String(f).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!pt(i,"name")||e&&i.name!==f)&&kt(i,"name",f),(l=n(i)).source||(l.source=o.join("string"==typeof f?f:""))),t!==h?(u?!s&&t[r]&&(c=!0):delete t[r],c?t[r]=i:kt(t,r,i)):c?t[r]=i:at(r,i)})(Function.prototype,"toString",(function(){return I(this)&&r(this).source||qt(this)}))})),se=Math.ceil,fe=Math.floor,de=function(t){var e=+t;return e!=e||0===e?0:(e>0?fe:se)(e)},pe=Math.max,he=Math.min,ve=function(t,e){var r=de(t);return r<0?pe(r+e,0):he(r,e)},ge=Math.min,ye=function(t){return t>0?ge(de(t),9007199254740991):0},me=function(t){return ye(t.length)},be=function(t){return function(e,r,n){var o,i=C(e),a=me(i),l=ve(n,a);if(t&&r!=r){for(;a>l;)if((o=i[l++])!=o)return!0}else for(;a>l;l++)if((t||l in i)&&i[l]===r)return t||l||0;return!t&&-1}},Ee={includes:be(!0),indexOf:be(!1)}.indexOf,xe=O([].push),Se=function(t,e){var r,n=C(t),o=0,i=[];for(r in n)!pt(Yt,r)&&pt(n,r)&&xe(i,r);for(;e.length>o;)pt(n,r=e[o++])&&(~Ee(i,r)||xe(i,r));return i},Te=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],we=Te.concat("length","prototype"),De={f:Object.getOwnPropertyNames||function(t){return Se(t,we)}},Ne={f:Object.getOwnPropertySymbols},Me=O([].concat),Oe=$("Reflect","ownKeys")||function(t){var e=De.f(At(t)),r=Ne.f;return r?Me(e,r(t)):e},Pe=function(t,e){for(var r=Oe(e),n=It.f,o=Ht.f,i=0;i<r.length;i++){var a=r[i];pt(t,a)||n(t,a,o(e,a))}},Re=/#|\.prototype\./,Ve=function(t,e){var r=je[He(t)];return r==Ae||r!=ze&&(I(e)?v(e):!!e)},He=Ve.normalize=function(t){return String(t).replace(Re,".").toLowerCase()},je=Ve.data={},ze=Ve.NATIVE="N",Ae=Ve.POLYFILL="P",Le=Ve,Ce=Ht.f,Ie=function(t,e){var r,n,o,i,a,l=t.target,u=t.global,c=t.stat;if(r=u?h:c?h[l]||at(l,{}):(h[l]||{}).prototype)for(n in e){if(i=e[n],o=t.noTargetGet?(a=Ce(r,n))&&a.value:r[n],!Le(u?n:l+(c?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Pe(i,o)}(t.sham||o&&o.sham)&&kt(i,"sham",!0),ce(r,n,i,t)}},ke={};ke[St("toStringTag")]="z";var Be,$e="[object z]"===String(ke),Fe=St("toStringTag"),We=h.Object,qe="Arguments"==V(function(){return arguments}()),Ge=$e?V:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=We(t),Fe))?r:qe?V(e):"Object"==(n=V(e))&&I(e.callee)?"Arguments":n},_e=h.String,Ue=function(t){if("Symbol"===Ge(t))throw TypeError("Cannot convert a Symbol value to a string");return _e(t)},Ke=/"/g,Ye=O("".replace);Ie({target:"String",proto:!0,forced:(Be="anchor",v((function(){var t=""[Be]('"');return t!==t.toLowerCase()||t.split('"').length>3})))},{anchor:function(t){return e="a",r="name",n=t,o=Ue(L(this)),i="<"+e,""!==r&&(i+=" "+r+'="'+Ye(Ue(n),Ke,"&quot;")+'"'),i+">"+o+"</"+e+">";var e,r,n,o,i}});var Xe,Je=St("match"),Qe=function(t){var e;return k(t)&&(void 0!==(e=t[Je])?!!e:"RegExp"==V(t))},Ze=h.TypeError,tr=function(t){if(Qe(t))throw Ze("The method doesn't accept regular expressions");return t},er=St("match"),rr=Ht.f,nr=O("".startsWith),or=O("".slice),ir=Math.min,ar=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[er]=!1,"/./"[t](e)}catch(t){}}return!1}("startsWith");Ie({target:"String",proto:!0,forced:!!(ar||(Xe=rr(String.prototype,"startsWith"),!Xe||Xe.writable))&&!ar},{startsWith:function(t){var e=Ue(L(this));tr(t);var r=ye(ir(arguments.length>1?arguments[1]:void 0,e.length)),n=Ue(t);return nr?nr(e,n,r):or(e,r,r+n.length)===n}});var lr,ur=function(){var t=At(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},cr=h.RegExp,sr=v((function(){var t=cr("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),fr=sr||v((function(){return!cr("a","y").sticky})),dr={BROKEN_CARET:sr||v((function(){var t=cr("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:fr,UNSUPPORTED_Y:sr},pr=Object.keys||function(t){return Se(t,Te)},hr=g?Object.defineProperties:function(t,e){At(t);for(var r,n=C(e),o=pr(e),i=o.length,a=0;i>a;)It.f(t,r=o[a++],n[r]);return t},vr=$("document","documentElement"),gr=Kt("IE_PROTO"),yr=function(){},mr=function(t){return"<script>"+t+"</"+"script>"},br=function(t){t.write(mr("")),t.close();var e=t.parentWindow.Object;return t=null,e},Er=function(){try{lr=new ActiveXObject("htmlfile")}catch(t){}var t,e;Er="undefined"!=typeof document?document.domain&&lr?br(lr):((e=Pt("iframe")).style.display="none",vr.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(mr("document.F=Object")),t.close(),t.F):br(lr);for(var r=Te.length;r--;)delete Er.prototype[Te[r]];return Er()};Yt[gr]=!0;var xr,Sr,Tr=Object.create||function(t,e){var r;return null!==t?(yr.prototype=At(t),r=new yr,yr.prototype=null,r[gr]=t):r=Er(),void 0===e?r:hr(r,e)},wr=h.RegExp,Dr=v((function(){var t=wr(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),Nr=h.RegExp,Mr=v((function(){var t=Nr("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),Or=oe.get,Pr=ct("native-string-replace",String.prototype.replace),Rr=RegExp.prototype.exec,Vr=Rr,Hr=O("".charAt),jr=O("".indexOf),zr=O("".replace),Ar=O("".slice),Lr=(Sr=/b*/g,m(Rr,xr=/a/,"a"),m(Rr,Sr,"a"),0!==xr.lastIndex||0!==Sr.lastIndex),Cr=dr.BROKEN_CARET,Ir=void 0!==/()??/.exec("")[1];(Lr||Ir||Cr||Dr||Mr)&&(Vr=function(t){var e,r,n,o,i,a,l,u=this,c=Or(u),s=Ue(t),f=c.raw;if(f)return f.lastIndex=u.lastIndex,e=m(Vr,f,s),u.lastIndex=f.lastIndex,e;var d=c.groups,p=Cr&&u.sticky,h=m(ur,u),v=u.source,g=0,y=s;if(p&&(h=zr(h,"y",""),-1===jr(h,"g")&&(h+="g"),y=Ar(s,u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==Hr(s,u.lastIndex-1))&&(v="(?: "+v+")",y=" "+y,g++),r=new RegExp("^(?:"+v+")",h)),Ir&&(r=new RegExp("^"+v+"$(?!\\s)",h)),Lr&&(n=u.lastIndex),o=m(Rr,p?r:u,y),p?o?(o.input=Ar(o.input,g),o[0]=Ar(o[0],g),o.index=u.lastIndex,u.lastIndex+=o[0].length):u.lastIndex=0:Lr&&o&&(u.lastIndex=u.global?o.index+o[0].length:n),Ir&&o&&o.length>1&&m(Pr,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&d)for(o.groups=a=Tr(null),i=0;i<d.length;i++)a[(l=d[i])[0]]=o[l[1]];return o});var kr=Vr;Ie({target:"RegExp",proto:!0,forced:/./.exec!==kr},{exec:kr});var Br=Array.isArray||function(t){return"Array"==V(t)},$r=function(){},Fr=[],Wr=$("Reflect","construct"),qr=/^\s*(?:class|function)\b/,Gr=O(qr.exec),_r=!qr.exec($r),Ur=function(t){if(!I(t))return!1;try{return Wr($r,Fr,t),!0}catch(t){return!1}},Kr=!Wr||v((function(){var t;return Ur(Ur.call)||!Ur(Object)||!Ur((function(){t=!0}))||t}))?function(t){if(!I(t))return!1;switch(Ge(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return _r||!!Gr(qr,qt(t))}:Ur,Yr=function(t,e,r){var n=Nt(e);n in t?It.f(t,n,T(0,r)):t[n]=r},Xr=St("species"),Jr=function(t){return K>=51||!v((function(){var e=[];return(e.constructor={})[Xr]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Qr=O([].slice),Zr=Jr("slice"),tn=St("species"),en=h.Array,rn=Math.max;
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
function nn(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function on(r){var n=r.selection;if(null==n)return!1;var o=nn(e.Editor.nodes(r,{match:function(e){return t.DomEditor.checkNodeType(e,"table-cell")}}),1)[0];if(o){var i=nn(o,2)[1],a=e.Editor.start(r,i);if(e.Point.equals(n.anchor,a))return!0}return!1}Ie({target:"Array",proto:!0,forced:!Zr},{slice:function(t,e){var r,n,o,i=C(this),a=me(i),l=ve(t,a),u=ve(void 0===e?a:e,a);if(Br(i)&&(r=i.constructor,(Kr(r)&&(r===en||Br(r.prototype))||k(r)&&null===(r=r[tn]))&&(r=void 0),r===en||void 0===r))return Qr(i,l,u);for(n=new(void 0===r?en:r)(rn(u-l,0)),o=0;l<u;l++,o++)l in i&&Yr(n,o,i[l]);return n.length=o,n}});var an=function(t,e){var r=[][t];return!!r&&v((function(){r.call(null,e||function(){throw 1},1)}))},ln=O([].join),un=z!=Object,cn=an("join",",");Ie({target:"Array",proto:!0,forced:un||!cn},{join:function(t){return ln(C(this),void 0===t?",":t)}});var sn={type:"table",renderElem:function(n,o,i){var a=function(r,n){var o=r.selection;if(null==o)return!0;if(e.Range.isCollapsed(o))return!0;var i=o.anchor,a=o.focus,l=t.DomEditor.findPath(r,n),u=e.Editor.start(r,l),c=e.Editor.end(r,l),s=e.Point.compare(i,c)<=0&&e.Point.compare(i,u)>=0,f=e.Point.compare(a,c)<=0&&e.Point.compare(a,u)>=0;return!!(s&&f&&e.Path.equals(i.path.slice(0,3),a.path.slice(0,3)))}(i,n),l=n.fullWidth,u=[];return void 0!==l&&l&&u.push("full-width"),r.jsx("table",{className:u.join(" "),contentEditable:a},r.jsx("tbody",null,o))}},fn={type:"table-row",renderElem:function(t,e,n){return r.jsx("tr",null,e)}},dn={type:"table-cell",renderElem:function(t,e,n){var o=t,i=o.colSpan,a=void 0===i?1:i,l=o.rowSpan,u=void 0===l?1:l,c=o.isHeader,s=void 0!==c&&c?"th":"td";return r.jsx(s,{colSpan:a,rowSpan:u},e)}};var pn={type:"table",elemToHtml:function(t,e){var r=t.fullWidth,n="";return void 0!==r&&r&&(n+="width: 100%;"),'<table style="'+n+'"><tbody>'+e+"</tbody></table>"}},hn={type:"table-row",elemToHtml:function(t,e){return"<tr>"+e+"</tr>"}},vn={type:"table-cell",elemToHtml:function(t,e){var r=t,n=r.colSpan,o=void 0===n?1:n,i=r.rowSpan,a=void 0===i?1:i,l=r.isHeader,u=void 0!==l&&l?"th":"td";return"<"+u+' colSpan="'+o+'" rowSpan="'+a+'">'+e+"</"+u+">"}},gn=O(O.bind),yn=St("species"),mn=h.Array,bn=function(t,e){return new(function(t){var e;return Br(t)&&(e=t.constructor,(Kr(e)&&(e===mn||Br(e.prototype))||k(e)&&null===(e=e[yn]))&&(e=void 0)),void 0===e?mn:e}(t))(0===e?0:e)},En=O([].push),xn=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,l=5==t||i;return function(u,c,s,f){for(var d,p,h=ft(u),v=z(h),g=function(t,e){return rt(t),void 0===e?t:gn?gn(t,e):function(){return t.apply(e,arguments)}}(c,s),y=me(v),m=0,b=f||bn,E=e?b(u,y):r||a?b(u,0):void 0;y>m;m++)if((l||m in v)&&(p=g(d=v[m],m,h),t))if(e)E[m]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:En(E,d)}else switch(t){case 4:return!1;case 7:En(E,d)}return i?-1:n||o?o:E}},Sn={forEach:xn(0),map:xn(1),filter:xn(2),some:xn(3),every:xn(4),find:xn(5),findIndex:xn(6),filterReject:xn(7)},Tn=St("unscopables"),wn=Array.prototype;null==wn[Tn]&&It.f(wn,Tn,{configurable:!0,value:Tr(null)});var Dn,Nn=Sn.find,Mn="find",On=!0;Mn in[]&&Array(1).find((function(){On=!1})),Ie({target:"Array",proto:!0,forced:On},{find:function(t){return Nn(this,t,arguments.length>1?arguments[1]:void 0)}}),Dn=Mn,wn[Tn][Dn]=!0;var Pn=$e?{}.toString:function(){return"[object "+Ge(this)+"]"};$e||ce(Object.prototype,"toString",Pn,{unsafe:!0});var Rn=Function.prototype,Vn=Rn.apply,Hn=Rn.bind,jn=Rn.call,zn="object"==typeof Reflect&&Reflect.apply||(Hn?jn.bind(Vn):function(){return jn.apply(Vn,arguments)}),An=St("species"),Ln=RegExp.prototype,Cn=function(t,e,r,n){var o=St(t),i=!v((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!v((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[An]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!a||r){var l=O(/./[o]),u=e(o,""[t],(function(t,e,r,n,o){var a=O(t),u=e.exec;return u===kr||u===Ln.exec?i&&!o?{done:!0,value:l(e,r,n)}:{done:!0,value:a(r,e,n)}:{done:!1}}));ce(String.prototype,t,u[0]),ce(Ln,o,u[1])}n&&kt(Ln[o],"sham",!0)},In=h.TypeError,kn=St("species"),Bn=function(t,e){var r,n=At(t).constructor;return void 0===n||null==(r=At(n)[kn])?e:function(t){if(Kr(t))return t;throw In(tt(t)+" is not a constructor")}(r)},$n=O("".charAt),Fn=O("".charCodeAt),Wn=O("".slice),qn=function(t){return function(e,r){var n,o,i=Ue(L(e)),a=de(r),l=i.length;return a<0||a>=l?t?"":void 0:(n=Fn(i,a))<55296||n>56319||a+1===l||(o=Fn(i,a+1))<56320||o>57343?t?$n(i,a):n:t?Wn(i,a,a+2):o-56320+(n-55296<<10)+65536}},Gn={codeAt:qn(!1),charAt:qn(!0)}.charAt,_n=function(t,e,r){return e+(r?Gn(t,e).length:1)},Un=h.Array,Kn=Math.max,Yn=function(t,e,r){for(var n=me(t),o=ve(e,n),i=ve(void 0===r?n:r,n),a=Un(Kn(i-o,0)),l=0;o<i;o++,l++)Yr(a,l,t[o]);return a.length=l,a},Xn=h.TypeError,Jn=function(t,e){var r=t.exec;if(I(r)){var n=m(r,t,e);return null!==n&&At(n),n}if("RegExp"===V(t))return m(kr,t,e);throw Xn("RegExp#exec called on incompatible receiver")},Qn=dr.UNSUPPORTED_Y,Zn=4294967295,to=Math.min,eo=[].push,ro=O(/./.exec),no=O(eo),oo=O("".slice),io=!v((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));Cn("split",(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=Ue(L(this)),o=void 0===r?Zn:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!Qe(t))return m(e,n,t,o);for(var i,a,l,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,f=new RegExp(t.source,c+"g");(i=m(kr,f,n))&&!((a=f.lastIndex)>s&&(no(u,oo(n,s,i.index)),i.length>1&&i.index<n.length&&zn(eo,u,Yn(i,1)),l=i[0].length,s=a,u.length>=o));)f.lastIndex===i.index&&f.lastIndex++;return s===n.length?!l&&ro(f,"")||no(u,""):no(u,oo(n,s)),u.length>o?Yn(u,0,o):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:m(e,this,t,r)}:e,[function(e,r){var o=L(this),i=null==e?void 0:nt(e,t);return i?m(i,e,o,r):m(n,Ue(o),e,r)},function(t,o){var i=At(this),a=Ue(t),l=r(n,i,a,o,n!==e);if(l.done)return l.value;var u=Bn(i,RegExp),c=i.unicode,s=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Qn?"g":"y"),f=new u(Qn?"^(?:"+i.source+")":i,s),d=void 0===o?Zn:o>>>0;if(0===d)return[];if(0===a.length)return null===Jn(f,a)?[a]:[];for(var p=0,h=0,v=[];h<a.length;){f.lastIndex=Qn?0:h;var g,y=Jn(f,Qn?oo(a,h):a);if(null===y||(g=to(ye(f.lastIndex+(Qn?h:0)),a.length))===p)h=_n(a,h,c);else{if(no(v,oo(a,p,h)),v.length===d)return v;for(var m=1;m<=y.length-1;m++)if(no(v,y[m]),v.length===d)return v;h=p=g}}return no(v,oo(a,p)),v}]}),!io,Qn);var ao="\t\n\v\f\r                　\u2028\u2029\ufeff",lo=O("".replace),uo="["+ao+"]",co=RegExp("^"+uo+uo+"*"),so=RegExp(uo+uo+"*$"),fo=function(t){return function(e){var r=Ue(L(e));return 1&t&&(r=lo(r,co,"")),2&t&&(r=lo(r,so,"")),r}},po={start:fo(1),end:fo(2),trim:fo(3)},ho=ue.PROPER,vo=po.trim;function go(t){return t.length?t[0].tagName.toLowerCase():""}Ie({target:"String",proto:!0,forced:function(t){return v((function(){return!!ao[t]()||"​᠎"!=="​᠎"[t]()||ho&&ao[t].name!==t}))}("trim")},{trim:function(){return vo(this)}}),Ie({global:!0},{globalThis:h}),n.append&&(l.default.fn.append=n.append),n.on&&(l.default.fn.on=n.on),n.focus&&(l.default.fn.focus=n.focus),n.attr&&(l.default.fn.attr=n.attr),n.val&&(l.default.fn.val=n.val),n.html&&(l.default.fn.html=n.html),n.dataset&&(l.default.fn.dataset=n.dataset),n.addClass&&(l.default.fn.addClass=n.addClass),n.removeClass&&(l.default.fn.removeClass=n.removeClass),n.children&&(l.default.fn.children=n.children),n.each&&(l.default.fn.each=n.each),n.find&&(l.default.fn.find=n.find);var yo={selector:"table",preParseHtml:function(t){var e=l.default(t);if("table"!==go(e))return t;var r=e.find("tbody");if(0===r.length)return t;var n=e.find("tr");return e.append(n),r.remove(),e[0]}},mo=Sn.filter;Ie({target:"Array",proto:!0,forced:!Jr("filter")},{filter:function(t){return mo(this,t,arguments.length>1?arguments[1]:void 0)}});var bo=Math.floor,Eo=O("".charAt),xo=O("".replace),So=O("".slice),To=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,wo=/\$([$&'`]|\d{1,2})/g,Do=function(t,e,r,n,o,i){var a=r+t.length,l=n.length,u=wo;return void 0!==o&&(o=ft(o),u=To),xo(i,u,(function(i,u){var c;switch(Eo(u,0)){case"$":return"$";case"&":return t;case"`":return So(e,0,r);case"'":return So(e,a);case"<":c=o[So(u,1,-1)];break;default:var s=+u;if(0===s)return i;if(s>l){var f=bo(s/10);return 0===f?i:f<=l?void 0===n[f-1]?Eo(u,1):n[f-1]+Eo(u,1):i}c=n[s-1]}return void 0===c?"":c}))},No=St("replace"),Mo=Math.max,Oo=Math.min,Po=O([].concat),Ro=O([].push),Vo=O("".indexOf),Ho=O("".slice),jo="$0"==="a".replace(/./,"$0"),zo=!!/./[No]&&""===/./[No]("a","$0");Cn("replace",(function(t,e,r){var n=zo?"$":"$0";return[function(t,r){var n=L(this),o=null==t?void 0:nt(t,No);return o?m(o,t,n,r):m(e,Ue(n),t,r)},function(t,o){var i=At(this),a=Ue(t);if("string"==typeof o&&-1===Vo(o,n)&&-1===Vo(o,"$<")){var l=r(e,i,a,o);if(l.done)return l.value}var u=I(o);u||(o=Ue(o));var c=i.global;if(c){var s=i.unicode;i.lastIndex=0}for(var f=[];;){var d=Jn(i,a);if(null===d)break;if(Ro(f,d),!c)break;""===Ue(d[0])&&(i.lastIndex=_n(a,ye(i.lastIndex),s))}for(var p,h="",v=0,g=0;g<f.length;g++){for(var y=Ue((d=f[g])[0]),m=Mo(Oo(de(d.index),a.length),0),b=[],E=1;E<d.length;E++)Ro(b,void 0===(p=d[E])?p:String(p));var x=d.groups;if(u){var S=Po([y],b,m,a);void 0!==x&&Ro(S,x);var T=Ue(zn(o,void 0,S))}else T=Do(y,a,m,b,x,o);m>=v&&(h+=Ho(a,v,m)+T,v=m+y.length)}return h+Ho(a,v)}]}),!!v((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!jo||zo);var Ao={selector:"td,th",parseElemHtml:function(t,r,n){var o=l.default(t);0===(r=r.filter((function(t){return!!e.Text.isText(t)||!!n.isInline(t)}))).length&&(r=[{text:o.text().replace(/\s+/gm," ")}]);var i=parseInt(o.attr("colSpan")||"1"),a=parseInt(o.attr("rowSpan")||"1");return{type:"table-cell",isHeader:"th"===go(o),colSpan:i,rowSpan:a,children:r}}};var Lo={selector:"tr",parseElemHtml:function(e,r,n){return{type:"table-row",children:r.filter((function(e){return"table-cell"===t.DomEditor.getNodeType(e)}))}}};var Co={selector:"table",parseElemHtml:function(e,r,n){var o=l.default(e),i=!1;return i||(i="100%"===function(t,e){for(var r="",n=(t.attr("style")||"").split(";"),o=n.length,i=0;i<o;i++){var a=n[i];if(a){var l=a.split(":");l[0].trim()===e&&(r=l[1].trim())}}return r}(o,"width")),i||(i="100%"===o.attr("width")),{type:"table",fullWidth:i,children:r.filter((function(e){return"table-row"===t.DomEditor.getNodeType(e)}))}}},Io=ue.PROPER,ko="toString",Bo=RegExp.prototype,$o=Bo.toString,Fo=O(ur),Wo=v((function(){return"/a/b"!=$o.call({source:"a",flags:"b"})})),qo=Io&&$o.name!=ko;(Wo||qo)&&ce(RegExp.prototype,ko,(function(){var t=At(this),e=Ue(t.source),r=t.flags;return"/"+e+"/"+Ue(void 0===r&&F(Bo,t)&&!("flags"in Bo)?Fo(t):r)}),{unsafe:!0});var Go=function(){function r(){this.title=t.t("tableModule.insertTable"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M0 64v896h1024V64H0z m384 576v-192h256v192h-256z m256 64v192h-256v-192h256z m0-512v192h-256V192h256zM320 192v192H64V192h256z m-256 256h256v192H64v-192z m640 0h256v192h-256v-192z m0-64V192h256v192h-256zM64 704h256v192H64v-192z m640 192v-192h256v192h-256z"></path></svg>',this.tag="button",this.showDropPanel=!0,this.$content=null}return r.prototype.getValue=function(t){return""},r.prototype.isActive=function(t){return!1},r.prototype.exec=function(t,e){},r.prototype.isDisabled=function(r){var n=r.selection;return null==n||(!e.Range.isCollapsed(n)||!!t.DomEditor.getSelectedElems(r).some((function(e){var n=t.DomEditor.getNodeType(e);return"pre"===n||("table"===n||!!r.isVoid(e))})))},r.prototype.getPanelContentElem=function(t){var e=this;if(this.$content)return this.$content[0];for(var r=l.default('<div class="w-e-panel-content-table"></div>'),n=l.default("<span>0 &times; 0</span>"),o=l.default("<table></table>"),i=0;i<10;i++){for(var a=l.default("<tr></tr>"),u=0;u<10;u++){var c=l.default("<td></td>");c.attr("data-x",u.toString()),c.attr("data-y",i.toString()),a.append(c),c.on("mouseenter",(function(t){var e=t.target;if(null!=e){var r=l.default(e).dataset(),i=r.x,a=r.y;n[0].innerHTML=i+1+" &times; "+(a+1),o.children().each((function(t){l.default(t).children().each((function(t){var e=l.default(t),r=e.dataset(),n=r.x,o=r.y;n<=i&&o<=a?e.addClass("active"):e.removeClass("active")}))}))}})),c.on("mousedown",(function(r){r.preventDefault();var n=r.target;if(null!=n){var o=l.default(n).dataset(),i=o.x,a=o.y;e.insertTable(t,a+1,i+1)}}))}o.append(a)}return r.append(o),r.append(n),this.$content=r,r[0]},r.prototype.insertTable=function(r,n,o){var i=parseInt(n,10),a=parseInt(o,10);if(i&&a&&!(i<=0||a<=0)){var l=t.DomEditor.getSelectedNodeByType(r,"paragraph");l&&""===e.Node.string(l)&&e.Transforms.removeNodes(r,{mode:"highest"});var u=function(t,e){for(var r=[],n=0;n<t;n++){for(var o=[],i=0;i<e;i++){var a={type:"table-cell",children:[{text:""}]};0===n&&(a.isHeader=!0),o.push(a)}r.push({type:"table-row",children:o})}return{type:"table",children:r}}(i,a);e.Transforms.insertNodes(r,u,{mode:"highest"})}},r}(),_o=function(){function r(){this.title=t.t("tableModule.deleteTable"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z" p-id="9577"></path><path d="M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z"></path></svg>',this.tag="button"}return r.prototype.getValue=function(t){return""},r.prototype.isActive=function(t){return!1},r.prototype.isDisabled=function(e){return null==e.selection||null==t.DomEditor.getSelectedNodeByType(e,"table")},r.prototype.exec=function(t,r){this.isDisabled(t)||e.Transforms.removeNodes(t,{mode:"highest"})},r}(),Uo=function(){function r(){this.title=t.t("tableModule.insertRow"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M707.7888 521.0112h-147.456v-147.456H488.2432v147.456h-147.456v68.8128h147.456v147.456h72.0896v-147.456h147.456zM0 917.504V0h1048.576v917.504H0zM327.68 65.536H65.536v196.608H327.68V65.536z m327.68 0H393.216v196.608h262.144V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 258.8672H65.536v462.0288H983.04V324.4032z"></path></svg>',this.tag="button"}return r.prototype.getValue=function(t){return""},r.prototype.isActive=function(t){return!1},r.prototype.isDisabled=function(r){var n=r.selection;return null==n||(!e.Range.isCollapsed(n)||null==t.DomEditor.getSelectedNodeByType(r,"table"))},r.prototype.exec=function(r,n){if(!this.isDisabled(r)){var o=nn(e.Editor.nodes(r,{match:function(e){return t.DomEditor.checkNodeType(e,"table-cell")},universal:!0}),1),i=nn(o[0],2),a=i[0],l=i[1],u=t.DomEditor.getParentNode(r,a),c=(null==u?void 0:u.children.length)||0;if(0!==c){for(var s={type:"table-row",children:[]},f=0;f<c;f++){s.children.push({type:"table-cell",children:[{text:""}]})}var d=e.Path.parent(l),p=e.Path.next(d);e.Transforms.insertNodes(r,s,{at:p})}}},r}(),Ko=function(){function r(){this.title=t.t("tableModule.deleteRow"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M907.6736 586.5472L747.1104 425.984l163.84-163.84-78.6432-78.6432-163.84 163.84L507.904 186.7776 429.2608 262.144l163.84 163.84-167.1168 167.1168 78.6432 78.6432 167.1168-167.1168 160.5632 160.5632 75.3664-78.6432zM0 917.504V0h1048.576v917.504H0z m983.04-327.68h-22.9376l-65.536-65.536H983.04V327.68h-91.7504l65.536-65.536h26.2144V65.536H65.536v196.608h317.8496l65.536 65.536H65.536v196.608h380.1088l-65.536 65.536H65.536v196.608H983.04v-196.608z"></path></svg>',this.tag="button"}return r.prototype.getValue=function(t){return""},r.prototype.isActive=function(t){return!1},r.prototype.isDisabled=function(r){var n=r.selection;return null==n||(!e.Range.isCollapsed(n)||null==t.DomEditor.getSelectedNodeByType(r,"table-row"))},r.prototype.exec=function(r,n){if(!this.isDisabled(r)){var o=nn(e.Editor.nodes(r,{match:function(e){return t.DomEditor.checkNodeType(e,"table-row")},universal:!0}),1),i=nn(o[0],2),a=i[0],l=i[1],u=t.DomEditor.getParentNode(r,a);((null==u?void 0:u.children.length)||0)<=1?e.Transforms.removeNodes(r,{mode:"highest"}):e.Transforms.removeNodes(r,{at:l})}},r}(),Yo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Xo=Pt("span").classList,Jo=Xo&&Xo.constructor&&Xo.constructor.prototype,Qo=Jo===Object.prototype?void 0:Jo,Zo=Sn.forEach,ti=an("forEach")?[].forEach:function(t){return Zo(this,t,arguments.length>1?arguments[1]:void 0)},ei=function(t){if(t&&t.forEach!==ti)try{kt(t,"forEach",ti)}catch(e){t.forEach=ti}};for(var ri in Yo)Yo[ri]&&ei(h[ri]&&h[ri].prototype);function ni(t){var e=t.children||[];return 0===e.length?[]:(e[0]||{}).children||[]}function oi(t){return ni(t).every((function(t){return!!t.isHeader}))}ei(Qo);var ii=function(){function r(){this.title=t.t("tableModule.insertCol"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M327.68 193.3312v186.7776H140.9024v91.7504H327.68v186.7776h88.4736V471.8592h190.0544V380.1088H416.1536V193.3312zM0 917.504V0h1048.576v917.504H0zM655.36 65.536H65.536v720.896H655.36V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 262.144h-262.144v196.608h262.144V327.68z m0 262.144h-262.144v196.608h262.144v-196.608z"></path></svg>',this.tag="button"}return r.prototype.getValue=function(t){return""},r.prototype.isActive=function(t){return!1},r.prototype.isDisabled=function(r){var n=r.selection;return null==n||(!e.Range.isCollapsed(n)||null==t.DomEditor.getSelectedNodeByType(r,"table"))},r.prototype.exec=function(r,n){if(!this.isDisabled(r)){var o=nn(e.Editor.nodes(r,{match:function(e){return t.DomEditor.checkNodeType(e,"table-cell")},universal:!0}),1),i=nn(o[0],2),a=i[0],l=i[1],c=t.DomEditor.getParentNode(r,a);if(null!=c){var s=t.DomEditor.getParentNode(r,c);if(null!=s)(s.children||[]).forEach((function(n,o){e.Element.isElement(n)&&(n.children||[]).forEach((function(n){var i=t.DomEditor.findPath(r,n);if(i.length===l.length&&u.default(i.slice(-1),l.slice(-1))){var a={type:"table-cell",children:[{text:""}]};0===o&&oi(s)&&(a.isHeader=!0),e.Transforms.insertNodes(r,a,{at:i})}}))}))}}},r}(),ai=function(){function r(){this.title=t.t("tableModule.deleteCol"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M327.68 510.976L393.216 445.44v-13.1072L327.68 366.7968V510.976z m327.68-78.4384l65.536-65.536V507.904L655.36 442.368v-9.8304z m393.216 484.9664V0H0v917.504h1048.576z m-65.536-131.072h-262.144v-52.4288l-13.1072 13.1072-52.4288-52.4288v91.7504H393.216v-91.7504l-52.4288 52.4288-13.1072-13.1072v52.4288H65.536V65.536H327.68v121.2416l36.0448-36.0448 29.4912 29.4912V62.2592h262.144V180.224l49.152-49.152 16.384 16.384V62.2592h262.144V786.432z m-294.912-108.1344l-160.5632-160.5632-167.1168 167.1168-78.6432-78.6432 167.1168-167.1168L288.3584 278.528l78.6432-78.6432 160.5632 160.5632 163.84-163.84 78.6432 78.6432-163.84 163.84 160.5632 160.5632-78.6432 78.6432z"></path></svg>',this.tag="button"}return r.prototype.getValue=function(t){return""},r.prototype.isActive=function(t){return!1},r.prototype.isDisabled=function(r){var n=r.selection;return null==n||(!e.Range.isCollapsed(n)||null==t.DomEditor.getSelectedNodeByType(r,"table-cell"))},r.prototype.exec=function(r,n){if(!this.isDisabled(r)){var o=nn(e.Editor.nodes(r,{match:function(e){return t.DomEditor.checkNodeType(e,"table-cell")},universal:!0}),1),i=nn(o[0],2),a=i[0],l=i[1],c=t.DomEditor.getParentNode(r,a),s=(null==c?void 0:c.children.length)||0;if(!c||s<=1)e.Transforms.removeNodes(r,{mode:"highest"});else{var f=t.DomEditor.getParentNode(r,c);if(null!=f)(f.children||[]).forEach((function(n){e.Element.isElement(n)&&(n.children||[]).forEach((function(n){var o=t.DomEditor.findPath(r,n);o.length===l.length&&u.default(o.slice(-1),l.slice(-1))&&e.Transforms.removeNodes(r,{at:o})}))}))}}},r}(),li=function(){function r(){this.title=t.t("tableModule.header"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M704 128l-64 0L384 128 320 128 0 128l0 256 0 64 0 192 0 64 0 256 320 0 64 0 256 0 64 0 320 0 0-256 0-64L1024 448 1024 384 1024 128 704 128zM640 640 384 640 384 448l256 0L640 640zM64 448l256 0 0 192L64 640 64 448zM320 896 64 896l0-192 256 0L320 896zM640 896 384 896l0-192 256 0L640 896zM960 896l-256 0 0-192 256 0L960 896zM960 640l-256 0L704 448l256 0L960 640z"></path></svg>',this.tag="button"}return r.prototype.getValue=function(e){var r=t.DomEditor.getSelectedNodeByType(e,"table");return null!=r&&oi(r)},r.prototype.isActive=function(t){return!!this.getValue(t)},r.prototype.isDisabled=function(r){var n=r.selection;return null==n||(!e.Range.isCollapsed(n)||null==t.DomEditor.getSelectedNodeByType(r,"table"))},r.prototype.exec=function(r,n){if(!this.isDisabled(r)){var o=!n,i=t.DomEditor.getSelectedNodeByType(r,"table");if(null!=i)ni(i).forEach((function(n){return e.Transforms.setNodes(r,{isHeader:o},{at:t.DomEditor.findPath(r,n)})}))}},r}(),ui=function(){function r(){this.title=t.t("tableModule.widthAuto"),this.iconSvg='<svg viewBox="0 0 1228 1024"><path d="M862.514337 563.200461H404.581995v121.753478a13.311987 13.311987 0 0 1-6.655993 11.468789 10.23999 10.23999 0 0 1-12.083188-1.433599l-204.799795-179.199821a13.721586 13.721586 0 0 1 0-20.479979l204.799795-179.302221a10.23999 10.23999 0 0 1 12.185588-1.535998 13.209587 13.209587 0 0 1 6.553593 11.673588v115.097485h457.932342V319.693504a11.571188 11.571188 0 0 1 18.841582-10.239989l204.799795 179.19982a13.721586 13.721586 0 0 1 0 20.47998l-204.799795 179.199821a10.23999 10.23999 0 0 1-12.185588 1.535998 13.311987 13.311987 0 0 1-6.655994-11.571188V563.200461zM136.499064 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785H15.155185A15.155185 15.155185 0 0 1 0 1008.844815V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086294a15.155185 15.155185 0 0 1 15.257585 15.155185zM1228.798771 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785h-106.188693a15.155185 15.155185 0 0 1-15.155185-15.052785V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086293A15.155185 15.155185 0 0 1 1228.798771 15.053809z"></path></svg>',this.tag="button"}return r.prototype.getValue=function(e){var r=t.DomEditor.getSelectedNodeByType(e,"table");return null!=r&&!!r.fullWidth},r.prototype.isActive=function(t){return!!this.getValue(t)},r.prototype.isDisabled=function(r){var n=r.selection;return null==n||(!e.Range.isCollapsed(n)||null==t.DomEditor.getSelectedNodeByType(r,"table"))},r.prototype.exec=function(t,r){if(!this.isDisabled(t)){var n={fullWidth:!r||null};e.Transforms.setNodes(t,n,{mode:"highest"})}},r}(),ci={renderElems:[sn,fn,dn],elemsToHtml:[pn,hn,vn],preParseHtml:[yo],parseElemsHtml:[Ao,Lo,Co],menus:[{key:"insertTable",factory:function(){return new Go}},{key:"deleteTable",factory:function(){return new _o}},{key:"insertTableRow",factory:function(){return new Uo}},{key:"deleteTableRow",factory:function(){return new Ko}},{key:"insertTableCol",factory:function(){return new ii}},{key:"deleteTableCol",factory:function(){return new ai}},{key:"tableHeader",factory:function(){return new li}},{key:"tableFullWidth",factory:function(){return new ui}}],editorPlugin:function(r){var n=r.insertBreak,o=r.deleteBackward,i=r.deleteForward,a=r.normalizeNode,l=r.insertData,u=r.handleTab,c=r.selectAll,s=r;return s.insertBreak=function(){null==t.DomEditor.getSelectedNodeByType(s,"table")?n():s.insertText("\n")},s.deleteBackward=function(t){on(s)||o(t)},s.handleTab=function(){var n;if(t.DomEditor.getSelectedNodeByType(s,"table")){var o=e.Editor.above(r);t.DomEditor.checkNodeType(o[0],"table-cell")&&e.Transforms.select(r,o[1]);var i=e.Editor.next(r);if(i)i[0]&&i[0].text&&(i=null!==(n=e.Editor.above(r,{at:i[1]}))&&void 0!==n?n:i),e.Transforms.select(r,i[1]);else{var a=s.children||[],l=a.length;if(t.DomEditor.checkNodeType(a[l-1],"table")){var c={type:"paragraph",children:[{text:""}]};e.Transforms.insertNodes(s,c,{at:[l]}),s.handleTab()}}}else u()},s.deleteForward=function(t){on(s)||i(t)},s.normalizeNode=function(r){var n=nn(r,2),o=n[0],i=n[1];if("table"!==t.DomEditor.getNodeType(o))return a([o,i]);o.children;var l=s.children||[],u=l.length,c=l[0]===o,f=l[u-1]===o;c&&!f&&e.Transforms.insertNodes(s,{type:"paragraph",children:[{text:""}]},{at:i}),f&&!c&&e.Transforms.insertNodes(s,{type:"paragraph",children:[{text:""}]},{at:[i[0]+1]}),c&&f&&(e.Transforms.insertNodes(s,{type:"paragraph",children:[{text:""}]},{at:i}),e.Transforms.insertNodes(s,{type:"paragraph",children:[{text:""}]},{at:[i[0]+2]}));var d=l[i[0]+1]||{};if(e.Element.isElement(d)){var p=d.type,h=void 0===p?"":p;if("paragraph"!==h&&"blockquote"!==h&&!h.startsWith("header")){var v={type:"paragraph",children:[{text:""}]},g=[i[0]+1];e.Transforms.insertNodes(s,v,{at:g})}}var y=l[i[0]-1]||{};if(e.Element.isElement(y)&&("table"===t.DomEditor.getNodeType(y)||s.isVoid(y))){v={type:"paragraph",children:[{text:""}]};e.Transforms.insertNodes(s,v,{at:i})}},s.insertData=function(r){if(null!=t.DomEditor.getSelectedNodeByType(s,"table")){var n=r.getData("text/plain");"\n"===n||/<img[^>]+>/.test(r.getData("text/html"))?l(r):e.Editor.insertText(s,n)}else l(r)},s.selectAll=function(){var r=s.selection;if(null!=r){var n=t.DomEditor.getSelectedNodeByType(s,"table-cell");if(null!=n){var o=r.anchor,i=r.focus;if(e.Path.equals(o.path.slice(0,3),i.path.slice(0,3)))if(0!==e.Node.string(n).length){var a=t.DomEditor.findPath(s,n),l={anchor:e.Editor.start(s,a),focus:e.Editor.end(s,a)};s.select(l)}else c();else c()}else c()}else c()},s}};return ci}));
//# sourceMappingURL=index.js.map

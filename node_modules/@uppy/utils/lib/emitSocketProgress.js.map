{"version":3,"sources":["emitSocketProgress.js"],"names":["throttle","require","emitSocketProgress","uploader","progressData","file","progress","bytesUploaded","bytesTotal","uppy","log","emit","module","exports","leading","trailing"],"mappings":";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,iBAAD,CAAxB;;AAEA,SAASC,kBAAT,CAA6BC,QAA7B,EAAuCC,YAAvC,EAAqDC,IAArD,EAA2D;AACzD,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,aAAZ;AAA2BC,IAAAA;AAA3B,MAA0CJ,YAAhD;;AACA,MAAIE,QAAJ,EAAc;AACZH,IAAAA,QAAQ,CAACM,IAAT,CAAcC,GAAd,CAAmB,oBAAmBJ,QAAS,EAA/C;AACAH,IAAAA,QAAQ,CAACM,IAAT,CAAcE,IAAd,CAAmB,iBAAnB,EAAsCN,IAAtC,EAA4C;AAC1CF,MAAAA,QAD0C;AAE1CI,MAAAA,aAF0C;AAG1CC,MAAAA;AAH0C,KAA5C;AAKD;AACF;;AAEDI,MAAM,CAACC,OAAP,GAAiBb,QAAQ,CAACE,kBAAD,EAAqB,GAArB,EAA0B;AACjDY,EAAAA,OAAO,EAAE,IADwC;AAEjDC,EAAAA,QAAQ,EAAE;AAFuC,CAA1B,CAAzB","sourcesContent":["const throttle = require('lodash.throttle')\n\nfunction emitSocketProgress (uploader, progressData, file) {\n  const { progress, bytesUploaded, bytesTotal } = progressData\n  if (progress) {\n    uploader.uppy.log(`Upload progress: ${progress}`)\n    uploader.uppy.emit('upload-progress', file, {\n      uploader,\n      bytesUploaded,\n      bytesTotal,\n    })\n  }\n}\n\nmodule.exports = throttle(emitSocketProgress, 300, {\n  leading: true,\n  trailing: true,\n})\n"]}